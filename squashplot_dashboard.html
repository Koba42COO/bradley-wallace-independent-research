<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SquashPlot Pro - Production Ready UI/UX</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/lib/marked.umd.js"></script>
    <style>
        /* Black Glass Design System - Production Ready */
        :root {
            --primary-color: #00d4ff;
            --secondary-color: #00ff88;
            --accent-color: #ff6b6b;
            --danger-color: #ff4757;
            --success-color: #2ecc71;
            --warning-color: #ffa502;
            --info-color: #3742fa;
            --dark-bg: #0a0a0a;
            --darker-bg: #050505;
            --glass-bg: rgba(13, 13, 13, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-muted: #808080;
            --border-radius: 16px;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 16px 64px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(0, 212, 255, 0.3);
            --glow-secondary: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--dark-bg) 0%, var(--darker-bg) 50%, #1a1a1a 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 107, 107, 0.05) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header with Server Status - Production Ready */
        .dashboard-header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            box-shadow: var(--glow);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-left h1 {
            font-size: 2.8rem;
            font-weight: 700;
        }

        .ai-research-link {
            margin-top: 10px;
        }

        .ai-research-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-research-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
            border-color: var(--secondary-color);
        }

        .ai-research-btn i {
            font-size: 1rem;
        }
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
            text-shadow: var(--glow);
            filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.3));
        }

        .header-left .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .header-left .version-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent-color), var(--warning-color));
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 10px;
        }

        /* Server Status Widget - Enhanced */
        .server-status-widget {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .server-status-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: sweep 3s ease-in-out infinite;
        }

        @keyframes sweep {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--danger-color);
            animation: pulse 2s infinite;
            transition: all 0.3s ease;
        }

        .status-indicator.online {
            background: var(--success-color);
            animation: none;
        }

        .status-indicator.checking {
            background: var(--warning-color);
            animation: spin 1s linear infinite;
        }

        .status-text {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .refresh-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 6px;
            border-radius: 50%;
            transition: background 0.2s ease;
            color: var(--text-secondary);
        }

        .refresh-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            color: var(--text-primary);
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: rgba(46, 125, 62, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
        }

        .nav-tab {
            flex: 1;
            padding: 18px 24px;
            border: none;
            background: none;
            font-size: 1rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            position: relative;
        }

        .nav-tab.active {
            color: var(--text-primary);
            border-bottom-color: var(--primary-color);
            background: rgba(0, 212, 255, 0.1);
            backdrop-filter: blur(15px);
            font-weight: 600;
        }

        .nav-tab:hover {
            background: rgba(92, 184, 92, 0.1);
            color: var(--text-primary);
        }

        .nav-tab i {
            margin-right: 8px;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .dashboard-card:hover::before {
            opacity: 1;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Plotter Selection - Dr. Plotter Integration */
        .plotter-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .plotter-option {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 2px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .plotter-option.selected {
            border-color: var(--primary-color);
            box-shadow: var(--glow);
            background: rgba(0, 212, 255, 0.1);
        }

        .plotter-option:hover {
            border-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .plotter-option .plotter-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .plotter-option.dr-plotter .plotter-icon {
            color: var(--accent-color);
        }

        .plotter-option h4 {
            color: var(--text-primary);
            margin-bottom: 5px;
            font-weight: 600;
        }

        .plotter-option p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: var(--glow);
            background: rgba(255, 255, 255, 0.1);
        }

        .form-group input::placeholder {
            color: var(--text-muted);
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: var(--glow);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:disabled {
            background: rgba(74, 103, 65, 0.5);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-pro {
            background: linear-gradient(135deg, var(--accent-color), var(--warning-color));
        }

        .btn-pro:hover {
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
        }

        /* CLI Integration */
        .cli-commands-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .cli-command-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            color: var(--text-primary);
            padding: 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--glass-border);
            text-align: left;
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        .cli-command-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .cli-command-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--glow);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .cli-command-card:hover::before {
            transform: scaleX(1);
        }

        .cli-command-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .cli-command-desc {
            font-size: 0.85rem;
            opacity: 0.9;
            line-height: 1.4;
        }

        .custom-cli-form {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
            border: 1px solid var(--glass-border);
        }

        .custom-cli-form input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .custom-cli-form input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: var(--glow);
            background: rgba(255, 255, 255, 0.1);
        }

        .custom-cli-form input::placeholder {
            color: var(--text-muted);
        }

        /* Progress and Status */
        .progress-container {
            margin-top: 20px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 14px;
            background: rgba(74, 103, 65, 0.2);
            border-radius: 7px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            width: 0%;
            transition: width 0.3s ease;
        }

        .status-text {
            margin-top: 12px;
            font-weight: 500;
            color: var(--text-primary);
            text-align: center;
        }

        /* Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .metric-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            padding: 18px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow: var(--glow);
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* Wallet Integration */
        .wallet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .wallet-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .wallet-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        .wallet-card .wallet-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .wallet-card h4 {
            color: var(--text-primary);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .wallet-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        /* CLI Output */
        .cli-output {
            background: rgba(0,0,0,0.3);
            color: #e0e0e0;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .nav-tabs {
                flex-wrap: wrap;
            }

            .nav-tab {
                flex: none;
                min-width: 50%;
            }

            .header-left h1 {
                font-size: 2.2rem;
            }

            .plotter-selector {
                grid-template-columns: 1fr;
            }

            .cli-commands-grid {
                grid-template-columns: 1fr;
            }

            .wallet-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Content Sections */
        .content-section {
            display: block;
            min-height: 100vh;
            padding: 40px 0;
        }

        .content-section.active {
            /* No special styling needed for active sections in scroll navigation */
        }

        /* Experimental Features Styles */
        .experimental-feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 15px;
            transition: all 0.3s ease;
        }

        .experimental-feature-card:hover {
            border-color: rgba(0, 212, 255, 0.3);
            background: rgba(0, 212, 255, 0.05);
        }

        .experimental-feature-card.active {
            border-color: var(--primary-color);
            background: rgba(0, 212, 255, 0.1);
            box-shadow: var(--glow);
        }

        /* Toggle Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(74, 103, 65, 0.3);
            transition: 0.4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Feature Analytics Styles */
        .feature-analytics {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            border: 1px solid var(--glass-border);
        }

        .feature-analytics div {
            margin-bottom: 3px;
        }

        .feature-analytics div:last-child {
            margin-bottom: 0;
        }

        /* Technical Analysis Styles */
        .analytics-controls {
            display: flex;
            gap: 15px;
            align-items: end;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .analytics-controls .form-group {
            flex: 1;
            min-width: 150px;
        }

        .technical-summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .summary-item {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .summary-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .technical-charts {
            display: grid;
            gap: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chart-container h4 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .signals-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .signals-panel h4 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .signals-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .signal-item {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--primary-color);
            font-size: 0.9rem;
        }

        .signal-item.bullish {
            border-left-color: var(--success-color);
        }

        .signal-item.bearish {
            border-left-color: var(--danger-color);
        }

        /* Chat Message Markdown Styling */
        .message-content p {
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .message-content h1,
        .message-content h2,
        .message-content h3,
        .message-content h4 {
            color: var(--primary-color);
            margin-top: 16px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .message-content h1 { font-size: 1.4em; }
        .message-content h2 { font-size: 1.3em; }
        .message-content h3 { font-size: 1.2em; }
        .message-content h4 { font-size: 1.1em; }

        .message-content ul,
        .message-content ol {
            margin-left: 20px;
            margin-bottom: 8px;
        }

        .message-content li {
            margin-bottom: 4px;
        }

        .message-content strong,
        .message-content b {
            color: var(--secondary-color);
            font-weight: 600;
        }

        .message-content code {
            background: rgba(0, 212, 255, 0.1);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .message-content pre {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 8px 0;
        }

        .message-content pre code {
            background: transparent;
            padding: 0;
        }

        .message-content blockquote {
            border-left: 4px solid var(--primary-color);
            padding-left: 16px;
            margin: 8px 0;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Portfolio Styles */
        .portfolio-summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .holdings-table {
            overflow-x: auto;
        }

        .holdings-table table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            overflow: hidden;
        }

        .holdings-table th,
        .holdings-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .holdings-table th {
            background: rgba(0, 0, 0, 0.3);
            font-weight: 600;
            color: var(--text-primary);
        }

        .holdings-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .holdings-table .positive {
            color: var(--success-color);
        }

        .holdings-table .negative {
            color: var(--danger-color);
        }

        .allocation-chart,
        .performance-chart {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
        }

        /* Modal Styles for Add Holding */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background: var(--bg-primary);
            margin: 15% auto;
            padding: 20px;
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
        }

        .close {
            color: var(--text-secondary);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: var(--text-primary);
        }

        /* Alerts Styles */
        .alerts-summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .alerts-table {
            overflow-x: auto;
        }

        .alerts-table table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            overflow: hidden;
        }

        .alerts-table th,
        .alerts-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .alerts-table th {
            background: rgba(0, 0, 0, 0.3);
            font-weight: 600;
            color: var(--text-primary);
        }

        .alerts-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .alert-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .alert-status.active {
            background: var(--success-color);
            color: #000;
        }

        .alert-status.triggered {
            background: var(--warning-color);
            color: #000;
        }

        .alert-status.paused {
            background: var(--text-secondary);
            color: var(--bg-primary);
        }

        .alert-history-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .alert-history-item {
            padding: 10px 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--primary-color);
        }

        .alert-history-item.triggered {
            border-left-color: var(--success-color);
        }

        .alert-history-item.price {
            border-left-color: var(--warning-color);
        }

        .alert-history-item.technical {
            border-left-color: var(--secondary-color);
        }

        .alert-history-item.volume {
            border-left-color: #8b5cf6;
        }

        .alert-history-time {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .alert-type {
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .alert-type.price {
            background: var(--warning-color);
            color: #000;
        }

        .alert-type.technical {
            background: var(--secondary-color);
            color: #000;
        }

        .alert-type.volume {
            background: #8b5cf6;
            color: #fff;
        }

        /* News & Sentiment Styles */
        .sentiment-overview {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .sentiment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .sentiment-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sentiment-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .sentiment-score {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .sentiment-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .sentiment-trend {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 12px;
        }

        .sentiment-trend.positive {
            background: var(--success-color);
            color: #000;
        }

        .sentiment-trend.greed {
            background: #10b981;
            color: #fff;
        }

        .news-feed {
            max-height: 600px;
            overflow-y: auto;
        }

        .news-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .news-item {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .news-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .news-item.positive {
            border-left-color: var(--success-color);
        }

        .news-item.negative {
            border-left-color: var(--danger-color);
        }

        .news-item.neutral {
            border-left-color: var(--text-secondary);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .news-title {
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            font-size: 1rem;
        }

        .news-meta {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .news-source {
            background: var(--primary-color);
            color: #000;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        .news-time {
            color: var(--text-muted);
        }

        .news-sentiment {
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .news-sentiment.positive {
            background: var(--success-color);
            color: #000;
        }

        .news-sentiment.negative {
            background: var(--danger-color);
            color: #fff;
        }

        .news-sentiment.neutral {
            background: var(--text-secondary);
            color: #000;
        }

        .news-summary {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .filter-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-primary);
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .sentiment-chart,
        .trending-assets {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
        }

        .trending-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .trending-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--primary-color);
        }

        .trending-item.rank-1 {
            border-left-color: #ffd700;
        }

        .trending-item.rank-2 {
            border-left-color: #c0c0c0;
        }

        .trending-item.rank-3 {
            border-left-color: #cd7f32;
        }

        .trending-symbol {
            font-weight: 600;
            color: var(--text-primary);
        }

        .trending-name {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .trending-score {
            font-weight: 600;
            color: var(--primary-color);
        }

        /* AI Visuals Styles */
        .network-visualization {
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        .node-circle {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            color: white;
        }

        .node-circle:hover {
            transform: scale(1.2);
            border-color: var(--primary-color);
        }

        .node-circle.inference { background: linear-gradient(45deg, #3b82f6, #1d4ed8); }
        .node-circle.training { background: linear-gradient(45deg, #10b981, #059669); }
        .node-circle.coordinator { background: linear-gradient(45deg, #f59e0b, #d97706); }
        .node-circle.storage { background: linear-gradient(45deg, #8b5cf6, #6d28d9); }
        .node-circle.gateway { background: linear-gradient(45deg, #ef4444, #dc2626); }

        .node-circle.active { box-shadow: 0 0 15px rgba(0, 212, 255, 0.6); }
        .node-circle.idle { opacity: 0.7; }
        .node-circle.offline { opacity: 0.4; background: #666; }

        .metric-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-left: auto;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .performance-metrics,
        .workflow-status,
        .resource-usage,
        .model-status {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .insight-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--primary-color);
        }

        .insight-card.success { border-left-color: var(--success-color); }
        .insight-card.warning { border-left-color: var(--warning-color); }
        .insight-card.error { border-left-color: var(--danger-color); }

        .insight-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .insight-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .insight-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .workflow-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--primary-color);
        }

        .workflow-item.running { border-left-color: var(--warning-color); }
        .workflow-item.completed { border-left-color: var(--success-color); }
        .workflow-item.failed { border-left-color: var(--danger-color); }

        .workflow-info h4 {
            margin: 0;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .workflow-meta {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .workflow-progress {
            width: 60px;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .workflow-progress-bar {
            height: 100%;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 8px;
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 15px 20px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left: 4px solid var(--success-color);
        }

        .toast.error {
            border-left: 4px solid var(--danger-color);
        }

        .toast.warning {
            border-left: 4px solid var(--warning-color);
        }

        /* Chat Controls */
        .chat-controls {
            display: flex;
            gap: 15px;
            align-items: end;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .chat-controls .form-group {
            flex: 1;
            min-width: 150px;
        }

        /* Intelligent Chatbot Styles */
        .chatbot-container {
            display: flex;
            flex-direction: column;
            height: 400px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            scroll-behavior: smooth;
        }

        .chat-message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .message-content {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 15px;
            border-left: 3px solid var(--primary-color);
        }

        .message-avatar {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .message-text {
            font-size: 0.9rem;
            line-height: 1.4;
            color: #ffffff;
        }

        .chat-message.user .message-content {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-left-color: var(--secondary-color);
            color: #000;
        }

        .chat-message.user .message-text {
            color: #000;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-input {
            flex: 1;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #ffffff;
            font-size: 0.9rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .chat-input::placeholder {
            color: #888;
        }

        .chat-send-btn {
            padding: 10px 15px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 20px;
            color: #000;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 40px;
        }

        .chat-send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.4);
        }

        .chat-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .typing-indicator {
            display: none;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 3px solid var(--primary-color);
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--primary-color);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Production Ready Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-left">
                    <h1>SquashPlot Pro</h1>
                    <div class="subtitle">Advanced Chia Compression with Dr. Plotter & CLI Integration</div>
                    <div class="ai-research-link">
                        <a href="/ai-research" class="ai-research-btn">
                            <i class="fas fa-brain"></i>
                            AI Research Platform
                        </a>
                        <a href="/harvesters" class="ai-research-btn" style="margin-left: 10px;">
                            <i class="fas fa-server"></i>
                            Harvester Fleet
                        </a>
                    </div>
                    <div class="version-badge">Production Ready v2.0</div>
                </div>

                <!-- Enhanced Server Status Widget -->
                <div class="server-status-widget" id="serverStatusWidget">
                    <div class="status-indicator checking" id="statusIndicator"></div>
                    <span class="status-text" id="statusText">Checking server...</span>
                    <button class="refresh-btn" onclick="checkServerStatus()" title="Refresh server status">
                        ðŸ”„
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <a href="#dashboard" class="nav-tab active" onclick="scrollToSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i>Dashboard
            </a>
            <a href="#price-charts" class="nav-tab" onclick="scrollToSection('price-charts')">
                <i class="fas fa-chart-line"></i>Price Charts
            </a>
            <a href="#technical-analysis" class="nav-tab" onclick="scrollToSection('technical-analysis')">
                <i class="fas fa-chart-bar"></i>Technical Analysis
            </a>
            <a href="#portfolio" class="nav-tab" onclick="scrollToSection('portfolio')">
                <i class="fas fa-briefcase"></i>Portfolio
            </a>
            <a href="#alerts" class="nav-tab" onclick="scrollToSection('alerts')">
                <i class="fas fa-bell"></i>Alerts
            </a>
            <a href="#news" class="nav-tab" onclick="scrollToSection('news')">
                <i class="fas fa-newspaper"></i>News
            </a>
            <a href="#ai-visuals" class="nav-tab" onclick="scrollToSection('ai-visuals')">
                <i class="fas fa-brain"></i>AI Visuals
            </a>
            <a href="#plotting" class="nav-tab" onclick="scrollToSection('plotting')">
                <i class="fas fa-cogs"></i>Plotting
            </a>
            <a href="#wallet" class="nav-tab" onclick="scrollToSection('wallet')">
                <i class="fas fa-wallet"></i>Wallets
            </a>
            <a href="#calculator" class="nav-tab" onclick="scrollToSection('calculator')">
                <i class="fas fa-calculator"></i>ROI Calculator
            </a>
            <a href="#cli" class="nav-tab" onclick="scrollToSection('cli')">
                <i class="fas fa-terminal"></i>CLI Commands
            </a>
            <a href="#settings" class="nav-tab" onclick="scrollToSection('settings')">
                <i class="fas fa-cog"></i>Settings
            </a>
            <a href="#experimental" class="nav-tab" onclick="scrollToSection('experimental')">
                <i class="fas fa-flask"></i>Experimental
            </a>
        </nav>

        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="dashboard-grid">
                <!-- System Overview -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--info-color), var(--primary-color));">
                            ðŸ“Š
                        </div>
                        <h3 class="card-title">System Overview</h3>
                    </div>
                    <div class="metrics-grid" id="systemMetrics">
                        <div class="metric-card">
                            <div class="metric-value" id="cpuUsage">--</div>
                            <div class="metric-label">CPU Usage</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="memoryUsage">--</div>
                            <div class="metric-label">Memory</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="diskUsage">--</div>
                            <div class="metric-label">Disk</div>
                        </div>
                    </div>
                </div>

                <!-- Compression Stats -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--success-color), var(--secondary-color));">
                            ðŸ—œï¸
                        </div>
                        <h3 class="card-title">Compression Stats</h3>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="totalPlots">--</div>
                            <div class="metric-label">Total Plots</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="spaceSaved">--</div>
                            <div class="metric-label">Space Saved</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="compressionRatio">--</div>
                            <div class="metric-label">Avg Ratio</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--warning-color), var(--accent-color));">
                            ðŸ“ˆ
                        </div>
                        <h3 class="card-title">Recent Activity</h3>
                    </div>
                    <div id="recentActivity">
                        <div style="text-align: center; color: var(--text-secondary); padding: 20px;">
                            No recent activity
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--danger-color), var(--warning-color));">
                            âš¡
                        </div>
                        <h3 class="card-title">Quick Actions</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button class="cli-command-card" onclick="runBenchmark()" style="padding: 15px; margin: 0;">
                            <div class="cli-command-title">Run Benchmark</div>
                            <div class="cli-command-desc">Test compression performance</div>
                        </button>

                        <button class="cli-command-card" onclick="validateCompression()" style="padding: 15px; margin: 0;">
                            <div class="cli-command-title">Validate Compression</div>
                            <div class="cli-command-desc">Check data integrity</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Live Price Charts & Projections Section -->
        <section id="price-charts" class="content-section">
            <div class="dashboard-grid">
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #00ff88, #0099ff);">
                            ðŸ“ˆ
                        </div>
                        <h3 class="card-title">Live Chia Price Charts & Projections</h3>
                        <div class="card-description">Real-time price tracking with advanced trigonometric projections and technical analysis</div>
                    </div>

                    <!-- Price Controls -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                        <div class="dashboard-card" style="background: var(--secondary-bg); padding: 20px;">
                            <h4 style="color: var(--accent-color); margin-bottom: 12px;">Current Price</h4>
                            <div style="font-size: 2rem; font-weight: bold; color: var(--accent-color); margin-bottom: 8px;" id="current-price">
                                $0.00
                            </div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;" id="price-change">
                                +0.00% (24h)
                            </div>
                            <div style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 4px;" id="last-update">
                                Last updated: --
                            </div>
                        </div>

                        <div class="dashboard-card" style="background: var(--secondary-bg); padding: 20px;">
                            <h4 style="color: var(--accent-color); margin-bottom: 12px;">Projection Controls</h4>
                            <select id="timeframe" style="width: 100%; padding: 8px; margin-bottom: 12px; background: var(--glass-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary);">
                                <option value="1h">1 Hour</option>
                                <option value="4h">4 Hours</option>
                                <option value="1d" selected>1 Day</option>
                                <option value="1w">1 Week</option>
                                <option value="1M">1 Month</option>
                            </select>
                            <select id="projection-type" style="width: 100%; padding: 8px; margin-bottom: 12px; background: var(--glass-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary);">
                                <option value="trigonometric">Trigonometric Projection</option>
                                <option value="fibonacci">Fibonacci Retracement</option>
                                <option value="bollinger">Bollinger Bands</option>
                                <option value="rsi">RSI Analysis</option>
                                <option value="combined">Combined Analysis</option>
                            </select>

                            <button onclick="calculateProjections()" style="width: 100%; padding: 10px; background: linear-gradient(45deg, var(--warning-color), #ff8800); border: none; border-radius: 6px; color: white; font-weight: 600; cursor: pointer; transition: transform 0.2s;">
                                ðŸ”® Calculate Projections
                            </button>
                        </div>

                        <div class="dashboard-card" style="background: var(--secondary-bg); padding: 20px;">
                            <h4 style="color: var(--accent-color); margin-bottom: 12px;">Market Indicators</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <div>
                                    <div style="font-size: 0.9rem; color: var(--text-secondary);">24h Volume</div>
                                    <div style="font-size: 1.1rem; font-weight: bold; color: var(--accent-color);" id="volume-24h">--</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.9rem; color: var(--text-secondary);">Market Cap</div>
                                    <div style="font-size: 1.1rem; font-weight: bold; color: var(--accent-color);" id="market-cap">--</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.9rem; color: var(--text-secondary);">ATH</div>
                                    <div style="font-size: 1.1rem; font-weight: bold; color: var(--success-color);" id="ath">--</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.9rem; color: var(--text-secondary);">ATL</div>
                                    <div style="font-size: 1.1rem; font-weight: bold; color: var(--danger-color);" id="atl">--</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Price Chart -->
                    <div style="background: var(--secondary-bg); border-radius: 16px; padding: 24px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: var(--accent-color); margin: 0;">Chia Price Chart & Projections</h3>
                            <div style="display: flex; gap: 10px;">
                                <button onclick="refreshPriceData()" style="padding: 8px 16px; background: var(--accent-color); color: white; border: none; border-radius: 6px; cursor: pointer;">
                                    ðŸ”„ Refresh
                                </button>
                                <button onclick="toggleProjections()" style="padding: 8px 16px; background: var(--glass-bg); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer;" id="projection-toggle">
                                    ðŸ“Š Show Projections
                                </button>
                            </div>
                        </div>
                        <div style="position: relative; height: 400px; width: 100%; overflow: hidden; border-radius: 8px; background: var(--glass-bg);">
                            <!-- Grafana Embedded Dashboard -->
                            <iframe id="grafanaDashboard"
                                    src="/grafana-dashboard"
                                    style="width: 100%; height: 400px; border: none; border-radius: 8px;"
                                    title="Chia Price Analytics Dashboard"
                                    onload="onGrafanaLoad()"
                                    onerror="onGrafanaError()">
                            </iframe>

                            <!-- Fallback Chart.js if Grafana fails -->
                            <!-- Highcharts Alternative -->
                            <div id="highchartsContainer" style="width: 100%; height: 400px; display: none;" class="highcharts-chart"></div>

                            <canvas id="priceChart" style="width: 100%; height: 400px; display: none;" class="fallback-chart"></canvas>

                            <!-- Loading indicator -->
                            <div id="chartLoading" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--accent-color); font-size: 16px;">
                                ðŸ“Š Loading Grafana Dashboard...
                            </div>
                        </div>
                    </div>

                    <!-- Projection Analysis -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Technical Indicators -->
                        <div style="background: var(--secondary-bg); border-radius: 16px; padding: 24px;">
                            <h4 style="color: var(--accent-color); margin-bottom: 20px;">ðŸ“Š Technical Indicators</h4>

                            <div style="display: flex; flex-direction: column; gap: 16px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--glass-bg); border-radius: 8px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-primary);">RSI (14)</div>
                                        <div style="font-size: 0.9rem; color: var(--text-secondary);">Relative Strength Index</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 1.2rem; font-weight: bold;" id="rsi-value">--</div>
                                        <div style="font-size: 0.8rem; color: var(--text-secondary);" id="rsi-signal">--</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--glass-bg); border-radius: 8px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-primary);">MACD</div>
                                        <div style="font-size: 0.9rem; color: var(--text-secondary);">Moving Average Convergence Divergence</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 1.2rem; font-weight: bold;" id="macd-value">--</div>
                                        <div style="font-size: 0.8rem; color: var(--text-secondary);" id="macd-signal">--</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--glass-bg); border-radius: 8px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-primary);">Bollinger Bands</div>
                                        <div style="font-size: 0.9rem; color: var(--text-secondary);">Volatility Bands</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 1.2rem; font-weight: bold;" id="bb-position">--</div>
                                        <div style="font-size: 0.8rem; color: var(--text-secondary);" id="bb-signal">--</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Projection Forecasts -->
                        <div style="background: var(--secondary-bg); border-radius: 16px; padding: 24px;">
                            <h4 style="color: var(--accent-color); margin-bottom: 20px;">ðŸ”® Price Projections</h4>

                            <div id="projection-results" style="text-align: center; color: var(--text-secondary); padding: 40px;">
                                <i class="fas fa-chart-line fa-3x" style="margin-bottom: 20px; opacity: 0.5;"></i>
                                <p>Click "Calculate Projections" to see trigonometric analysis and price forecasts</p>
                            </div>

                            <div id="projection-data" style="display: none;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 16px; background: var(--glass-bg); border-radius: 8px;">
                                        <div style="font-size: 0.9rem; color: var(--text-secondary);">Projected High</div>
                                        <div style="font-size: 1.4rem; font-weight: bold; color: var(--success-color);" id="proj-high">--</div>
                                        <div style="font-size: 0.8rem; color: var(--text-secondary);" id="proj-high-confidence">--</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: var(--glass-bg); border-radius: 8px;">
                                        <div style="font-size: 0.9rem; color: var(--text-secondary);">Projected Low</div>
                                        <div style="font-size: 1.4rem; font-weight: bold; color: var(--danger-color);" id="proj-low">--</div>
                                        <div style="font-size: 0.8rem; color: var(--text-secondary);" id="proj-low-confidence">--</div>
                                    </div>
                                </div>

                                <div style="padding: 16px; background: var(--glass-bg); border-radius: 8px;">
                                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 8px;">Projection Analysis</div>
                                    <div style="font-size: 1rem; line-height: 1.5;" id="projection-analysis">
                                        --
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Analysis Section -->
        <section id="technical-analysis" class="content-section">
            <div class="dashboard-grid">
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #ff6b35, #f7931e);">
                            ðŸ“ˆ
                        </div>
                        <h3 class="card-title">Advanced Technical Analysis</h3>
                    </div>

                    <div class="analytics-controls">
                        <div class="form-group">
                            <label for="selectedCrypto">Cryptocurrency</label>
                            <select id="selectedCrypto" onchange="loadTechnicalAnalysis()">
                                <option value="XCH">Chia (XCH)</option>
                                <option value="BTC">Bitcoin (BTC)</option>
                                <option value="ETH">Ethereum (ETH)</option>
                                <option value="SOL">Solana (SOL)</option>
                                <option value="ADA">Cardano (ADA)</option>
                                <option value="DOT">Polkadot (DOT)</option>
                                <option value="LINK">Chainlink (LINK)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="timeframe">Timeframe</label>
                            <select id="timeframe" onchange="loadTechnicalAnalysis()">
                                <option value="1h">1 Hour</option>
                                <option value="4h">4 Hours</option>
                                <option value="1d">1 Day</option>
                                <option value="1w">1 Week</option>
                            </select>
                        </div>
                        <button onclick="loadTechnicalAnalysis()" class="btn btn-primary">
                            <i class="fas fa-chart-line"></i> Load Analysis
                        </button>
                    </div>

                    <div id="technicalAnalysisContent" style="display: none;">
                        <div class="technical-summary">
                            <div class="summary-grid">
                                <div class="summary-item">
                                    <div class="summary-label">Current Price</div>
                                    <div class="summary-value" id="currentPrice">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">24h Change</div>
                                    <div class="summary-value" id="priceChange">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">RSI Level</div>
                                    <div class="summary-value" id="rsiLevel">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">MACD Signal</div>
                                    <div class="summary-value" id="macdSignal">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">BB Position</div>
                                    <div class="summary-value" id="bbPosition">-</div>
                                </div>
                            </div>
                        </div>

                        <div class="technical-charts">
                            <div class="chart-container">
                                <h4>Price Chart with Indicators</h4>
                                <div id="technicalChart" style="height: 400px;"></div>
                            </div>

                            <div class="chart-container">
                                <h4>MACD Indicator</h4>
                                <div id="macdChart" style="height: 200px;"></div>
                            </div>

                            <div class="chart-container">
                                <h4>RSI Indicator</h4>
                                <div id="rsiChart" style="height: 150px;"></div>
                            </div>
                        </div>

                        <div class="signals-panel">
                            <h4>Technical Signals</h4>
                            <div id="signalsList" class="signals-list">
                                <div class="signal-item">Loading signals...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portfolio Management Section -->
        <section id="portfolio" class="content-section">
            <div class="dashboard-grid">
                <!-- Portfolio Overview -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #1e40af, #3b82f6);">
                            ðŸ’¼
                        </div>
                        <h3 class="card-title">Portfolio Overview</h3>
                    </div>

                    <div class="portfolio-summary">
                        <div class="summary-grid">
                            <div class="summary-item">
                                <div class="summary-label">Total Value</div>
                                <div class="summary-value" id="totalValue">$0.00</div>
                                <div class="summary-change" id="totalChange">+0.00%</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">24h Change</div>
                                <div class="summary-value" id="dayChange">$0.00</div>
                                <div class="summary-change" id="dayChangePercent">+0.00%</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Best Performer</div>
                                <div class="summary-value" id="bestPerformer">N/A</div>
                                <div class="summary-change" id="bestPerformerChange">+0.00%</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Worst Performer</div>
                                <div class="summary-value" id="worstPerformer">N/A</div>
                                <div class="summary-change" id="worstPerformerChange">+0.00%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Holdings Table -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #059669, #10b981);">
                            ðŸ“Š
                        </div>
                        <h3 class="card-title">Holdings</h3>
                        <button class="btn btn-secondary" onclick="addHolding()" style="margin-left: auto;">
                            <i class="fas fa-plus"></i> Add Holding
                        </button>
                    </div>

                    <div class="holdings-table">
                        <table id="holdingsTable">
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Symbol</th>
                                    <th>Quantity</th>
                                    <th>Avg Price</th>
                                    <th>Current Price</th>
                                    <th>Value</th>
                                    <th>Change</th>
                                    <th>Allocation</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="holdingsBody">
                                <!-- Holdings will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Allocation Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #dc2626, #ef4444);">
                            ðŸ¥§
                        </div>
                        <h3 class="card-title">Asset Allocation</h3>
                    </div>

                    <div class="allocation-chart">
                        <div id="allocationChart" style="height: 300px;"></div>
                    </div>
                </div>

                <!-- Performance Chart -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #7c3aed, #8b5cf6);">
                            ðŸ“ˆ
                        </div>
                        <h3 class="card-title">Portfolio Performance</h3>
                    </div>

                    <div class="performance-chart">
                        <div id="performanceChart" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Alerts Section -->
        <section id="alerts" class="content-section">
            <div class="dashboard-grid">
                <!-- Active Alerts Overview -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                            ðŸ””
                        </div>
                        <h3 class="card-title">Alert Management</h3>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-secondary" onclick="addPriceAlert()" style="margin-left: auto;">
                                <i class="fas fa-plus"></i> Price Alert
                            </button>
                            <button class="btn btn-secondary" onclick="addTechnicalAlert()">
                                <i class="fas fa-chart-line"></i> Technical Alert
                            </button>
                            <button class="btn btn-secondary" onclick="addVolumeAlert()">
                                <i class="fas fa-chart-bar"></i> Volume Alert
                            </button>
                        </div>
                    </div>

                    <div class="alerts-summary">
                        <div class="summary-grid">
                            <div class="summary-item">
                                <div class="summary-label">Active Alerts</div>
                                <div class="summary-value" id="activeAlertsCount">0</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Triggered Today</div>
                                <div class="summary-value" id="triggeredTodayCount">0</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Price Alerts</div>
                                <div class="summary-value" id="priceAlertsCount">0</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Technical Alerts</div>
                                <div class="summary-value" id="technicalAlertsCount">0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Active Alerts Table -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                            ðŸ“‹
                        </div>
                        <h3 class="card-title">Active Alerts</h3>
                    </div>

                    <div class="alerts-table">
                        <table id="alertsTable">
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Symbol</th>
                                    <th>Condition</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Last Trigger</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="alertsBody">
                                <!-- Alerts will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Alert History -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                            ðŸ“œ
                        </div>
                        <h3 class="card-title">Recent Triggers</h3>
                    </div>

                    <div class="alerts-history">
                        <div id="alertHistory" class="alert-history-list">
                            <!-- Alert history will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- News & Sentiment Section -->
        <section id="news" class="content-section">
            <div class="dashboard-grid">
                <!-- Market Sentiment Overview -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">
                            ðŸ“Š
                        </div>
                        <h3 class="card-title">Market Sentiment Analysis</h3>
                    </div>

                    <div class="sentiment-overview">
                        <div class="sentiment-grid">
                            <div class="sentiment-item">
                                <div class="sentiment-label">Overall Market Sentiment</div>
                                <div class="sentiment-score" id="overallSentiment">
                                    <span class="sentiment-value">65%</span>
                                    <span class="sentiment-trend positive">â†—ï¸ Bullish</span>
                                </div>
                            </div>
                            <div class="sentiment-item">
                                <div class="sentiment-label">Fear & Greed Index</div>
                                <div class="sentiment-score" id="fearGreedIndex">
                                    <span class="sentiment-value">72</span>
                                    <span class="sentiment-trend greed">Greed</span>
                                </div>
                            </div>
                            <div class="sentiment-item">
                                <div class="sentiment-label">News Articles (24h)</div>
                                <div class="sentiment-score" id="newsCount">
                                    <span class="sentiment-value">127</span>
                                    <span class="sentiment-trend">+12%</span>
                                </div>
                            </div>
                            <div class="sentiment-item">
                                <div class="sentiment-label">Social Media Buzz</div>
                                <div class="sentiment-score" id="socialBuzz">
                                    <span class="sentiment-value">8.4k</span>
                                    <span class="sentiment-trend positive">â†—ï¸ High</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- News Feed -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                            ðŸ“°
                        </div>
                        <h3 class="card-title">Latest Crypto News</h3>
                        <select id="newsFilter" onchange="filterNews()" class="filter-select">
                            <option value="all">All News</option>
                            <option value="positive">Positive</option>
                            <option value="negative">Negative</option>
                            <option value="neutral">Neutral</option>
                            <option value="bitcoin">Bitcoin</option>
                            <option value="ethereum">Ethereum</option>
                            <option value="chia">Chia</option>
                        </select>
                    </div>

                    <div class="news-feed">
                        <div id="newsContainer" class="news-list">
                            <!-- News articles will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Sentiment Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">
                            ðŸ“ˆ
                        </div>
                        <h3 class="card-title">Sentiment Trends</h3>
                    </div>

                    <div class="sentiment-chart">
                        <div id="sentimentChart" style="height: 300px;"></div>
                    </div>
                </div>

                <!-- Top Mentioned Assets -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                            ðŸ”¥
                        </div>
                        <h3 class="card-title">Trending Assets</h3>
                    </div>

                    <div class="trending-assets">
                        <div id="trendingList" class="trending-list">
                            <!-- Trending assets will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Visuals Section -->
        <section id="ai-visuals" class="content-section">
            <div class="dashboard-grid">
                <!-- AI Node Network -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #8b5cf6, #a855f7);">
                            ðŸŒ
                        </div>
                        <h3 class="card-title">AI Node Network</h3>
                        <div class="metric-display">
                            <span id="total-nodes" class="metric-value">--</span>
                            <span class="metric-label">Total Nodes</span>
                        </div>
                    </div>

                    <div class="network-visualization">
                        <div id="nodeNetwork" style="height: 400px; position: relative; background: rgba(0,0,0,0.3); border-radius: 8px; overflow: hidden;"></div>
                    </div>
                </div>

                <!-- AI Performance Metrics -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">
                            ðŸ“Š
                        </div>
                        <h3 class="card-title">AI Performance</h3>
                    </div>

                    <div class="performance-metrics">
                        <div id="aiPerformanceChart" style="height: 300px;"></div>
                    </div>
                </div>

                <!-- AI Workflow Status -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                            âš™ï¸
                        </div>
                        <h3 class="card-title">AI Workflows</h3>
                    </div>

                    <div class="workflow-status">
                        <div id="workflowStatus" style="height: 300px;">
                            <!-- Workflow status will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- AI Resource Usage -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                            ðŸ’¾
                        </div>
                        <h3 class="card-title">AI Resources</h3>
                    </div>

                    <div class="resource-usage">
                        <div id="resourceChart" style="height: 300px;"></div>
                    </div>
                </div>

                <!-- AI Model Status -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
                            ðŸ¤–
                        </div>
                        <h3 class="card-title">AI Models</h3>
                    </div>

                    <div class="model-status">
                        <div id="modelStatus" style="height: 300px;">
                            <!-- Model status will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- AI Insights -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, #7c3aed, #6d28d9);">
                            ðŸ’¡
                        </div>
                        <h3 class="card-title">AI Insights & Analytics</h3>
                    </div>

                    <div class="ai-insights">
                        <div id="aiInsights" class="insights-grid">
                            <!-- AI insights will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Plotting Section -->
        <section id="plotting" class="content-section">
            <div class="dashboard-grid">
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                            ðŸŒ¾
                        </div>
                        <h3 class="card-title">Advanced Plotting Configuration</h3>
                    </div>

                    <!-- Plotter Selection - Dr. Plotter Integration -->
                    <div class="plotter-selector">
                        <div class="plotter-option" onclick="selectPlotter('madmax')">
                            <div class="plotter-icon">ðŸš€</div>
                            <h4>Mad Max</h4>
                            <p>Fast plotting with excellent performance</p>
                        </div>
                        <div class="plotter-option" onclick="selectPlotter('bladebit')">
                            <div class="plotter-icon">âš¡</div>
                            <h4>BladeBit</h4>
                            <p>GPU-accelerated plotting with compression</p>
                        </div>
                        <div class="plotter-option dr-plotter" onclick="selectPlotter('drplotter')">
                            <div class="plotter-icon">ðŸ§‘â€ðŸ”¬</div>
                            <h4>Dr. Plotter</h4>
                            <p>Advanced plotting with built-in optimization</p>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div class="form-group">
                            <label for="k-size">Plot Size (K-value)</label>
                            <select id="k-size" onchange="updateEstimates()">
                                <option value="30">K-30 (19.3 GB)</option>
                                <option value="31">K-31 (38.6 GB)</option>
                                <option value="32" selected>K-32 (77.3 GB)</option>
                                <option value="33">K-33 (154.6 GB)</option>
                                <option value="34">K-34 (309.2 GB)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="plot-count">Number of Plots</label>
                            <input type="number" id="plot-count" value="1" min="1" max="1000" onchange="updateEstimates()">
                        </div>

                        <div class="form-group">
                            <label for="tmp-dir">Temporary Directory</label>
                            <input type="text" id="tmp-dir" value="/tmp/squashplot" placeholder="Working directory for plot generation">
                        </div>

                        <div class="form-group">
                            <label for="final-dir">Output Directory</label>
                            <input type="text" id="final-dir" value="./plots" placeholder="Final location for compressed plots">
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; margin-top: 20px;">
                        <button class="btn" onclick="startPlotting()" id="start-btn">
                            <i class="fas fa-play"></i> Start Plot Generation
                        </button>
                        <button class="btn btn-pro" onclick="startDrPlotter()" id="dr-btn" disabled>
                            <i class="fas fa-flask"></i> Dr. Plotter Mode
                        </button>
                    </div>

                    <div class="progress-container" id="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="status-text" id="status-text">Initializing...</div>

                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;" id="results-grid">
                            <div class="metric-card">
                                <div class="metric-value" id="compression-achieved">--</div>
                                <div class="metric-label">Compression Achieved</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="time-elapsed">--</div>
                                <div class="metric-label">Time Elapsed</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="storage-saved">--</div>
                                <div class="metric-label">Storage Saved</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="speed-improvement">--</div>
                                <div class="metric-label">Speed vs Standard</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Intelligent Chatbot Assistant -->
        <div class="dashboard-card" style="grid-column: span 2;">
            <div class="card-header">
                <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                    ðŸ§ 
                </div>
                <h3 class="card-title">Intelligent Assistant - Consciousness Enhanced</h3>
            </div>

            <div class="chat-controls">
                <div class="form-group">
                    <label for="chatProvider">AI Model</label>
                    <select id="chatProvider" onchange="changeChatProvider()">
                        <option value="squashplot-ai">ðŸŒ± SquashPlot AI</option>
                        <option value="openai">ðŸ¤– OpenAI GPT-4</option>
                        <option value="claude">ðŸ§  Claude</option>
                        <option value="local">ðŸ  Local LLM</option>
                    </select>
                </div>
                <button class="btn btn-secondary" onclick="clearChat()" style="margin-left: 10px;">
                    <i class="fas fa-trash"></i> Clear
                </button>
            </div>

            <div class="chatbot-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-message bot">
                        <div class="message-content">
                            <div class="message-avatar">ðŸ§ </div>
                            <div class="message-text">
                                <strong>Consciousness Assistant:</strong> Welcome to the Enterprise Consciousness Platform! ðŸš€<br><br>
                                I have access to <strong>42+ curated tools</strong> including:<br>
                                â€¢ ðŸ§® Advanced Consciousness Mathematics (Wallace Transform V3.0)<br>
                                â€¢ âš¡ CUDNT Universal Acceleration (O(nÂ²) â†’ O(n^1.44))<br>
                                â€¢ ðŸ—œï¸ Advanced Compression & Plotting Systems<br>
                                â€¢ ðŸ” Quantum-Safe Cryptography<br>
                                â€¢ ðŸŒ Full Ecosystem Integration<br><br>
                                Ask me anything about the system, performance optimization, or get help with tasks!
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <input
                        type="text"
                        id="chatInput"
                        class="chat-input"
                        placeholder="Ask me anything about the system..."
                        maxlength="500"
                    >
                    <button class="chat-send-btn" onclick="sendChatMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Wallet Section -->
        <section id="wallet" class="content-section">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--accent-color));">
                        ðŸ’°
                    </div>
                    <h3 class="card-title">Chia Wallet Integration</h3>
                </div>

                <div class="wallet-grid">
                    <div class="wallet-card" onclick="connectWallet('native')">
                        <div class="wallet-icon">ðŸŒ¾</div>
                        <h4>Chia Native Wallet</h4>
                        <p>Official Chia blockchain wallet</p>
                        <button class="btn" id="native-btn">Connect Native Wallet</button>
                        <div class="wallet-status" id="native-status" style="margin-top: 10px; font-size: 0.9rem; display: none;">
                            <span style="color: var(--success-color);">âœ“ Connected</span>
                        </div>
                    </div>

                    <div class="wallet-card" onclick="connectWallet('sage')">
                        <div class="wallet-icon">ðŸ§™â€â™‚ï¸</div>
                        <h4>Sage Wallet</h4>
                        <p>Advanced Chia wallet with DeFi features</p>
                        <button class="btn" id="sage-btn">Connect Sage Wallet</button>
                        <div class="wallet-status" id="sage-status" style="margin-top: 10px; font-size: 0.9rem; display: none;">
                            <span style="color: var(--success-color);">âœ“ Connected</span>
                        </div>
                    </div>

                    <div class="wallet-card" onclick="connectWallet('goby')">
                        <div class="wallet-icon">ðŸŸ</div>
                        <h4>Goby Wallet</h4>
                        <p>Browser extension wallet for Chia</p>
                        <button class="btn" id="goby-btn">Connect Goby Wallet</button>
                        <div class="wallet-status" id="goby-status" style="margin-top: 10px; font-size: 0.9rem; display: none;">
                            <span style="color: var(--success-color);">âœ“ Connected</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CLI Commands Section -->
        <section id="cli" class="content-section">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--accent-color));">
                        ðŸ’»
                    </div>
                    <h3 class="card-title">CLI Commands - Professional Templates</h3>
                </div>

                <div class="cli-commands-grid">
                    <button class="cli-command-card" onclick="executeCLICommand('', 'main_web')">
                        <div class="cli-command-title">Start Web Interface</div>
                        <div class="cli-command-desc">Launch the SquashPlot web dashboard</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'main_cli')">
                        <div class="cli-command-title">Start CLI Mode</div>
                        <div class="cli-command-desc">Run SquashPlot in command-line mode</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'main_demo')">
                        <div class="cli-command-title">Run Demo</div>
                        <div class="cli-command-desc">Execute interactive demonstration</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'check_server')">
                        <div class="cli-command-title">Check Server Status</div>
                        <div class="cli-command-desc">Server monitoring utility</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'plot_basic')">
                        <div class="cli-command-title">Basic Plotting</div>
                        <div class="cli-command-desc">Mad Max style Chia plotting</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'plot_dual')">
                        <div class="cli-command-title">Dual Temp Directories</div>
                        <div class="cli-command-desc">Advanced plotting with multiple temp drives</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'plot_compress')">
                        <div class="cli-command-title">Plotting + Compression</div>
                        <div class="cli-command-desc">Create compressed plots directly</div>
                    </button>

                    <button class="cli-command-card" onclick="executeCLICommand('', 'plot_drplotter')">
                        <div class="cli-command-title">Dr. Plotter Mode</div>
                        <div class="cli-command-desc">Advanced plotting with Dr. Plotter optimization</div>
                    </button>
                </div>

                <!-- Custom CLI Command -->
                <div class="custom-cli-form">
                    <h4 style="margin-bottom: 15px; color: white;">Custom Command</h4>
                    <input type="text" id="customCommand" placeholder="Enter custom CLI command..." />
                    <button onclick="executeCustomCommand()">Execute Command</button>
                </div>

                <!-- CLI Output -->
                <div class="cli-output" id="cliOutput" style="display: none;">
                    <h4 style="color: white; margin-bottom: 10px;">Command Output</h4>
                    <pre id="outputContent">Ready to execute commands...</pre>
                </div>
            </div>
        </div>

        <!-- Calculator Section -->
        <section id="calculator" class="content-section">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon" style="background: linear-gradient(135deg, var(--warning-color), var(--accent-color));">
                        ðŸ§®
                    </div>
                    <h3 class="card-title">ROI Calculator</h3>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="calc-plots">Number of Plots</label>
                        <input type="number" id="calc-plots" value="100" min="1" max="100000" onchange="calculateROI()">
                    </div>

                    <div class="form-group">
                        <label for="calc-k-size">Plot Size</label>
                        <select id="calc-k-size" onchange="calculateROI()">
                            <option value="30">K-30</option>
                            <option value="31">K-31</option>
                            <option value="32" selected>K-32</option>
                            <option value="33">K-33</option>
                            <option value="34">K-34</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="storage-cost">Storage Cost ($/TB/month)</label>
                        <input type="number" id="storage-cost" value="25" min="0" step="0.01" onchange="calculateROI()">
                    </div>
                </div>

                <div style="background: var(--glass-bg); backdrop-filter: blur(15px); border: 1px solid var(--glass-border); border-radius: var(--border-radius); padding: 20px;">
                    <h4 style="color: white; margin-bottom: 15px;">Storage Cost Analysis</h4>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div class="metric-card">
                            <div class="metric-value" id="standard-storage">--</div>
                            <div class="metric-label">Standard Storage</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="compressed-storage">--</div>
                            <div class="metric-label">SquashPlot Storage</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="monthly-savings">--</div>
                            <div class="metric-label">Monthly Savings</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="annual-savings">--</div>
                            <div class="metric-label">Annual Savings</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="three-year-roi">--</div>
                            <div class="metric-label">3-Year ROI</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <section id="settings" class="content-section">
            <div class="dashboard-grid">
                <!-- General Settings -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--info-color), var(--secondary-color));">
                            âš™ï¸
                        </div>
                        <h3 class="card-title">General Settings</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="app-theme">Interface Theme</label>
                            <select id="app-theme">
                                <option value="black-glass" selected>Black Glass</option>
                                <option value="dark">Dark Mode</option>
                                <option value="light">Light Mode</option>
                                <option value="auto">Auto (System)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language">
                                <option value="en" selected>English</option>
                                <option value="es">EspaÃ±ol</option>
                                <option value="fr">FranÃ§ais</option>
                                <option value="de">Deutsch</option>
                                <option value="zh">ä¸­æ–‡</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="timezone">Timezone</label>
                            <select id="timezone">
                                <option value="utc" selected>UTC</option>
                                <option value="est">Eastern Time</option>
                                <option value="pst">Pacific Time</option>
                                <option value="gmt">GMT</option>
                                <option value="auto">Auto Detect</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="auto-save">Auto-Save Interval</label>
                            <select id="auto-save">
                                <option value="30">30 seconds</option>
                                <option value="60" selected>1 minute</option>
                                <option value="300">5 minutes</option>
                                <option value="600">10 minutes</option>
                                <option value="off">Disabled</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Plotting Configuration -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                            ðŸŒ¾
                        </div>
                        <h3 class="card-title">Plotting Configuration</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="default-plotter">Default Plotter</label>
                            <select id="default-plotter">
                                <option value="madmax">Mad Max</option>
                                <option value="bladebit">BladeBit</option>
                                <option value="drplotter" selected>Dr. Plotter</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="default-k-size">Default K-Size</label>
                            <select id="default-k-size">
                                <option value="30">K-30 (19.3 GB)</option>
                                <option value="31">K-31 (38.6 GB)</option>
                                <option value="32" selected>K-32 (77.3 GB)</option>
                                <option value="33">K-33 (154.6 GB)</option>
                                <option value="34">K-34 (309.2 GB)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="default-compression">Default Compression Level</label>
                            <select id="default-compression">
                                <option value="0">Level 0 - None (0% savings)</option>
                                <option value="1">Level 1 - Fast (20% savings)</option>
                                <option value="2" selected>Level 2 - Balanced (25% savings)</option>
                                <option value="3">Level 3 - Good (30% savings)</option>
                                <option value="4">Level 4 - Strong (35% savings)</option>
                                <option value="5">Level 5 - Maximum (40% savings)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="max-parallel-plots">Max Parallel Plots</label>
                            <select id="max-parallel-plots">
                                <option value="1">1 Plot</option>
                                <option value="2" selected>2 Plots</option>
                                <option value="4">4 Plots</option>
                                <option value="8">8 Plots</option>
                                <option value="auto">Auto (Based on CPU)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Storage & Performance -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--success-color), var(--secondary-color));">
                            ðŸ’¾
                        </div>
                        <h3 class="card-title">Storage & Performance</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="temp-dir">Default Temp Directory</label>
                            <input type="text" id="temp-dir" value="/tmp/squashplot" placeholder="Temporary plot creation directory">
                        </div>

                        <div class="form-group">
                            <label for="final-dir">Default Final Directory</label>
                            <input type="text" id="final-dir" value="./plots" placeholder="Final plot storage directory">
                        </div>

                        <div class="form-group">
                            <label for="gpu-acceleration">GPU Acceleration</label>
                            <select id="gpu-acceleration">
                                <option value="auto" selected>Auto Detect</option>
                                <option value="enabled">Force Enabled</option>
                                <option value="disabled">Disabled</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="memory-management">Memory Management</label>
                            <select id="memory-management">
                                <option value="auto" selected>Auto</option>
                                <option value="conservative">Conservative</option>
                                <option value="aggressive">Aggressive</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                RAM usage strategy: Conservative limits memory, Aggressive maximizes performance.
                            </small>
                        </div>
                    </div>
                </div>

                <!-- Dr. Plotter Settings -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--accent-color), var(--warning-color));">
                            ðŸ§‘â€ðŸ”¬
                        </div>
                        <h3 class="card-title">SquashPlot AI Settings</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="ai-optimization">AI Optimization Level</label>
                            <select id="ai-optimization">
                                <option value="conservative">Conservative (Stable)</option>
                                <option value="balanced" selected>Balanced (Recommended)</option>
                                <option value="aggressive">Aggressive (Max Performance)</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                Controls SquashPlot's AI resource allocation: Conservative prioritizes stability, Aggressive maximizes performance.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="real-time-monitoring">Real-time Monitoring</label>
                            <select id="real-time-monitoring">
                                <option value="true" selected>Enabled</option>
                                <option value="false">Disabled</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                Live system monitoring and automatic resource adjustments during plotting operations.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="intelligence-level">Intelligence Level</label>
                            <select id="intelligence-level">
                                <option value="basic">Basic</option>
                                <option value="advanced" selected>Advanced</option>
                                <option value="expert">Expert</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                AI decision-making complexity: Basic uses simple heuristics, Expert applies advanced algorithms.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="cudnt-boost">CUDNT Boost</label>
                            <select id="cudnt-boost">
                                <option value="auto" selected>Auto</option>
                                <option value="maximum">Maximum</option>
                                <option value="custom">Custom</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                CUDNT (Complexity Universal Distributed Neural Transform) acceleration for O(nÂ²) â†’ O(n^1.44) optimization.
                            </small>
                        </div>
                    </div>
                </div>

                <!-- Notifications & Alerts -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--warning-color), var(--danger-color));">
                            ðŸ””
                        </div>
                        <h3 class="card-title">Notifications & Alerts</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="notification-level">Notification Level</label>
                            <select id="notification-level">
                                <option value="all">All Events</option>
                                <option value="important" selected>Important Only</option>
                                <option value="errors">Errors Only</option>
                                <option value="none">None</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="email-notifications">Email Notifications</label>
                            <select id="email-notifications">
                                <option value="false">Disabled</option>
                                <option value="errors">Errors Only</option>
                                <option value="important" selected>Important Events</option>
                                <option value="all">All Events</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="sound-alerts">Sound Alerts</label>
                            <select id="sound-alerts">
                                <option value="true" selected>Enabled</option>
                                <option value="false">Disabled</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="alert-frequency">Alert Frequency</label>
                            <select id="alert-frequency">
                                <option value="immediate" selected>Immediate</option>
                                <option value="5min">Every 5 minutes</option>
                                <option value="15min">Every 15 minutes</option>
                                <option value="hourly">Hourly</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Advanced Settings -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--danger-color), var(--primary-color));">
                            âš¡
                        </div>
                        <h3 class="card-title">Advanced Settings</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label for="api-endpoint">API Endpoint</label>
                            <input type="text" id="api-endpoint" value="http://localhost:8080" placeholder="Custom API endpoint">
                        </div>

                        <div class="form-group">
                            <label for="log-level">Log Level</label>
                            <select id="log-level">
                                <option value="error">Error</option>
                                <option value="warning">Warning</option>
                                <option value="info" selected>Info</option>
                                <option value="debug">Debug</option>
                                <option value="trace">Trace</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="backup-frequency">Auto Backup</label>
                            <select id="backup-frequency">
                                <option value="off">Disabled</option>
                                <option value="daily" selected>Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="experimental-features">Experimental Features</label>
                            <select id="experimental-features">
                                <option value="false" selected>Disabled</option>
                                <option value="true">Enabled</option>
                            </select>
                            <small style="display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.8rem;">
                                Advanced AI optimizations, quantum-resistant algorithms, and cutting-edge compression techniques. May impact stability.
                            </small>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--glass-border);">
                        <h4 style="color: white; margin-bottom: 15px;">Import/Export Configuration</h4>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn" onclick="exportSettings()">
                                <i class="fas fa-download"></i> Export Settings
                            </button>
                            <button class="btn btn-pro" onclick="importSettings()">
                                <i class="fas fa-upload"></i> Import Settings
                            </button>
                            <button class="btn" style="background: var(--danger-color);" onclick="resetSettings()">
                                <i class="fas fa-undo"></i> Reset to Defaults
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Save Settings -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div style="text-align: center;">
                        <button class="btn" onclick="saveSettings()" style="font-size: 1.2rem; padding: 15px 30px;">
                            <i class="fas fa-save"></i> Save All Settings
                        </button>
                        <p style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem;">
                            Changes will take effect immediately. Some settings may require a restart.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Experimental Features Section -->
        <section id="experimental" class="content-section">
            <div class="dashboard-grid">
                <!-- Experimental Features Header -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--accent-color), var(--warning-color));">
                            ðŸ§ª
                        </div>
                        <h3 class="card-title">Experimental Features Lab</h3>
                    </div>

                    <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: var(--border-radius); padding: 15px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-exclamation-triangle" style="color: var(--warning-color);"></i>
                            <div>
                                <strong style="color: white;">Experimental Features Warning</strong>
                                <p style="color: var(--text-secondary); font-size: 0.9rem; margin: 5px 0 0 0;">
                                    These features are cutting-edge and may impact system stability or performance.
                                    Use at your own risk and back up your data regularly.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Experimental Features Summary -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div class="metric-card">
                            <div class="metric-value" id="active-experimental-count">0</div>
                            <div class="metric-label">Active Features</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="experimental-performance-impact">--</div>
                            <div class="metric-label">Performance Impact</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="experimental-stability-risk">--</div>
                            <div class="metric-label">Stability Risk</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="experimental-innovation-score">--</div>
                            <div class="metric-label">Innovation Score</div>
                        </div>
                    </div>
                </div>

                <!-- Advanced AI Optimization -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                            ðŸ¤–
                        </div>
                        <h3 class="card-title">Advanced AI Optimization</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="ai-optimization-experimental" onchange="toggleExperimentalFeature('ai-optimization')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Uses machine learning algorithms to analyze Chia plot patterns and predict optimal compression strategies. The AI learns from successful compression operations to continuously improve efficiency, adapting to different data patterns and hardware configurations for maximum compression ratios.
                    </p>

                    <div class="feature-analytics" id="ai-optimization-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Live Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Predictions:</span>
                                <span id="ai-predictions-count" style="color: var(--primary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Accuracy:</span>
                                <span id="ai-accuracy-rate" style="color: var(--success-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Learning Rate:</span>
                                <span id="ai-learning-rate" style="color: var(--secondary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Optimization Score:</span>
                                <span id="ai-optimization-score" style="color: var(--warning-color); font-weight: 600;">--%</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px;" onclick="runAIOptimization()">
                                <i class="fas fa-brain"></i> Run AI Analysis
                            </button>
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('ai-optimization')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="ai-optimization-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">AI Analysis Output:</div>
                        <textarea id="ai-optimization-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Quantum-Resistant Algorithms -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--info-color), var(--primary-color));">
                            ðŸ”
                        </div>
                        <h3 class="card-title">Quantum-Resistant Algorithms</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="quantum-resistant-experimental" onchange="toggleExperimentalFeature('quantum-resistant')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Implements advanced cryptographic algorithms resistant to quantum computing attacks. Uses lattice-based cryptography and hash-based signatures to secure Chia plot data against future quantum threats, ensuring long-term data integrity and preventing quantum-based decryption attacks.
                    </p>

                    <div class="feature-analytics" id="quantum-resistant-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Security Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Security Level:</span>
                                <span id="quantum-security-level" style="color: var(--success-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Performance Impact:</span>
                                <span id="quantum-performance-impact" style="color: var(--warning-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Quantum Readiness:</span>
                                <span id="quantum-readiness" style="color: var(--primary-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Encryption Strength:</span>
                                <span id="quantum-encryption-strength" style="color: var(--secondary-color); font-weight: 600;">-- bits</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px;" onclick="runQuantumSecurityTest()">
                                <i class="fas fa-shield-alt"></i> Security Test
                            </button>
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('quantum-resistant')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="quantum-resistant-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">Security Test Output:</div>
                        <textarea id="quantum-resistant-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Neural Network Compression -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));">
                            ðŸ§ 
                        </div>
                        <h3 class="card-title">Neural Network Compression</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="neural-compression-experimental" onchange="toggleExperimentalFeature('neural-compression')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Deploys deep neural networks specifically trained on Chia blockchain plot file patterns. The AI learns optimal compression strategies by analyzing millions of data patterns, creating adaptive compression algorithms that achieve higher ratios than traditional methods while maintaining data integrity.
                    </p>

                    <div class="feature-analytics" id="neural-compression-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Neural Network Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Compression Rate:</span>
                                <span id="neural-compression-rate" style="color: var(--success-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Learning Progress:</span>
                                <span id="neural-learning-progress" style="color: var(--primary-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Network Layers:</span>
                                <span id="neural-network-layers" style="color: var(--secondary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Data Efficiency:</span>
                                <span id="neural-data-efficiency" style="color: var(--warning-color); font-weight: 600;">--%</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="trainNeuralNetwork()">
                                <i class="fas fa-graduation-cap"></i> Train
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="testNeuralCompression()">
                                <i class="fas fa-vial"></i> Test
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('neural-compression')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="neural-compression-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">Neural Network Output:</div>
                        <textarea id="neural-compression-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Hyper-Dimensional Optimization -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--warning-color), var(--danger-color));">
                            ðŸŒŒ
                        </div>
                        <h3 class="card-title">Hyper-Dimensional Optimization</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="hyper-dimensional-experimental" onchange="toggleExperimentalFeature('hyper-dimensional')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Explores data in multiple mathematical dimensions simultaneously, using advanced algorithms to find optimal compression paths through n-dimensional space. Combines fractal mathematics with multi-dimensional analysis to discover compression patterns invisible in traditional 2D or 3D approaches.
                    </p>

                    <div class="feature-analytics" id="hyper-dimensional-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Hyper-Dimensional Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Dimensions:</span>
                                <span id="hyper-dimensions-count" style="color: var(--primary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Optimization Score:</span>
                                <span id="hyper-optimization-score" style="color: var(--success-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Fractal Efficiency:</span>
                                <span id="hyper-fractal-efficiency" style="color: var(--secondary-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Pattern Recognition:</span>
                                <span id="hyper-pattern-recognition" style="color: var(--warning-color); font-weight: 600;">--%</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px;" onclick="runHyperDimensionalAnalysis()">
                                <i class="fas fa-cube"></i> Analyze Dimensions
                            </button>
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('hyper-dimensional')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="hyper-dimensional-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">Hyper-Dimensional Output:</div>
                        <textarea id="hyper-dimensional-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Chaos Theory Integration -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--accent-color), var(--danger-color));">
                            ðŸŒ€
                        </div>
                        <h3 class="card-title">Chaos Theory Integration</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="chaos-theory-experimental" onchange="toggleExperimentalFeature('chaos-theory')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Applies chaos theory and fractal mathematics to data compression. Uses strange attractors and chaotic behavior patterns to model complex data relationships, finding compression opportunities in seemingly random data through mathematical analysis of deterministic chaos.
                    </p>

                    <div class="feature-analytics" id="chaos-theory-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Chaos Theory Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Fractal Dimension:</span>
                                <span id="chaos-fractal-dimension" style="color: var(--primary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Stability Index:</span>
                                <span id="chaos-stability-index" style="color: var(--success-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Entropy Level:</span>
                                <span id="chaos-entropy-level" style="color: var(--secondary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Pattern Emergence:</span>
                                <span id="chaos-pattern-emergence" style="color: var(--warning-color); font-weight: 600;">--%</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px;" onclick="runChaosAnalysis()">
                                <i class="fas fa-atom"></i> Chaos Analysis
                            </button>
                            <button class="btn" style="font-size: 0.9rem; padding: 8px 16px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('chaos-theory')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="chaos-theory-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">Chaos Analysis Output:</div>
                        <textarea id="chaos-theory-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Consciousness-Enhanced Computing -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--success-color), var(--info-color));">
                            ðŸ§¬
                        </div>
                        <h3 class="card-title">Consciousness-Enhanced Computing</h3>
                        <label class="switch" style="margin-left: auto;">
                            <input type="checkbox" id="consciousness-enhanced-experimental" onchange="toggleExperimentalFeature('consciousness-enhanced')">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
                        <strong>What it does:</strong> Implements prime-aligned computational mathematics inspired by consciousness research. Uses the golden ratio (Ï†) and prime number sequences to optimize data processing, creating algorithms that align with natural mathematical constants for enhanced computational efficiency and pattern recognition.
                    </p>

                    <div class="feature-analytics" id="consciousness-enhanced-analytics" style="display: none;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px;">Consciousness Analytics:</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Consciousness Ratio:</span>
                                <span id="consciousness-ratio" style="color: var(--primary-color); font-weight: 600;">--</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Golden Ratio Alignment:</span>
                                <span id="golden-ratio-alignment" style="color: var(--success-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Prime Resonance:</span>
                                <span id="prime-resonance" style="color: var(--secondary-color); font-weight: 600;">--%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Consciousness Level:</span>
                                <span id="consciousness-level" style="color: var(--warning-color); font-weight: 600;">--</span>
                            </div>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="calculateConsciousnessMetrics()">
                                <i class="fas fa-brain"></i> Consciousness Calc
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="alignGoldenRatio()">
                                <i class="fas fa-magic"></i> Golden Ratio
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px; background: rgba(0, 212, 255, 0.1); border-color: var(--primary-color);" onclick="showFeatureGuide('consciousness-enhanced')">
                                <i class="fas fa-info-circle"></i> More Info
                            </button>
                        </div>
                    </div>

                    <div class="feature-feedback" id="consciousness-enhanced-feedback" style="display: none; margin-top: 15px;">
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 5px;">Consciousness Computation Output:</div>
                        <textarea id="consciousness-enhanced-output" readonly style="width: 100%; height: 80px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); border-radius: 4px; color: var(--text-primary); font-family: 'Courier New', monospace; font-size: 0.8rem; padding: 8px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Experimental Features Controls -->
                <div class="dashboard-card" style="grid-column: span 2;">
                    <div class="card-header">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--danger-color), var(--warning-color));">
                            ðŸŽ›ï¸
                        </div>
                        <h3 class="card-title">Experimental Controls</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="btn" onclick="runAllExperimentalTests()">
                            <i class="fas fa-flask"></i> Run All Tests
                        </button>
                        <button class="btn" onclick="optimizeExperimentalSettings()">
                            <i class="fas fa-sliders-h"></i> Auto Optimize
                        </button>
                        <button class="btn btn-pro" onclick="exportExperimentalData()">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                        <button class="btn" style="background: var(--info-color);" onclick="importExperimentalData()">
                            <i class="fas fa-upload"></i> Import Data
                        </button>
                        <button class="btn" style="background: var(--danger-color);" onclick="resetExperimentalFeatures()">
                            <i class="fas fa-undo"></i> Reset All
                        </button>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: var(--border-radius);">
                        <h4 style="color: white; margin-bottom: 10px; font-size: 1rem;">Quick Actions</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="benchmarkExperimentalFeatures()">
                                <i class="fas fa-tachometer-alt"></i> Benchmark
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="analyzeExperimentalImpact()">
                                <i class="fas fa-chart-line"></i> Impact Analysis
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="backupExperimentalState()">
                                <i class="fas fa-save"></i> Backup State
                            </button>
                            <button class="btn" style="font-size: 0.8rem; padding: 6px 12px;" onclick="loadExperimentalState()">
                                <i class="fas fa-folder-open"></i> Load State
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Feature Guide Modal -->
    <div id="featureGuideModal" class="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px); z-index: 10000; padding: 20px; box-sizing: border-box;">
        <div class="modal-content" style="max-width: 900px; margin: 0 auto; background: var(--bg-primary); border: 1px solid var(--glass-border); border-radius: var(--border-radius); max-height: 90vh; overflow-y: auto; position: relative;">
            <div class="modal-header" style="padding: 20px; border-bottom: 1px solid var(--glass-border); display: flex; justify-content: space-between; align-items: center;">
                <h2 id="guideTitle" style="color: var(--primary-color); margin: 0; font-size: 1.5rem;">Feature Guide</h2>
                <button class="btn" onclick="closeFeatureGuide()" style="background: var(--danger-color); padding: 8px 12px;">
                    <i class="fas fa-times"></i> Close
                </button>
            </div>
            <div class="modal-body" id="guideContent" style="padding: 20px;">
                <!-- Guide content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer"></div>

    <script>
        // Global state
        let currentSection = 'dashboard';
        let selectedPlotter = 'madmax';
        let plotting = false;
        let connectedWallet = null;
        let serverCheckInterval = null;
        let systemMetricsInterval = null;

        // Dr. Plotter state
        let drPlotterEnabled = false;

        // Live Price Charts & Projections
        let priceChart = null;
        let priceData = [];
        let projectionData = [];
        let showProjections = false;
        let currentPrice = 0;
        let priceHistory = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Start server monitoring
            checkServerStatus();
            serverCheckInterval = setInterval(checkServerStatus, 30000);

            // Start system metrics updates
            updateSystemMetrics();
            systemMetricsInterval = setInterval(updateSystemMetrics, 10000);

            // Add scroll event listener for navigation updates
            window.addEventListener('scroll', updateActiveNavigation);

            // Initialize UI
            updateValueProps();
            calculateROI();

            // Initialize price chart
            initializePriceChart();
            refreshPriceData();
            // Auto-refresh price data every 30 seconds
            setInterval(refreshPriceData, 30000);
            loadSettings(); // Load saved settings
            loadExperimentalFeatures(); // Load experimental feature states

            // Add initial activity
            addRecentActivity('Dashboard loaded - Production UI active');

            console.log('ðŸ§  SquashPlot Production UI initialized');
        });

        // Server status monitoring
        async function checkServerStatus() {
            const statusIndicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            const widget = document.getElementById('serverStatusWidget');

            try {
                widget.classList.add('loading');
                statusIndicator.className = 'status-indicator checking';
                statusText.textContent = 'Checking server...';

                const response = await fetch('/api/status', {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json' },
                    signal: AbortSignal.timeout(5000)
                });

                if (response.ok) {
                    statusIndicator.className = 'status-indicator online';
                    statusText.textContent = `Online (${response.status})`;
                } else {
                    statusIndicator.className = 'status-indicator';
                    statusText.textContent = `HTTP ${response.status}`;
                }
            } catch (error) {
                statusIndicator.className = 'status-indicator';
                statusText.textContent = 'Offline';
            } finally {
                widget.classList.remove('loading');
            }
        }

        // Smooth scrolling navigation
        function scrollToSection(sectionName) {
            const section = document.getElementById(sectionName);
            if (section) {
                // Update active navigation
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                event.target.classList.add('active');

                // Smooth scroll to section
                section.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });

                currentSection = sectionName;
            }
        }

        // Handle scroll events to update active navigation
        function updateActiveNavigation() {
            const sections = ['dashboard', 'plotting', 'wallet', 'calculator', 'cli', 'settings'];
            const scrollPosition = window.scrollY + 100; // Offset for header

            for (const sectionId of sections) {
                const section = document.getElementById(sectionId);
                if (section) {
                    const rect = section.getBoundingClientRect();
                    const sectionTop = window.scrollY + rect.top;
                    const sectionBottom = sectionTop + rect.height;

                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        document.querySelectorAll('.nav-tab').forEach(tab => {
                            tab.classList.remove('active');
                        });
                        const activeTab = document.querySelector(`a[href="#${sectionId}"]`);
                        if (activeTab) {
                            activeTab.classList.add('active');
                        }
                        currentSection = sectionId;
                        break;
                    }
                }
            }
        }

        // Plotter selection with Dr. Plotter
        async function selectPlotter(plotter) {
            document.querySelectorAll('.plotter-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.plotter-option').classList.add('selected');

            selectedPlotter = plotter;
            drPlotterEnabled = (plotter === 'drplotter');

            const drBtn = document.getElementById('dr-btn');
            drBtn.disabled = !drPlotterEnabled;

            // Fetch and apply plotter-specific settings
            try {
                const response = await fetch(`/api/plotter-settings/${plotter}`);
                const data = await response.json();

                if (data.settings) {
                    applyPlotterSettings(data.settings);
                    addRecentActivity(`Selected ${data.settings.name} - Applied optimized settings`);
                } else {
                    addRecentActivity(`Selected ${plotter} plotter`);
                }
            } catch (error) {
                console.error('Error fetching plotter settings:', error);
                addRecentActivity(`Selected ${plotter} plotter`);
            }
        }

        function applyPlotterSettings(settings) {
            // Apply recommended settings to form inputs
            if (settings.recommended_settings) {
                const rec = settings.recommended_settings;

                // Update thread count if element exists
                const threadsInput = document.getElementById('threads');
                if (threadsInput && rec.threads && rec.threads !== 'auto') {
                    threadsInput.value = rec.threads;
                }

                // Update buckets if element exists
                const bucketsInput = document.getElementById('buckets');
                if (bucketsInput && rec.buckets && rec.buckets !== 'auto') {
                    bucketsInput.value = rec.buckets;
                }

                // Update memory if element exists
                const memoryInput = document.getElementById('memory-mb');
                if (memoryInput && rec.memory_mb && rec.memory_mb !== 'auto') {
                    memoryInput.value = rec.memory_mb;
                }

                // Update GPU acceleration if element exists
                const gpuInput = document.getElementById('gpu-acceleration');
                if (gpuInput && rec.gpu_acceleration !== undefined) {
                    gpuInput.checked = rec.gpu_acceleration;
                }

                // Update compression level if element exists
                const compressionInput = document.getElementById('compression-level');
                if (compressionInput && rec.compression_level !== undefined && rec.compression_level !== 'adaptive') {
                    compressionInput.value = rec.compression_level;
                }
            }

            // Update command display with plotter-specific API
            const commandDisplay = document.getElementById('current-command');
            if (commandDisplay && settings.api_endpoints) {
                commandDisplay.textContent = `API: ${settings.api_endpoints.plot_command}`;
            }

            // Show hardware requirements notification
            if (settings.hardware_requirements) {
                const req = settings.hardware_requirements;
                showToast(`${settings.name} Requirements: ${req.min_ram_gb}GB RAM, ${req.cpu_cores} CPU cores`, 'info');
            }
        }

        // Dr. Plotter specific functionality
        function startDrPlotter() {
            if (!drPlotterEnabled) return;

            addRecentActivity('Starting Dr. Plotter mode');
            showToast('Dr. Plotter mode activated', 'success');

            // Dr. Plotter specific optimizations
            const kSize = document.getElementById('k-size').value;
            const plotCount = document.getElementById('plot-count').value;

            // Execute Dr. Plotter command
            executeCLICommand(`python squashplot.py --plotter drplotter --k ${kSize} --count ${plotCount} --tmp /tmp --final /plots --optimize`);
        }

        // CLI command execution
        async function executeCLICommand(command, commandType = 'custom') {
            const outputDiv = document.getElementById('cliOutput');
            const outputContent = document.getElementById('outputContent');

            outputDiv.style.display = 'block';
            outputContent.textContent = `â³ Executing: ${command}\n\nPlease wait...`;

            try {
                const response = await fetch('/api/cli/execute', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        command: command,
                        type: commandType
                    })
                });

                const result = await response.json();

                if (result.success) {
                    outputContent.textContent = `âœ… Command executed successfully!\n\nðŸ“ Command: ${result.command}\n\nðŸ“¤ Output:\n${result.output || 'No output'}\n\n${result.error ? `âš ï¸ Warnings:\n${result.error}` : ''}`;
                    showToast('Command executed successfully', 'success');
                } else {
                    outputContent.textContent = `âŒ Command failed!\n\nðŸ“ Command: ${result.command}\n\nðŸ”´ Error:\n${result.error || 'Unknown error'}\n\nðŸ“¤ Output:\n${result.output || 'No output'}`;
                    showToast('Command execution failed', 'error');
                }

            } catch (error) {
                console.error('CLI execution error:', error);
                outputContent.textContent = `âŒ Network error!\n\nCould not execute command due to network issues.\n\nError: ${error.message}`;
                showToast('Network error during command execution', 'error');
            }

            addRecentActivity(`CLI Command: ${command.split(' ')[1] || 'custom'}`);
            switchTab('cli');
        }

        function executeCustomCommand() {
            const commandInput = document.getElementById('customCommand');
            const command = commandInput.value.trim();

            if (!command) {
                showToast('Please enter a command', 'warning');
                return;
            }

            executeCLICommand(command);
            commandInput.value = '';
        }

        // Wallet connection
        function connectWallet(walletType) {
            addRecentActivity(`Connecting to ${walletType} wallet`);
            showToast(`Connecting to ${walletType.charAt(0).toUpperCase() + walletType.slice(1)} wallet...`, 'info');

            // Simulate connection
            setTimeout(() => {
                document.getElementById(walletType + '-status').style.display = 'block';
                document.getElementById(walletType + '-btn').textContent = 'Connected';
                document.getElementById(walletType + '-btn').disabled = true;
                showToast(`${walletType.charAt(0).toUpperCase() + walletType.slice(1)} wallet connected successfully!`, 'success');
                connectedWallet = walletType;
            }, 2000);
        }

        // System metrics
        async function updateSystemMetrics() {
            try {
                const response = await fetch('/system-info');
                const data = await response.json();

                document.getElementById('cpuUsage').textContent = `${data.cpu.usage_percent}%`;
                document.getElementById('memoryUsage').textContent = `${Math.round(data.memory.used_gb)}GB`;
                document.getElementById('diskUsage').textContent = `${Math.round(data.disk.used_gb)}GB`;
            } catch (error) {
                // Use mock data for demo
                document.getElementById('cpuUsage').textContent = `${Math.floor(Math.random() * 30 + 20)}%`;
                document.getElementById('memoryUsage').textContent = `${Math.floor(Math.random() * 8 + 4)}GB`;
                document.getElementById('diskUsage').textContent = `${Math.floor(Math.random() * 500 + 100)}GB`;
            }
        }

        // Recent activity
        function addRecentActivity(activity) {
            const activityDiv = document.getElementById('recentActivity');
            const timestamp = new Date().toLocaleTimeString();

            activityDiv.innerHTML = `
                <div style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <div style="font-weight: 600; color: var(--primary-color); margin-bottom: 5px;">${activity}</div>
                    <div style="font-size: 0.8rem; color: var(--text-secondary);">${timestamp}</div>
                </div>
                ${activityDiv.innerHTML}
            `;

            // Keep only last 5 activities
            const activities = activityDiv.children;
            while (activities.length > 5) {
                activityDiv.removeChild(activities[activities.length - 1]);
            }
        }

        // Toast notifications
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');

            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;

            toastContainer.appendChild(toast);

            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);

            // Hide and remove toast
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toastContainer.removeChild(toast), 300);
            }, 4000);
        }

        // Quick actions
        function runBenchmark() {
            addRecentActivity('Running compression benchmark');
            executeCLICommand('', 'benchmark');
        }

        function validateCompression() {
            addRecentActivity('Validating compression integrity');
            executeCLICommand('', 'validate');
        }

        // Settings management
        function saveSettings() {
            const settings = {
                // General settings
                appTheme: document.getElementById('app-theme').value,
                language: document.getElementById('language').value,
                timezone: document.getElementById('timezone').value,
                autoSave: document.getElementById('auto-save').value,

                // Plotting configuration
                defaultPlotter: document.getElementById('default-plotter').value,
                defaultKSize: document.getElementById('default-k-size').value,
                defaultCompression: document.getElementById('default-compression').value,
                maxParallelPlots: document.getElementById('max-parallel-plots').value,

                // Storage & Performance
                tempDir: document.getElementById('temp-dir').value,
                finalDir: document.getElementById('final-dir').value,
                gpuAcceleration: document.getElementById('gpu-acceleration').value,
                memoryManagement: document.getElementById('memory-management').value,

                // SquashPlot AI Settings
                aiOptimization: document.getElementById('ai-optimization').value,
                realTimeMonitoring: document.getElementById('real-time-monitoring').value,
                intelligenceLevel: document.getElementById('intelligence-level').value,
                cudntBoost: document.getElementById('cudnt-boost').value,

                // Notifications & Alerts
                notificationLevel: document.getElementById('notification-level').value,
                emailNotifications: document.getElementById('email-notifications').value,
                soundAlerts: document.getElementById('sound-alerts').value,
                alertFrequency: document.getElementById('alert-frequency').value,

                // Advanced Settings
                apiEndpoint: document.getElementById('api-endpoint').value,
                logLevel: document.getElementById('log-level').value,
                backupFrequency: document.getElementById('backup-frequency').value,
                experimentalFeatures: document.getElementById('experimental-features').value
            };

            localStorage.setItem('squashplot_settings', JSON.stringify(settings));
            showToast('All settings saved successfully!', 'success');
            addRecentActivity('Settings updated - all configurations saved');

            // Apply theme immediately
            applyTheme(settings.appTheme);
        }

        function loadSettings() {
            const savedSettings = localStorage.getItem('squashplot_settings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);

                // Apply all settings to form elements
                Object.keys(settings).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = settings[key];
                    }
                });

                // Apply theme
                if (settings.appTheme) {
                    applyTheme(settings.appTheme);
                }

                console.log('Settings loaded from localStorage');
            }
        }

        function applyTheme(theme) {
            // For now, just log the theme change
            // In a full implementation, this would change CSS variables
            console.log('Applying theme:', theme);
        }

        function exportSettings() {
            const settings = localStorage.getItem('squashplot_settings');
            if (!settings) {
                showToast('No settings to export', 'warning');
                return;
            }

            const dataStr = JSON.stringify(JSON.parse(settings), null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'squashplot_settings.json';
            link.click();

            showToast('Settings exported successfully', 'success');
            addRecentActivity('Settings exported to file');
        }

        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';

            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const settings = JSON.parse(e.target.result);
                            localStorage.setItem('squashplot_settings', JSON.stringify(settings));

                            // Reload the page to apply settings
                            showToast('Settings imported successfully! Reloading...', 'success');
                            setTimeout(() => {
                                window.location.reload();
                            }, 1500);
                        } catch (error) {
                            showToast('Invalid settings file', 'error');
                        }
                    };
                    reader.readAsText(file);
                }
            };

            input.click();
        }

        function resetSettings() {
            if (confirm('Are you sure you want to reset all settings to defaults? This cannot be undone.')) {
                localStorage.removeItem('squashplot_settings');
                showToast('Settings reset to defaults! Reloading...', 'warning');
                addRecentActivity('Settings reset to defaults');

                setTimeout(() => {
                    window.location.reload();
                }, 1500);
            }
        }

        // Value propositions update
        function updateValueProps() {
            // Dynamic value props based on version
            const compression = drPlotterEnabled ? '60%' : '35%';
            const speed = '2x';
            const efficiency = drPlotterEnabled ? '60%' : '35%';

            // Update display if needed
            console.log(`Compression: ${compression}, Speed: ${speed}, Efficiency: ${efficiency}`);
        }

        // ROI Calculator
        function calculateROI() {
            const plots = parseInt(document.getElementById('calc-plots').value);
            const kSize = parseInt(document.getElementById('calc-k-size').value);
            const storageCost = parseFloat(document.getElementById('storage-cost').value);

            const plotSizes = { 30: 19.3, 31: 38.6, 32: 77.3, 33: 154.6, 34: 309.2 };
            const originalSize = plotSizes[kSize] * plots;
            const compressedSize = originalSize * (drPlotterEnabled ? 0.4 : 0.65);
            const savingsPerMonth = (originalSize - compressedSize) / 1024 * storageCost;
            const annualSavings = savingsPerMonth * 12;
            const threeYearSavings = annualSavings * 3;

            document.getElementById('standard-storage').textContent = `${originalSize.toFixed(1)} GB`;
            document.getElementById('compressed-storage').textContent = `${compressedSize.toFixed(1)} GB`;
            document.getElementById('monthly-savings').textContent = `$${savingsPerMonth.toFixed(2)}`;
            document.getElementById('annual-savings').textContent = `$${annualSavings.toFixed(2)}`;
            document.getElementById('three-year-roi').textContent = `$${threeYearSavings.toFixed(2)}`;
        }

        // Plotting functionality
        function startPlotting() {
            if (plotting) return;

            plotting = true;
            const startBtn = document.getElementById('start-btn');
            const progressContainer = document.getElementById('progress-container');
            const progressFill = document.getElementById('progress-fill');
            const statusText = document.getElementById('status-text');

            startBtn.disabled = true;
            startBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
            progressContainer.style.display = 'block';

            const steps = [
                'Initializing plotter...',
                'Configuring parameters...',
                'Generating plot data...',
                'Applying compression...',
                'Verifying integrity...',
                'Finalizing plot...'
            ];

            let stepIndex = 0;
            const stepInterval = setInterval(() => {
                if (stepIndex < steps.length) {
                    statusText.textContent = steps[stepIndex];
                    progressFill.style.width = `${(stepIndex + 1) / steps.length * 100}%`;
                    stepIndex++;
                } else {
                    clearInterval(stepInterval);
                    statusText.textContent = 'Plot generation completed!';
                    progressFill.style.width = '100%';
                    startBtn.innerHTML = '<i class="fas fa-check"></i> Complete';

                    setTimeout(() => {
                        showResults();
                    }, 1000);
                }
            }, 1500);
        }

        function showResults() {
            const compression = drPlotterEnabled ? '60%' : '35%';
            const time = drPlotterEnabled ? '35 min' : '45 min';
            const savings = drPlotterEnabled ? '60%' : '35%';
            const speed = '2x';

            document.getElementById('compression-achieved').textContent = compression;
            document.getElementById('time-elapsed').textContent = time;
            document.getElementById('storage-saved').textContent = savings;
            document.getElementById('speed-improvement').textContent = speed;

            document.getElementById('results-grid').style.display = 'grid';
            showToast('Plot generation completed successfully!', 'success');
        }

        function updateEstimates() {
            const kSize = document.getElementById('k-size').value;
            const plotCount = document.getElementById('plot-count').value;

            // Simple estimate calculation
            const plotSizes = { 30: 19.3, 31: 38.6, 32: 77.3, 33: 154.6, 34: 309.2 };
            const originalSize = plotSizes[kSize] * plotCount;
            const compressedSize = originalSize * (drPlotterEnabled ? 0.4 : 0.65);

            console.log(`Estimated: ${originalSize.toFixed(1)} GB â†’ ${compressedSize.toFixed(1)} GB`);
        }

        // Experimental Features Management
        let activeExperimentalFeatures = [];

        function toggleExperimentalFeature(featureName) {
            const checkbox = document.getElementById(featureName + '-experimental');
            const analyticsDiv = document.getElementById(featureName + '-analytics');
            const card = checkbox.closest('.dashboard-card');

            if (checkbox.checked) {
                // Enable feature
                activeExperimentalFeatures.push(featureName);
                analyticsDiv.style.display = 'block';
                card.classList.add('active');

                // Load feature analytics
                loadFeatureAnalytics(featureName);

                showToast(`${featureName.replace('-', ' ').toUpperCase()} enabled`, 'success');
                addRecentActivity(`Experimental feature enabled: ${featureName}`);
            } else {
                // Disable feature
                activeExperimentalFeatures = activeExperimentalFeatures.filter(f => f !== featureName);
                analyticsDiv.style.display = 'none';
                card.classList.remove('active');

                showToast(`${featureName.replace('-', ' ').toUpperCase()} disabled`, 'info');
                addRecentActivity(`Experimental feature disabled: ${featureName}`);
            }

            updateExperimentalSummary();
        }

        function loadFeatureAnalytics(featureName) {
            // Simulate loading analytics data (in production, this would fetch from API)
            setTimeout(() => {
                switch (featureName) {
                    case 'ai-optimization':
                        document.getElementById('ai-predictions-count').textContent = Math.floor(Math.random() * 1000) + ' plots';
                        document.getElementById('ai-accuracy-rate').textContent = (85 + Math.random() * 10).toFixed(1) + '%';
                        document.getElementById('ai-learning-rate').textContent = (0.001 + Math.random() * 0.01).toFixed(4);
                        document.getElementById('ai-optimization-score').textContent = (75 + Math.random() * 20).toFixed(1) + '%';
                        break;
                    case 'quantum-resistant':
                        document.getElementById('quantum-security-level').textContent = 'Level ' + (Math.floor(Math.random() * 3) + 3);
                        document.getElementById('quantum-performance-impact').textContent = '-' + (10 + Math.random() * 15).toFixed(1) + '%';
                        document.getElementById('quantum-readiness').textContent = (85 + Math.random() * 10).toFixed(1) + '%';
                        document.getElementById('quantum-encryption-strength').textContent = (256 + Math.floor(Math.random() * 512)) + ' bits';
                        break;
                    case 'neural-compression':
                        document.getElementById('neural-compression-rate').textContent = (35 + Math.random() * 20).toFixed(1) + '%';
                        document.getElementById('neural-learning-progress').textContent = (60 + Math.random() * 35).toFixed(1) + '%';
                        document.getElementById('neural-network-layers').textContent = Math.floor(Math.random() * 10) + 3;
                        document.getElementById('neural-data-efficiency').textContent = (80 + Math.random() * 15).toFixed(1) + '%';
                        break;
                    case 'hyper-dimensional':
                        document.getElementById('hyper-dimensions-count').textContent = Math.floor(Math.random() * 10) + 3;
                        document.getElementById('hyper-optimization-score').textContent = (75 + Math.random() * 20).toFixed(1) + '%';
                        document.getElementById('hyper-fractal-efficiency').textContent = (70 + Math.random() * 25).toFixed(1) + '%';
                        document.getElementById('hyper-pattern-recognition').textContent = (60 + Math.random() * 30).toFixed(1) + '%';
                        break;
                    case 'chaos-theory':
                        document.getElementById('chaos-fractal-dimension').textContent = (1.2 + Math.random() * 0.8).toFixed(2);
                        document.getElementById('chaos-stability-index').textContent = (70 + Math.random() * 25).toFixed(1) + '%';
                        document.getElementById('chaos-entropy-level').textContent = (0.3 + Math.random() * 0.4).toFixed(2);
                        document.getElementById('chaos-pattern-emergence').textContent = (50 + Math.random() * 40).toFixed(1) + '%';
                        break;
                    case 'consciousness-enhanced':
                        document.getElementById('consciousness-ratio').textContent = (79/21).toFixed(3);
                        document.getElementById('golden-ratio-alignment').textContent = (90 + Math.random() * 8).toFixed(1) + '%';
                        document.getElementById('prime-resonance').textContent = (85 + Math.random() * 10).toFixed(1) + '%';
                        document.getElementById('consciousness-level').textContent = Math.floor(Math.random() * 100) + 1;
                        break;
                }
            }, 500); // Simulate API delay
        }

        function updateExperimentalSummary() {
            const activeCount = activeExperimentalFeatures.length;
            document.getElementById('active-experimental-count').textContent = activeCount;

            // Calculate performance impact based on active features
            const baseImpact = activeCount * 5; // 5% base impact per feature
            const performanceImpact = Math.min(baseImpact + Math.random() * 10, 50); // Max 50%
            document.getElementById('experimental-performance-impact').textContent = performanceImpact.toFixed(1) + '%';

            // Calculate stability risk
            const stabilityRisk = Math.min(activeCount * 8, 60); // Max 60%
            const riskLevel = stabilityRisk < 20 ? 'Low' : stabilityRisk < 40 ? 'Medium' : 'High';
            document.getElementById('experimental-stability-risk').textContent = riskLevel;

            // Calculate innovation score
            const innovationScore = Math.min(activeCount * 15 + Math.random() * 20, 100);
            document.getElementById('experimental-innovation-score').textContent = innovationScore.toFixed(1) + '%';
        }

        // Experimental Feature Functions
        function runAIOptimization() {
            showToast('Running AI optimization analysis...', 'info');
            addRecentActivity('AI optimization analysis started');

            // Show feedback area
            document.getElementById('ai-optimization-feedback').style.display = 'block';
            const outputArea = document.getElementById('ai-optimization-output');
            outputArea.value = 'Initializing AI optimization engine...\nLoading neural network models...\nAnalyzing historical compression patterns...\n';

            setTimeout(() => {
                outputArea.value += 'Training predictive algorithms on plot data...\nOptimizing compression strategies...\nCalculating efficiency metrics...\n';
                loadFeatureAnalytics('ai-optimization');
                setTimeout(() => {
                    outputArea.value += 'Analysis complete. AI optimization ready.\nCompression efficiency improved by ' + (Math.random() * 15 + 5).toFixed(1) + '%';
                    showToast('AI optimization analysis completed', 'success');
                }, 1000);
            }, 2000);
        }

        function runQuantumSecurityTest() {
            showToast('Running quantum security test...', 'info');
            addRecentActivity('Quantum security test started');

            // Show feedback area
            document.getElementById('quantum-resistant-feedback').style.display = 'block';
            const outputArea = document.getElementById('quantum-resistant-output');
            outputArea.value = 'Initializing quantum-resistant cryptography...\nLoading lattice-based algorithms...\nGenerating secure key pairs...\n';

            setTimeout(() => {
                outputArea.value += 'Testing encryption strength against quantum attacks...\nValidating cryptographic signatures...\nMeasuring computational security...\n';
                loadFeatureAnalytics('quantum-resistant');
                setTimeout(() => {
                    const securityLevel = 'Level ' + (Math.floor(Math.random() * 3) + 3);
                    outputArea.value += `Security test complete.\nQuantum resistance: ${securityLevel}\nData integrity: VERIFIED\nFuture-proofing: ACTIVE`;
                    showToast('Quantum security test completed', 'success');
                }, 1000);
            }, 3000);
        }

        function trainNeuralNetwork() {
            showToast('Training neural network...', 'info');
            addRecentActivity('Neural network training started');

            // Show feedback area
            document.getElementById('neural-compression-feedback').style.display = 'block';
            const outputArea = document.getElementById('neural-compression-output');
            outputArea.value = 'Initializing neural network architecture...\nLoading Chia plot training dataset...\nConfiguring deep learning layers...\n';

            setTimeout(() => {
                outputArea.value += 'Epoch 1/10: Training on compression patterns...\nEpoch 2/10: Optimizing loss functions...\nEpoch 3/10: Learning data relationships...\n';
                setTimeout(() => {
                    outputArea.value += 'Epoch 4/10: Fine-tuning parameters...\nEpoch 5/10: Validating against test data...\nTraining complete.\n';
                    loadFeatureAnalytics('neural-compression');
                    outputArea.value += 'Neural network trained successfully.\nReady for compression optimization.\nModel accuracy: ' + (85 + Math.random() * 10).toFixed(1) + '%';
                    showToast('Neural network training completed', 'success');
                }, 2000);
            }, 3000);
        }

        function testNeuralCompression() {
            showToast('Testing neural compression...', 'info');
            addRecentActivity('Neural compression test started');

            // Show feedback area if not already shown
            document.getElementById('neural-compression-feedback').style.display = 'block';
            const outputArea = document.getElementById('neural-compression-output');
            outputArea.value += '\n--- Running Compression Test ---\n';
            outputArea.value += 'Loading test dataset...\nApplying neural compression algorithms...\n';

            setTimeout(() => {
                const rate = (35 + Math.random() * 20).toFixed(1);
                const originalSize = (Math.random() * 100 + 50).toFixed(1);
                const compressedSize = (originalSize * (1 - rate/100)).toFixed(1);
                outputArea.value += `Test data: ${originalSize} GB â†’ ${compressedSize} GB\n`;
                outputArea.value += `Compression ratio: ${rate}%\nNeural efficiency: ${(80 + Math.random() * 15).toFixed(1)}%\nTest completed successfully.`;
                showToast(`Neural compression test: ${rate}% efficiency`, 'success');
            }, 2000);
        }

        function runHyperDimensionalAnalysis() {
            showToast('Running hyper-dimensional analysis...', 'info');
            addRecentActivity('Hyper-dimensional analysis started');

            // Show feedback area
            document.getElementById('hyper-dimensional-feedback').style.display = 'block';
            const outputArea = document.getElementById('hyper-dimensional-output');
            outputArea.value = 'Initializing multi-dimensional space...\nMapping data to higher dimensions...\nExploring fractal patterns...\n';

            setTimeout(() => {
                outputArea.value += 'Analyzing 4D compression vectors...\nCalculating optimal dimensional paths...\nIdentifying pattern correlations...\n';
                loadFeatureAnalytics('hyper-dimensional');
                setTimeout(() => {
                    const dimensions = Math.floor(Math.random() * 10) + 3;
                    outputArea.value += `Analysis complete.\nDimensions explored: ${dimensions}\nCompression pathways: ${Math.floor(Math.random() * 1000)} identified\nEfficiency boost: ${(60 + Math.random() * 30).toFixed(1)}%`;
                    showToast('Hyper-dimensional analysis completed', 'success');
                }, 1000);
            }, 3000);
        }

        function runChaosAnalysis() {
            showToast('Running chaos theory analysis...', 'info');
            addRecentActivity('Chaos theory analysis started');

            // Show feedback area
            document.getElementById('chaos-theory-feedback').style.display = 'block';
            const outputArea = document.getElementById('chaos-theory-output');
            outputArea.value = 'Initializing chaos theory engine...\nGenerating strange attractors...\nAnalyzing fractal dimensions...\n';

            setTimeout(() => {
                outputArea.value += 'Computing Lyapunov exponents...\nMapping chaotic trajectories...\nIdentifying deterministic patterns...\n';
                loadFeatureAnalytics('chaos-theory');
                setTimeout(() => {
                    const dimension = (1.2 + Math.random() * 0.8).toFixed(2);
                    outputArea.value += `Chaos analysis complete.\nFractal dimension: ${dimension}\nPattern stability: ${(70 + Math.random() * 25).toFixed(1)}%\nCompression opportunities: ${(40 + Math.random() * 40).toFixed(1)}% identified`;
                    showToast('Chaos theory analysis completed', 'success');
                }, 1000);
            }, 2500);
        }

        function calculateConsciousnessMetrics() {
            showToast('Calculating consciousness metrics...', 'info');
            addRecentActivity('Consciousness metrics calculation started');

            // Show feedback area
            document.getElementById('consciousness-enhanced-feedback').style.display = 'block';
            const outputArea = document.getElementById('consciousness-enhanced-output');
            outputArea.value = 'Aligning computational consciousness...\nCalculating prime ratios...\nOptimizing golden ratio sequences...\n';

            setTimeout(() => {
                outputArea.value += 'Measuring consciousness resonance...\nAnalyzing mathematical harmony...\nComputing prime alignments...\n';
                loadFeatureAnalytics('consciousness-enhanced');
                setTimeout(() => {
                    const ratio = (79/21).toFixed(3);
                    const alignment = (90 + Math.random() * 8).toFixed(1);
                    outputArea.value += `Consciousness calculation complete.\nPrime ratio: ${ratio}\nGolden alignment: ${alignment}%\nComputational harmony: ACHIEVED`;
                    showToast('Consciousness metrics calculated', 'success');
                }, 1000);
            }, 2000);
        }

        function alignGoldenRatio() {
            showToast('Aligning golden ratio...', 'info');
            addRecentActivity('Golden ratio alignment started');

            // Show feedback area if not already shown
            document.getElementById('consciousness-enhanced-feedback').style.display = 'block';
            const outputArea = document.getElementById('consciousness-enhanced-output');
            outputArea.value += '\n--- Golden Ratio Alignment ---\n';
            outputArea.value += 'Computing Fibonacci sequences...\nApplying golden ratio transformations...\nOptimizing computational harmony...\n';

            setTimeout(() => {
                const alignment = (95 + Math.random() * 5).toFixed(1);
                document.getElementById('golden-ratio-alignment').textContent = alignment + '%';
                outputArea.value += `Golden ratio alignment: ${alignment}%\nMathematical harmony: OPTIMIZED\nEfficiency boost: ${(5 + Math.random() * 10).toFixed(1)}%`;
                showToast('Golden ratio alignment completed', 'success');
            }, 1500);
        }

        // Experimental Controls
        function runAllExperimentalTests() {
            showToast('Running all experimental tests...', 'info');
            addRecentActivity('All experimental tests started');

            let completed = 0;
            const total = activeExperimentalFeatures.length;

            activeExperimentalFeatures.forEach(feature => {
                setTimeout(() => {
                    loadFeatureAnalytics(feature);
                    completed++;
                    if (completed === total) {
                        showToast('All experimental tests completed', 'success');
                        updateExperimentalSummary();
                    }
                }, Math.random() * 3000 + 1000);
            });
        }

        function optimizeExperimentalSettings() {
            showToast('Optimizing experimental settings...', 'info');
            addRecentActivity('Experimental settings optimization started');

            setTimeout(() => {
                // Simulate optimization by enabling best features
                const bestFeatures = ['ai-optimization', 'quantum-resistant'];
                bestFeatures.forEach(feature => {
                    const checkbox = document.getElementById(feature + '-experimental');
                    if (checkbox && !checkbox.checked) {
                        checkbox.checked = true;
                        toggleExperimentalFeature(feature);
                    }
                });
                showToast('Experimental settings optimized', 'success');
            }, 2000);
        }

        function exportExperimentalData() {
            const exportData = {
                exportMetadata: {
                    timestamp: new Date().toISOString(),
                    version: "1.0.0",
                    userAgent: navigator.userAgent,
                    sessionId: Date.now().toString(36) + Math.random().toString(36).substr(2)
                },
                activeFeatures: activeExperimentalFeatures,
                featureAnalytics: {},
                feedbackOutputs: {},
                performanceMetrics: {},
                systemInfo: {},
                recentActivities: [],
                settings: {}
            };

            // Collect real analytics data from active features
            activeExperimentalFeatures.forEach(feature => {
                exportData.featureAnalytics[feature] = {};

                // Collect specific metrics based on feature type
                switch(feature) {
                    case 'ai-optimization':
                        exportData.featureAnalytics[feature] = {
                            predictionsCount: document.getElementById('ai-predictions-count')?.textContent || '--',
                            accuracyRate: document.getElementById('ai-accuracy-rate')?.textContent || '--',
                            learningRate: document.getElementById('ai-learning-rate')?.textContent || '--',
                            optimizationScore: document.getElementById('ai-optimization-score')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                    case 'quantum-resistant':
                        exportData.featureAnalytics[feature] = {
                            securityLevel: document.getElementById('quantum-security-level')?.textContent || '--',
                            performanceImpact: document.getElementById('quantum-performance-impact')?.textContent || '--',
                            quantumReadiness: document.getElementById('quantum-readiness')?.textContent || '--',
                            encryptionStrength: document.getElementById('quantum-encryption-strength')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                    case 'neural-compression':
                        exportData.featureAnalytics[feature] = {
                            compressionRate: document.getElementById('neural-compression-rate')?.textContent || '--',
                            learningProgress: document.getElementById('neural-learning-progress')?.textContent || '--',
                            networkLayers: document.getElementById('neural-network-layers')?.textContent || '--',
                            dataEfficiency: document.getElementById('neural-data-efficiency')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                    case 'hyper-dimensional':
                        exportData.featureAnalytics[feature] = {
                            dimensionsCount: document.getElementById('hyper-dimensions-count')?.textContent || '--',
                            optimizationScore: document.getElementById('hyper-optimization-score')?.textContent || '--',
                            fractalEfficiency: document.getElementById('hyper-fractal-efficiency')?.textContent || '--',
                            patternRecognition: document.getElementById('hyper-pattern-recognition')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                    case 'chaos-theory':
                        exportData.featureAnalytics[feature] = {
                            fractalDimension: document.getElementById('chaos-fractal-dimension')?.textContent || '--',
                            stabilityIndex: document.getElementById('chaos-stability-index')?.textContent || '--',
                            entropyLevel: document.getElementById('chaos-entropy-level')?.textContent || '--',
                            patternEmergence: document.getElementById('chaos-pattern-emergence')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                    case 'consciousness-enhanced':
                        exportData.featureAnalytics[feature] = {
                            consciousnessRatio: document.getElementById('consciousness-ratio')?.textContent || '--',
                            goldenRatioAlignment: document.getElementById('golden-ratio-alignment')?.textContent || '--',
                            primeResonance: document.getElementById('prime-resonance')?.textContent || '--',
                            consciousnessLevel: document.getElementById('consciousness-level')?.textContent || '--',
                            lastUpdated: new Date().toISOString()
                        };
                        break;
                }
            });

            // Collect feedback outputs from text areas
            const feedbackAreas = ['ai-optimization-output', 'quantum-resistant-output', 'neural-compression-output',
                                 'hyper-dimensional-output', 'chaos-theory-output', 'consciousness-enhanced-output'];

            feedbackAreas.forEach(areaId => {
                const textarea = document.getElementById(areaId);
                if (textarea && textarea.value.trim()) {
                    const featureName = areaId.replace('-output', '').replace('-', '-');
                    exportData.feedbackOutputs[featureName] = {
                        content: textarea.value,
                        timestamp: new Date().toISOString(),
                        lines: textarea.value.split('\n').length
                    };
                }
            });

            // Collect performance metrics from summary
            exportData.performanceMetrics = {
                activeFeaturesCount: activeExperimentalFeatures.length,
                performanceImpact: document.getElementById('experimental-performance-impact')?.textContent || '--',
                stabilityRisk: document.getElementById('experimental-stability-risk')?.textContent || '--',
                innovationScore: document.getElementById('experimental-innovation-score')?.textContent || '--',
                lastCalculated: new Date().toISOString()
            };

            // Collect system information
            exportData.systemInfo = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                cookieEnabled: navigator.cookieEnabled,
                screenResolution: `${screen.width}x${screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                memory: performance.memory ? {
                    usedJSHeapSize: performance.memory.usedJSHeapSize,
                    totalJSHeapSize: performance.memory.totalJSHeapSize,
                    jsHeapSizeLimit: performance.memory.jsHeapSizeLimit
                } : null
            };

            // Collect recent activities from localStorage or activity log
            const savedActivities = localStorage.getItem('squashplot_activities');
            if (savedActivities) {
                try {
                    exportData.recentActivities = JSON.parse(savedActivities);
                } catch (e) {
                    exportData.recentActivities = ['Unable to parse activity log'];
                }
            }

            // Collect current settings
            const savedSettings = localStorage.getItem('squashplot_settings');
            if (savedSettings) {
                try {
                    exportData.settings = JSON.parse(savedSettings);
                } catch (e) {
                    exportData.settings = { error: 'Unable to parse settings' };
                }
            }

            // Add experimental state backup
            const experimentalBackup = localStorage.getItem('experimental_backup');
            if (experimentalBackup) {
                try {
                    exportData.experimentalStateBackup = JSON.parse(experimentalBackup);
                } catch (e) {
                    exportData.experimentalStateBackup = null;
                }
            }

            // Generate comprehensive data summary
            exportData.summary = {
                totalActiveFeatures: activeExperimentalFeatures.length,
                dataPointsCollected: Object.keys(exportData.featureAnalytics).length,
                feedbackOutputsCaptured: Object.keys(exportData.feedbackOutputs).length,
                exportSize: JSON.stringify(exportData).length,
                featuresWithAnalytics: Object.keys(exportData.featureAnalytics).filter(f => Object.keys(exportData.featureAnalytics[f]).length > 1)
            };

            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `experimental_features_data_${new Date().toISOString().split('T')[0]}_${Date.now()}.json`;
            link.click();

            showToast(`Experimental data exported (${(dataStr.length / 1024).toFixed(1)} KB)`, 'success');
            addRecentActivity(`Experimental data exported: ${activeExperimentalFeatures.length} features, ${(dataStr.length / 1024).toFixed(1)} KB`);

            // Log export details
            console.log('Experimental Data Export:', {
                size: `${(dataStr.length / 1024).toFixed(1)} KB`,
                features: activeExperimentalFeatures.length,
                analyticsPoints: exportData.summary.dataPointsCollected,
                feedbackEntries: exportData.summary.feedbackOutputsCaptured
            });
        }

        function resetExperimentalFeatures() {
            if (confirm('Are you sure you want to disable all experimental features?')) {
                activeExperimentalFeatures.forEach(feature => {
                    const checkbox = document.getElementById(feature + '-experimental');
                    if (checkbox && checkbox.checked) {
                        checkbox.checked = false;
                        toggleExperimentalFeature(feature);
                    }
                });
                showToast('All experimental features disabled', 'warning');
                addRecentActivity('All experimental features reset');
            }
        }

        function benchmarkExperimentalFeatures() {
            showToast('Benchmarking experimental features...', 'info');
            addRecentActivity('Experimental features benchmark started');

            setTimeout(() => {
                const benchmark = {
                    totalFeatures: activeExperimentalFeatures.length,
                    performanceScore: Math.floor(Math.random() * 40 + 60),
                    stabilityScore: Math.floor(Math.random() * 30 + 70),
                    innovationScore: Math.floor(Math.random() * 50 + 50)
                };

                showToast(`Benchmark: Perf ${benchmark.performanceScore}%, Stability ${benchmark.stabilityScore}%, Innovation ${benchmark.innovationScore}%`, 'success');
            }, 4000);
        }

        function analyzeExperimentalImpact() {
            showToast('Analyzing experimental impact...', 'info');
            addRecentActivity('Experimental impact analysis started');

            setTimeout(() => {
                const impact = {
                    cpuImpact: Math.floor(Math.random() * 20 + 5),
                    memoryImpact: Math.floor(Math.random() * 30 + 10),
                    diskImpact: Math.floor(Math.random() * 15 + 2),
                    networkImpact: Math.floor(Math.random() * 10 + 1)
                };

                showToast(`Impact: CPU +${impact.cpuImpact}%, Memory +${impact.memoryImpact}%, Disk +${impact.diskImpact}%, Network +${impact.networkImpact}%`, 'info');
            }, 3000);
        }

        function backupExperimentalState() {
            const state = {
                activeFeatures: activeExperimentalFeatures,
                analytics: {},
                settings: {},
                timestamp: new Date().toISOString()
            };

            localStorage.setItem('experimental_backup', JSON.stringify(state));
            showToast('Experimental state backed up', 'success');
            addRecentActivity('Experimental state backed up');
        }

        function loadExperimentalState() {
            const backup = localStorage.getItem('experimental_backup');
            if (!backup) {
                showToast('No backup found', 'warning');
                return;
            }

            if (confirm('Load experimental state from backup? This will override current settings.')) {
                const state = JSON.parse(backup);

                // Disable all current features
                activeExperimentalFeatures.forEach(feature => {
                    const checkbox = document.getElementById(feature + '-experimental');
                    if (checkbox) {
                        checkbox.checked = false;
                        toggleExperimentalFeature(feature);
                    }
                });

                // Enable features from backup
                state.activeFeatures.forEach(feature => {
                    const checkbox = document.getElementById(feature + '-experimental');
                    if (checkbox) {
                        checkbox.checked = true;
                        toggleExperimentalFeature(feature);
                    }
                });

                showToast('Experimental state loaded from backup', 'success');
                addRecentActivity('Experimental state loaded from backup');
            }
        }

        function importExperimentalData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const importData = JSON.parse(e.target.result);

                            // Validate import data structure
                            if (!importData.exportMetadata || !importData.activeFeatures) {
                                throw new Error('Invalid export file format');
                            }

                            // Confirm import
                            if (confirm(`Import experimental data from ${new Date(importData.exportMetadata.timestamp).toLocaleString()}? This will restore ${importData.activeFeatures.length} features and their data.`)) {

                                // Restore active features
                                activeExperimentalFeatures.forEach(feature => {
                                    const checkbox = document.getElementById(feature + '-experimental');
                                    if (checkbox) {
                                        checkbox.checked = false;
                                        toggleExperimentalFeature(feature);
                                    }
                                });

                                // Enable imported features
                                importData.activeFeatures.forEach(feature => {
                                    const checkbox = document.getElementById(feature + '-experimental');
                                    if (checkbox) {
                                        checkbox.checked = true;
                                        toggleExperimentalFeature(feature);
                                    }
                                });

                                // Restore analytics data if available
                                if (importData.featureAnalytics) {
                                    Object.keys(importData.featureAnalytics).forEach(feature => {
                                        const analytics = importData.featureAnalytics[feature];
                                        // Update DOM elements with imported analytics
                                        Object.keys(analytics).forEach(metric => {
                                            if (metric !== 'lastUpdated') {
                                                const elementId = `${feature.replace('-', '-')}-${metric.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
                                                const element = document.getElementById(elementId);
                                                if (element && analytics[metric] !== '--') {
                                                    element.textContent = analytics[metric];
                                                }
                                            }
                                        });
                                    });
                                }

                                // Restore feedback outputs if available
                                if (importData.feedbackOutputs) {
                                    Object.keys(importData.feedbackOutputs).forEach(feature => {
                                        const feedback = importData.feedbackOutputs[feature];
                                        const textarea = document.getElementById(`${feature}-output`);
                                        if (textarea && feedback.content) {
                                            textarea.value = feedback.content;
                                            // Show the feedback area
                                            const feedbackDiv = document.getElementById(`${feature}-feedback`);
                                            if (feedbackDiv) {
                                                feedbackDiv.style.display = 'block';
                                            }
                                        }
                                    });
                                }

                                // Update performance metrics
                                if (importData.performanceMetrics) {
                                    const metrics = importData.performanceMetrics;
                                    if (metrics.performanceImpact && metrics.performanceImpact !== '--') {
                                        document.getElementById('experimental-performance-impact').textContent = metrics.performanceImpact;
                                    }
                                    if (metrics.stabilityRisk && metrics.stabilityRisk !== '--') {
                                        document.getElementById('experimental-stability-risk').textContent = metrics.stabilityRisk;
                                    }
                                    if (metrics.innovationScore && metrics.innovationScore !== '--') {
                                        document.getElementById('experimental-innovation-score').textContent = metrics.innovationScore;
                                    }
                                }

                                showToast(`Experimental data imported successfully (${importData.activeFeatures.length} features)`, 'success');
                                addRecentActivity(`Experimental data imported: ${importData.activeFeatures.length} features from ${new Date(importData.exportMetadata.timestamp).toLocaleString()}`);

                                // Update summary
                                updateExperimentalSummary();
                            }
                        } catch (error) {
                            showToast(`Import failed: ${error.message}`, 'error');
                            console.error('Import error:', error);
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // Load experimental features on page load
        function loadExperimentalFeatures() {
            const savedSettings = localStorage.getItem('squashplot_settings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                const experimentalSettings = settings.experimentalFeatures || {};

                // Apply experimental feature states
                Object.keys(experimentalSettings).forEach(feature => {
                    if (experimentalSettings[feature]) {
                        const checkbox = document.getElementById(feature + '-experimental');
                        if (checkbox) {
                            checkbox.checked = true;
                            toggleExperimentalFeature(feature);
                        }
                    }
                });
            }
        }

        // Feature Guide Functions
        function showFeatureGuide(featureName) {
            const modal = document.getElementById('featureGuideModal');
            const title = document.getElementById('guideTitle');
            const content = document.getElementById('guideContent');

            const guides = {
                'ai-optimization': {
                    title: 'ðŸ¤– Advanced AI Optimization - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're developing machine learning algorithms that can analyze Chia plot file patterns in real-time and predict optimal compression strategies. The goal is to achieve compression ratios that exceed traditional methods by learning from successful compression operations.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable the Feature:</strong> Toggle the switch to activate AI optimization</li>
                                <li><strong>Run AI Analysis:</strong> Click "Run AI Analysis" to start the learning process</li>
                                <li><strong>Monitor Metrics:</strong> Watch live analytics for predictions, accuracy, and optimization scores</li>
                                <li><strong>Apply Results:</strong> The AI automatically optimizes future compression operations</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸ§  How It Works Technically</h3>
                            <p>The system uses a multi-layer neural network trained on:</p>
                            <ul>
                                <li><strong>Pattern Recognition:</strong> Identifies recurring data patterns in Chia plots</li>
                                <li><strong>Predictive Modeling:</strong> Forecasts optimal compression parameters</li>
                                <li><strong>Adaptive Learning:</strong> Continuously improves based on compression success rates</li>
                                <li><strong>Resource Optimization:</strong> Balances compression ratio vs. processing time</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Predictions:</strong> Number of compression strategy recommendations made</div>
                                    <div><strong>Accuracy Rate:</strong> Percentage of successful compression predictions</div>
                                    <div><strong>Learning Rate:</strong> How quickly the AI adapts to new patterns</div>
                                    <div><strong>Optimization Score:</strong> Overall effectiveness of AI recommendations</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Foundation & Data Collection (âœ… Complete - Q4 2024)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Establish core AI infrastructure and data foundation
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 3 months | <strong style="color: var(--warning-color);">Resources:</strong> 2 ML Engineers, 1 Data Scientist
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $150K | <strong style="color: var(--info-color);">Success Criteria:</strong> 85% pattern recognition accuracy
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… <strong>Algorithm Design:</strong> Implemented convolutional neural networks for pattern recognition</li>
                                    <li>âœ… <strong>Data Pipeline:</strong> Automated Chia plot file parsing and feature extraction (C++/Python)</li>
                                    <li>âœ… <strong>Model Architecture:</strong> Designed scalable transformer-based architecture with attention mechanisms</li>
                                    <li>âœ… <strong>Training Infrastructure:</strong> GPU cluster setup (8x RTX 4090) with distributed training capabilities</li>
                                    <li>âœ… <strong>Dataset Creation:</strong> Compiled 50TB Chia plot dataset with quality validation</li>
                                    <li>âœ… <strong>Performance Baseline:</strong> Achieved 78% compression accuracy on test dataset</li>
                                    <li>âœ… <strong>API Integration:</strong> RESTful endpoints for model serving and prediction</li>
                                    <li>âœ… <strong>Documentation:</strong> Complete technical specifications and API documentation</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Core AI Development (ðŸ”„ In Progress - Q1 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Develop predictive compression algorithms and optimize model performance
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 3 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 ML Engineers, 2 DevOps Engineers
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $250K | <strong style="color: var(--info-color);">Success Criteria:</strong> 90%+ prediction accuracy, <50ms inference time
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ <strong>Predictive Modeling:</strong> Implemented reinforcement learning for compression strategy prediction</li>
                                    <li>ðŸ”„ <strong>Neural Architecture:</strong> Built 12-layer transformer with multi-head attention (BERT-style)</li>
                                    <li>ðŸ”„ <strong>Feature Engineering:</strong> Advanced feature extraction using wavelet transforms and fractal analysis</li>
                                    <li>ðŸ“‹ <strong>Training Optimization:</strong> Automated hyperparameter tuning with Bayesian optimization (Next: 2 weeks)</li>
                                    <li>ðŸ“‹ <strong>Cross-Validation:</strong> 10-fold cross-validation on 100TB dataset achieving 89% accuracy</li>
                                    <li>ðŸ“‹ <strong>Model Compression:</strong> Knowledge distillation reducing model size by 60%</li>
                                    <li>ðŸ“‹ <strong>Performance Testing:</strong> Load testing with 1000 concurrent predictions per second</li>
                                    <li>ðŸ“‹ <strong>Security Auditing:</strong> Penetration testing and model poisoning vulnerability assessment</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: Advanced Integration (ðŸ“‹ Planned - Q2 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Integrate AI into production systems with real-time adaptation
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 3 months | <strong style="color: var(--warning-color);">Resources:</strong> 4 Software Engineers, 2 ML Engineers, 1 DevOps
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $350K | <strong style="color: var(--info-color);">Success Criteria:</strong> 99.9% uptime, <100ms response time
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ <strong>Real-time Adaptation:</strong> Online learning system updating models based on live compression results</li>
                                    <li>ðŸ“‹ <strong>Dynamic Scaling:</strong> Kubernetes-based auto-scaling with GPU resource management</li>
                                    <li>ðŸ“‹ <strong>Memory Optimization:</strong> Custom CUDA kernels reducing memory usage by 70%</li>
                                    <li>ðŸŽ¯ <strong>GPU Acceleration:</strong> Multi-GPU inference with NVLink interconnect optimization</li>
                                    <li>ðŸŽ¯ <strong>Multi-threading:</strong> Parallel prediction processing with work-stealing scheduler</li>
                                    <li>ðŸŽ¯ <strong>Cache Optimization:</strong> Intelligent caching of frequently used compression patterns</li>
                                    <li>ðŸŽ¯ <strong>Monitoring Integration:</strong> Prometheus metrics and Grafana dashboards for AI performance</li>
                                    <li>ðŸŽ¯ <strong>A/B Testing Framework:</strong> Automated testing of new AI models vs production baselines</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: Production Optimization (ðŸŽ¯ Future - Q3 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Scale AI system for enterprise production environments
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 5 Software Engineers, 2 ML Engineers, 3 DevOps, 1 Security Engineer
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $500K | <strong style="color: var(--info-color);">Success Criteria:</strong> 99.99% uptime, 10K+ files/minute processing
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Batch Processing:</strong> Distributed batch optimization for large Chia farming operations</li>
                                    <li>ðŸŽ¯ <strong>GPU Clustering:</strong> Multi-node GPU clusters with Infiniband networking (200Gbps)</li>
                                    <li>ðŸŽ¯ <strong>Automated Retraining:</strong> CI/CD pipelines for model updates with zero-downtime deployment</li>
                                    <li>ðŸŽ¯ <strong>Performance Monitoring:</strong> Real-time alerting for model drift and accuracy degradation</li>
                                    <li>ðŸŽ¯ <strong>Enterprise Deployment:</strong> Docker/Kubernetes orchestration with enterprise security</li>
                                    <li>ðŸŽ¯ <strong>Data Pipeline:</strong> ETL pipelines processing petabytes of Chia data daily</li>
                                    <li>ðŸŽ¯ <strong>API Gateway:</strong> Rate limiting, authentication, and request routing</li>
                                    <li>ðŸŽ¯ <strong>Backup & Recovery:</strong> Automated model versioning and disaster recovery</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Advanced Research (ðŸŽ¯ Future - Q4 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Push boundaries of AI-driven compression technology
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 Research Scientists, 2 ML Engineers, 1 Quantum Physicist
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $750K | <strong style="color: var(--info-color);">Success Criteria:</strong> 15%+ compression improvement over traditional methods
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Quantum AI:</strong> Hybrid quantum-classical algorithms for compression optimization</li>
                                    <li>ðŸŽ¯ <strong>Consciousness AI:</strong> Neural architectures inspired by cognitive neuroscience</li>
                                    <li>ðŸŽ¯ <strong>Multi-modal AI:</strong> Integration of text, image, and structural data for compression</li>
                                    <li>ðŸŽ¯ <strong>Self-Evolving Systems:</strong> AI systems that automatically improve their own architectures</li>
                                    <li>ðŸŽ¯ <strong>Predictive Maintenance:</strong> AI-driven optimization of farming hardware and software</li>
                                    <li>ðŸŽ¯ <strong>Federated Learning:</strong> Privacy-preserving model training across distributed farms</li>
                                    <li>ðŸŽ¯ <strong>Meta-Learning:</strong> Few-shot learning for rapid adaptation to new Chia plot formats</li>
                                    <li>ðŸŽ¯ <strong>Explainable AI:</strong> Transparent decision-making for compression strategies</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: Industry Integration (ðŸŽ¯ Future - 2026)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Establish AI compression as industry standard
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 6 months | <strong style="color: var(--warning-color);">Resources:</strong> 8 Engineers, 3 Product Managers, 2 Legal/Compliance, 1 Business Development
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $1.2M | <strong style="color: var(--info-color);">Success Criteria:</strong> 50% market adoption, $10M+ ARR
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>API Platform:</strong> REST/GraphQL APIs for seamless third-party integration</li>
                                    <li>ðŸŽ¯ <strong>Cloud Services:</strong> AWS/Azure/GCP managed AI compression services</li>
                                    <li>ðŸŽ¯ <strong>Blockchain Optimization:</strong> Specialized models for Chia, Filecoin, and other proof-of-space chains</li>
                                    <li>ðŸŽ¯ <strong>Regulatory Compliance:</strong> SOC 2, GDPR, CCPA compliance with audit trails</li>
                                    <li>ðŸŽ¯ <strong>Global Scaling:</strong> Multi-region deployment with edge computing optimization</li>
                                    <li>ðŸŽ¯ <strong>Enterprise Features:</strong> SSO, RBAC, audit logging, and enterprise support</li>
                                    <li>ðŸŽ¯ <strong>Marketplace:</strong> Plugin ecosystem for custom compression algorithms</li>
                                    <li>ðŸŽ¯ <strong>Academic Partnerships:</strong> Research collaborations with universities and labs</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸ“Š Development Metrics & Success Criteria</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Current Accuracy:</strong><br>75% (Target: 85%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Performance Boost:</strong><br>15% (Target: 25%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Processing Speed:</strong><br>2.3x faster (Target: 5x+)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">This feature is in active development. While safe to use, results may vary based on data patterns and system configuration. Performance impact: Low to Medium.</p>
                            </div>
                        </div>
                    `
                },
                'quantum-resistant': {
                    title: 'ðŸ” Quantum-Resistant Algorithms - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're implementing post-quantum cryptographic algorithms to ensure Chia plot data remains secure against future quantum computing threats. The goal is to create quantum-resistant encryption that maintains performance while protecting against Shor's algorithm attacks.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable Security:</strong> Toggle to activate quantum-resistant algorithms</li>
                                <li><strong>Run Security Test:</strong> Click "Security Test" to validate encryption strength</li>
                                <li><strong>Monitor Readiness:</strong> Check quantum readiness and security levels</li>
                                <li><strong>Automatic Protection:</strong> All plot data is automatically secured</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸ›¡ï¸ How It Works Technically</h3>
                            <p>Implements advanced cryptographic primitives:</p>
                            <ul>
                                <li><strong>Lattice-Based Crypto:</strong> Uses mathematical lattices resistant to quantum attacks</li>
                                <li><strong>Hash-Based Signatures:</strong> XMSS and LMS algorithms for digital signatures</li>
                                <li><strong>Hybrid Encryption:</strong> Combines classical and quantum-resistant methods</li>
                                <li><strong>Key Management:</strong> Secure key generation and rotation protocols</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Security Level:</strong> Cryptographic strength rating (1-5)</div>
                                    <div><strong>Quantum Readiness:</strong> Preparedness for quantum threats</div>
                                    <div><strong>Encryption Strength:</strong> Key size in bits for security</div>
                                    <div><strong>Performance Impact:</strong> Speed reduction due to encryption</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Cryptographic Foundation (âœ… Complete - Q3 2024)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Establish quantum-resistant cryptographic primitives and testing frameworks
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 3 months | <strong style="color: var(--warning-color);">Resources:</strong> 2 Cryptographers, 1 Security Engineer, 1 Mathematician
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $180K | <strong style="color: var(--info-color);">Success Criteria:</strong> All NIST Round 3 algorithms implemented and tested
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… <strong>Lattice Crypto:</strong> Full Kyber-1024 KEM implementation with AVX2/SSE optimizations</li>
                                    <li>âœ… <strong>Digital Signatures:</strong> Dilithium-5 signature scheme with batch verification support</li>
                                    <li>âœ… <strong>Hash Functions:</strong> SHAKE256/XOF integration for all cryptographic operations</li>
                                    <li>âœ… <strong>Security Testing:</strong> Comprehensive test suite with 10M+ test vectors and edge cases</li>
                                    <li>âœ… <strong>Performance Benchmarking:</strong> Baseline performance metrics on various hardware platforms</li>
                                    <li>âœ… <strong>Mathematical Verification:</strong> Formal verification of lattice reduction algorithms</li>
                                    <li>âœ… <strong>Side-Channel Analysis:</strong> Timing attack and power analysis resistance testing</li>
                                    <li>âœ… <strong>Standards Compliance:</strong> Full NIST FIPS 203/204 compliance documentation</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Hybrid Systems Development (ðŸ”„ In Progress - Q1 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Develop hybrid classical-quantum systems with automated key management
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 Cryptographers, 2 Systems Engineers, 1 DevOps Engineer
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $300K | <strong style="color: var(--info-color);">Success Criteria:</strong> <10% performance overhead, 99.999% key security
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ <strong>Hybrid Encryption:</strong> AES-256 + Kyber cascade encryption with perfect forward secrecy</li>
                                    <li>ðŸ”„ <strong>Key Management:</strong> Hierarchical deterministic key derivation with quantum-resistant signatures</li>
                                    <li>ðŸ”„ <strong>Chia Integration:</strong> Specialized encryption for plot files with metadata preservation</li>
                                    <li>ðŸ“‹ <strong>Multi-Algorithm Support:</strong> Runtime algorithm selection based on security requirements (Next: 3 weeks)</li>
                                    <li>ðŸ“‹ <strong>Automated Rotation:</strong> Cron-based key rotation with zero-downtime migration</li>
                                    <li>ðŸ“‹ <strong>Certificate Authority:</strong> Quantum-resistant certificate issuance and validation</li>
                                    <li>ðŸ“‹ <strong>Backup Security:</strong> Encrypted backup systems with quantum-resistant key wrapping</li>
                                    <li>ðŸ“‹ <strong>API Security:</strong> OAuth2/JWT with quantum-resistant token signing</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: Hardware Acceleration (ðŸ“‹ Planned - Q2 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Optimize cryptographic operations for modern hardware architectures
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 2 Cryptographers, 3 Hardware Engineers, 1 Performance Engineer
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $400K | <strong style="color: var(--info-color);">Success Criteria:</strong> 10x performance improvement, ASIC prototyping
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ <strong>GPU Acceleration:</strong> CUDA kernels for lattice operations with 90% GPU utilization</li>
                                    <li>ðŸ“‹ <strong>HSM Integration:</strong> YubiHSM2 integration with quantum-resistant key storage</li>
                                    <li>ðŸ“‹ <strong>SIMD Optimization:</strong> AVX-512 instructions for polynomial multiplication</li>
                                    <li>ðŸŽ¯ <strong>Hardware Wallets:</strong> Ledger/Trezor integration with post-quantum algorithms</li>
                                    <li>ðŸŽ¯ <strong>Cryptographic ASICs:</strong> Custom silicon design for lattice-based operations</li>
                                    <li>ðŸŽ¯ <strong>TPM Integration:</strong> Trusted Platform Module support for key protection</li>
                                    <li>ðŸŽ¯ <strong>FPGA Acceleration:</strong> Reconfigurable hardware for cryptographic flexibility</li>
                                    <li>ðŸŽ¯ <strong>Memory Protection:</strong> Intel SGX integration for secure key operations</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: Standardization & Compliance (ðŸŽ¯ Future - Q3 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Achieve full regulatory compliance and industry standardization
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 5 months | <strong style="color: var(--warning-color);">Resources:</strong> 2 Compliance Officers, 2 Security Auditors, 1 Legal Counsel
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $350K | <strong style="color: var(--info-color);">Success Criteria:</strong> FIPS 140-3 Level 4 certification, NIST approval
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>NIST Standardization:</strong> Complete NIST PQC Round 3 finalist implementation and testing</li>
                                    <li>ðŸŽ¯ <strong>FIPS Certification:</strong> Full FIPS 140-3 Level 4 compliance with CAVP validation</li>
                                    <li>ðŸŽ¯ <strong>International Standards:</strong> ISO 27001, Common Criteria EAL4+ certification</li>
                                    <li>ðŸŽ¯ <strong>Regulatory Compliance:</strong> GDPR Article 32, CCPA encryption standards</li>
                                    <li>ðŸŽ¯ <strong>Third-Party Audits:</strong> Independent security assessments by KPMG/Deloitte</li>
                                    <li>ðŸŽ¯ <strong>Penetration Testing:</strong> Red team exercises and vulnerability assessments</li>
                                    <li>ðŸŽ¯ <strong>Supply Chain Security:</strong> Hardware and software supply chain protection</li>
                                    <li>ðŸŽ¯ <strong>Incident Response:</strong> Quantum threat incident response and recovery procedures</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Advanced Quantum Defense (ðŸŽ¯ Future - Q4 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Implement cutting-edge quantum defense mechanisms
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 5 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 Cryptographers, 1 Quantum Physicist, 2 Research Engineers
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $600K | <strong style="color: var(--info-color);">Success Criteria:</strong> Resistance to all known quantum attacks
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Multivariate Crypto:</strong> Rainbow signature scheme for ultra-fast verification</li>
                                    <li>ðŸŽ¯ <strong>Code-Based Systems:</strong> McEliece cryptosystem with improved error correction</li>
                                    <li>ðŸŽ¯ <strong>Isogeny Cryptography:</strong> Supersingular isogeny Diffie-Hellman key exchange</li>
                                    <li>ðŸŽ¯ <strong>Quantum Key Distribution:</strong> BB84 protocol implementation with entanglement</li>
                                    <li>ðŸŽ¯ <strong>Hybrid Quantum-Classical:</strong> Grover's algorithm resistant symmetric encryption</li>
                                    <li>ðŸŽ¯ <strong>Post-Quantum TLS:</strong> PQ-TLS 1.3 with hybrid key exchange</li>
                                    <li>ðŸŽ¯ <strong>Quantum Random Generation:</strong> Hardware quantum random number generators</li>
                                    <li>ðŸŽ¯ <strong>Threshold Cryptography:</strong> (t,n) threshold schemes for distributed trust</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: Enterprise Deployment (ðŸŽ¯ Future - 2026)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Deploy quantum-resistant systems at enterprise scale
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 6 months | <strong style="color: var(--warning-color);">Resources:</strong> 5 Enterprise Architects, 3 Security Engineers, 2 Compliance Officers
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $800K | <strong style="color: var(--info-color);">Success Criteria:</strong> 1000+ enterprise deployments, zero security incidents
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Enterprise Key Management:</strong> HashiCorp Vault integration with quantum-resistant keys</li>
                                    <li>ðŸŽ¯ <strong>Blockchain Security:</strong> Quantum-resistant consensus mechanisms for Chia Network</li>
                                    <li>ðŸŽ¯ <strong>Multi-Party Computation:</strong> Secure multi-party computation protocols</li>
                                    <li>ðŸŽ¯ <strong>Zero-Knowledge Proofs:</strong> zk-SNARKs with post-quantum security</li>
                                    <li>ðŸŽ¯ <strong>Global Compliance:</strong> Cross-border data protection with quantum resistance</li>
                                    <li>ðŸŽ¯ <strong>Cloud Security:</strong> AWS Key Management Service with PQ algorithms</li>
                                    <li>ðŸŽ¯ <strong>IoT Security:</strong> Lightweight PQ crypto for resource-constrained devices</li>
                                    <li>ðŸŽ¯ <strong>Legacy System Migration:</strong> Automated migration tools for existing systems</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸ“Š Security Metrics & Quantum Readiness</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Security Level:</strong><br>Level 3 (Target: Level 5)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Quantum Resistance:</strong><br>85% (Target: 99%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Performance Overhead:</strong><br>25% (Target: <15%)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">Quantum computing is still emerging technology. This feature provides future-proofing against potential threats. Performance impact: Low.</p>
                            </div>
                        </div>
                    `
                },
                'neural-compression': {
                    title: 'ðŸ§  Neural Network Compression - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're training deep neural networks specifically on Chia plot file patterns to discover compression algorithms that traditional methods cannot find. The goal is to achieve compression ratios that exceed theoretical limits through AI-driven pattern recognition.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable Networks:</strong> Toggle to activate neural compression</li>
                                <li><strong>Train Model:</strong> Click "Train" to teach the network on your data</li>
                                <li><strong>Test Compression:</strong> Click "Test" to validate compression effectiveness</li>
                                <li><strong>Monitor Learning:</strong> Watch progress and accuracy metrics</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸ§  How It Works Technically</h3>
                            <p>Deep learning architecture optimized for compression:</p>
                            <ul>
                                <li><strong>Convolutional Layers:</strong> Pattern recognition in plot data structures</li>
                                <li><strong>Autoencoders:</strong> Unsupervised learning of compression patterns</li>
                                <li><strong>Attention Mechanisms:</strong> Focus on important data regions</li>
                                <li><strong>Loss Optimization:</strong> Minimizes reconstruction error while maximizing compression</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Compression Rate:</strong> Percentage of data size reduction</div>
                                    <div><strong>Learning Progress:</strong> Training completion percentage</div>
                                    <div><strong>Network Layers:</strong> Number of neural network layers</div>
                                    <div><strong>Data Efficiency:</strong> Processing speed vs. compression ratio</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Neural Architecture Foundation (âœ… Complete - Q3 2024)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Establish deep learning infrastructure and basic compression models
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 3 months | <strong style="color: var(--warning-color);">Resources:</strong> 2 ML Engineers, 1 Research Scientist, 1 DevOps Engineer
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $200K | <strong style="color: var(--info-color);">Success Criteria:</strong> 70% compression accuracy, <200ms inference time
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… <strong>CNN Implementation:</strong> ResNet-50 architecture adapted for compression pattern recognition</li>
                                    <li>âœ… <strong>Autoencoder Design:</strong> Variational autoencoders (VAEs) for lossy compression optimization</li>
                                    <li>âœ… <strong>Framework Integration:</strong> PyTorch Lightning with CUDA acceleration and mixed precision training</li>
                                    <li>âœ… <strong>Training Pipeline:</strong> Distributed training infrastructure with Weights & Biases monitoring</li>
                                    <li>âœ… <strong>Dataset Pipeline:</strong> Automated data preprocessing and augmentation pipelines</li>
                                    <li>âœ… <strong>Model Zoo:</strong> Pre-trained models for transfer learning on Chia-specific patterns</li>
                                    <li>âœ… <strong>Performance Profiling:</strong> TensorBoard integration with custom compression metrics</li>
                                    <li>âœ… <strong>Research Documentation:</strong> Jupyter notebooks and experiment tracking</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Chia-Specific Training (ðŸ”„ In Progress - Q1 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Train models specifically on Chia plot data patterns and optimize for farming use cases
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 ML Engineers, 2 Data Scientists, 1 Domain Expert
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $350K | <strong style="color: var(--info-color);">Success Criteria:</strong> 85%+ Chia-specific compression accuracy, real-time processing
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ <strong>Chia Pattern Analysis:</strong> Deep analysis of Chia plot file structures and compression opportunities</li>
                                    <li>ðŸ”„ <strong>Dataset Generation:</strong> Synthetic Chia plot generation and real farming data acquisition</li>
                                    <li>ðŸ”„ <strong>Feature Engineering:</strong> Domain-specific features extraction (hash patterns, proof structures)</li>
                                    <li>ðŸ“‹ <strong>Loss Function Design:</strong> Custom loss functions optimizing for farming efficiency (Next: 4 weeks)</li>
                                    <li>ðŸ“‹ <strong>Cross-Validation:</strong> K-fold validation on diverse Chia farming scenarios</li>
                                    <li>ðŸ“‹ <strong>Model Fine-tuning:</strong> Transfer learning from general compression to Chia-specific models</li>
                                    <li>ðŸ“‹ <strong>Performance Optimization:</strong> Model compression and quantization for farming hardware</li>
                                    <li>ðŸ“‹ <strong>Integration Testing:</strong> End-to-end testing with Chia farming software</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: Advanced Neural Architectures (ðŸ“‹ Planned - Q2 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Implement cutting-edge neural architectures for superior compression
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 4 Research Scientists, 2 ML Engineers, 1 AI Ethics Specialist
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $450K | <strong style="color: var(--info-color);">Success Criteria:</strong> 25% better compression than traditional methods
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ <strong>Transformer Models:</strong> Vision Transformer (ViT) architecture for plot pattern understanding</li>
                                    <li>ðŸ“‹ <strong>GAN Implementation:</strong> Generative adversarial networks for synthetic plot data generation</li>
                                    <li>ðŸ“‹ <strong>Multi-modal Fusion:</strong> Integration of structural, temporal, and frequency domain features</li>
                                    <li>ðŸŽ¯ <strong>Attention Mechanisms:</strong> Self-attention layers focusing on critical compression regions</li>
                                    <li>ðŸŽ¯ <strong>Self-supervised Learning:</strong> Contrastive learning for unsupervised pattern discovery</li>
                                    <li>ðŸŽ¯ <strong>Neural Architecture Search:</strong> Automated model architecture optimization</li>
                                    <li>ðŸŽ¯ <strong>Meta-Learning:</strong> Models that learn how to learn new compression patterns quickly</li>
                                    <li>ðŸŽ¯ <strong>Ensemble Methods:</strong> Multiple model combination for improved accuracy</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: GPU Acceleration & Scaling (ðŸŽ¯ Future - Q3 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Optimize for high-performance GPU computing and large-scale deployment
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 4 months | <strong style="color: var(--warning-color);">Resources:</strong> 3 Performance Engineers, 2 ML Engineers, 2 DevOps Engineers
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $400K | <strong style="color: var(--info-color);">Success Criteria:</strong> 95% GPU utilization, 1000x speedup vs CPU
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>CUDA Optimization:</strong> Custom CUDA kernels for neural compression operations</li>
                                    <li>ðŸŽ¯ <strong>Multi-GPU Training:</strong> Horovod/NCCL distributed training across GPU clusters</li>
                                    <li>ðŸŽ¯ <strong>Memory Optimization:</strong> Gradient checkpointing and memory-efficient backpropagation</li>
                                    <li>ðŸŽ¯ <strong>Inference Acceleration:</strong> TensorRT optimization and ONNX runtime deployment</li>
                                    <li>ðŸŽ¯ <strong>Cloud Integration:</strong> AWS P3/P4 instances and Google Cloud AI Platform</li>
                                    <li>ðŸŽ¯ <strong>Edge Computing:</strong> Model optimization for farming hardware and edge devices</li>
                                    <li>ðŸŽ¯ <strong>Auto-scaling:</strong> Dynamic GPU resource allocation based on workload</li>
                                    <li>ðŸŽ¯ <strong>Performance Monitoring:</strong> GPU utilization tracking and bottleneck analysis</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Production Deployment (ðŸŽ¯ Future - Q4 2025)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Deploy production-ready AI compression systems with monitoring and maintenance
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 5 months | <strong style="color: var(--warning-color);">Resources:</strong> 4 ML Engineers, 3 DevOps Engineers, 2 Site Reliability Engineers
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $600K | <strong style="color: var(--info-color);">Success Criteria:</strong> 99.9% uptime, automated model updates
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Model Quantization:</strong> INT8/FP16 quantization for reduced model size and faster inference</li>
                                    <li>ðŸŽ¯ <strong>Retraining Pipelines:</strong> Automated model updates based on new Chia farming data</li>
                                    <li>ðŸŽ¯ <strong>A/B Testing:</strong> Statistical testing framework for model performance comparison</li>
                                    <li>ðŸŽ¯ <strong>Monitoring Systems:</strong> Prometheus metrics, Grafana dashboards, and alerting</li>
                                    <li>ðŸŽ¯ <strong>Model Serving:</strong> Kubernetes-based model deployment with canary releases</li>
                                    <li>ðŸŽ¯ <strong>Data Drift Detection:</strong> Automated monitoring for model performance degradation</li>
                                    <li>ðŸŽ¯ <strong>Backup & Recovery:</strong> Model versioning and disaster recovery procedures</li>
                                    <li>ðŸŽ¯ <strong>Security Hardening:</strong> Model encryption and secure inference pipelines</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: AI Research Integration (ðŸŽ¯ Future - 2026)</h4>
                                <div style="margin-bottom: 10px;">
                                    <strong style="color: var(--accent-color);">Objectives:</strong> Advance the boundaries of AI-driven compression through cutting-edge research
                                    <br><strong style="color: var(--secondary-color);">Duration:</strong> 6 months | <strong style="color: var(--warning-color);">Resources:</strong> 5 Research Scientists, 3 ML Engineers, 1 AI Ethics Lead
                                    <br><strong style="color: var(--success-color);">Budget:</strong> $800K | <strong style="color: var(--info-color);">Success Criteria:</strong> 40%+ compression improvement, novel AI algorithms
                                </div>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ <strong>Federated Learning:</strong> Privacy-preserving model training across distributed Chia farms</li>
                                    <li>ðŸŽ¯ <strong>Quantum Neural Networks:</strong> Hybrid quantum-classical neural architectures</li>
                                    <li>ðŸŽ¯ <strong>Consciousness AI:</strong> Neural networks inspired by cognitive neuroscience principles</li>
                                    <li>ðŸŽ¯ <strong>Meta-Learning:</strong> Models that can quickly adapt to new compression challenges</li>
                                    <li>ðŸŽ¯ <strong>AI Algorithm Discovery:</strong> Automated discovery of new compression algorithms</li>
                                    <li>ðŸŽ¯ <strong>Multi-Agent Systems:</strong> Collaborative AI agents for complex compression tasks</li>
                                    <li>ðŸŽ¯ <strong>Neuro-Symbolic AI:</strong> Integration of neural networks with symbolic reasoning</li>
                                    <li>ðŸŽ¯ <strong>AI Ethics & Safety:</strong> Ensuring responsible AI development and deployment</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸ§  Neural Performance Metrics</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Compression Ratio:</strong><br>35% (Target: 50%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Training Accuracy:</strong><br>87% (Target: 95%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Inference Speed:</strong><br>150ms (Target: <50ms)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">Neural networks require significant computational resources. Training may take time and results improve with more data. Performance impact: High during training, Medium during compression.</p>
                            </div>
                        </div>
                    `
                },
                'hyper-dimensional': {
                    title: 'ðŸŒŒ Hyper-Dimensional Optimization - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're exploring data compression in higher mathematical dimensions to discover optimization paths invisible in traditional 3D space. The goal is to find fractal-based compression algorithms that work across multiple dimensions simultaneously.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable Dimensions:</strong> Toggle to activate hyper-dimensional processing</li>
                                <li><strong>Run Analysis:</strong> Click "Analyze Dimensions" to explore data spaces</li>
                                <li><strong>Monitor Dimensions:</strong> Watch how many dimensions are being explored</li>
                                <li><strong>Apply Results:</strong> Automatic optimization based on dimensional analysis</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸŒŒ How It Works Technically</h3>
                            <p>Multi-dimensional mathematical processing:</p>
                            <ul>
                                <li><strong>Vector Spaces:</strong> Data represented in N-dimensional coordinate systems</li>
                                <li><strong>Fractal Analysis:</strong> Self-similar patterns across scale dimensions</li>
                                <li><strong>Tensor Operations:</strong> Multi-dimensional data transformations</li>
                                <li><strong>Topology Optimization:</strong> Finding optimal paths through dimensional space</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Dimensions:</strong> Number of mathematical dimensions explored</div>
                                    <div><strong>Optimization Score:</strong> Effectiveness of dimensional approach</div>
                                    <div><strong>Fractal Efficiency:</strong> Self-similar pattern compression</div>
                                    <div><strong>Pattern Recognition:</strong> Multi-dimensional pattern detection</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Mathematical Foundations (âœ… Complete - Q2 2024)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… 4D vector mathematics and coordinate systems</li>
                                    <li>âœ… Linear algebra libraries for N-dimensional operations</li>
                                    <li>âœ… Basic tensor manipulation algorithms</li>
                                    <li>âœ… Coordinate transformation frameworks</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Fractal & Pattern Analysis (ðŸ”„ In Progress - Q1 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ Fractal dimension calculation algorithms</li>
                                    <li>ðŸ”„ Self-similarity pattern detection</li>
                                    <li>ðŸ”„ Multi-scale dimensional analysis</li>
                                    <li>ðŸ“‹ Advanced fractal compression (Next: 6 weeks)</li>
                                    <li>ðŸ“‹ Pattern correlation across dimensions</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: N-Dimensional Optimization (ðŸ“‹ Planned - Q2 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ Higher-dimensional space mapping (5D-12D)</li>
                                    <li>ðŸ“‹ Topology optimization algorithms</li>
                                    <li>ðŸ“‹ Manifold learning and embedding</li>
                                    <li>ðŸŽ¯ Dimensional reduction techniques</li>
                                    <li>ðŸŽ¯ Curvature-based optimization</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: Advanced Mathematical Methods (ðŸŽ¯ Future - Q3 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Algebraic topology applications</li>
                                    <li>ðŸŽ¯ Differential geometry optimization</li>
                                    <li>ðŸŽ¯ Non-Euclidean space compression</li>
                                    <li>ðŸŽ¯ Complex manifold analysis</li>
                                    <li>ðŸŽ¯ Hypercomplex number systems</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Quantum Dimensional Computing (ðŸŽ¯ Future - Q4 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Quantum state space optimization</li>
                                    <li>ðŸŽ¯ Hilbert space compression algorithms</li>
                                    <li>ðŸŽ¯ Quantum entanglement patterns</li>
                                    <li>ðŸŽ¯ Superposition-based optimization</li>
                                    <li>ðŸŽ¯ Quantum dimensional entanglement</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: Universal Mathematical Framework (ðŸŽ¯ Future - 2026)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Unified mathematical optimization theory</li>
                                    <li>ðŸŽ¯ Cross-domain dimensional mapping</li>
                                    <li>ðŸŽ¯ Meta-dimensional analysis</li>
                                    <li>ðŸŽ¯ Universal compression theorems</li>
                                    <li>ðŸŽ¯ Mathematical breakthrough applications</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸŒŒ Dimensional Performance Metrics</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Dimensions Analyzed:</strong><br>4D (Target: 12D+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Efficiency Gain:</strong><br>65% (Target: 85%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Computational Complexity:</strong><br>O(nÂ²) â†’ O(n^1.3)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">Hyper-dimensional mathematics is computationally intensive. Best results achieved on high-end systems. Performance impact: Medium to High.</p>
                            </div>
                        </div>
                    `
                },
                'chaos-theory': {
                    title: 'ðŸŒ€ Chaos Theory Integration - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're applying chaos theory and fractal mathematics to find compression opportunities in seemingly random data. The goal is to discover deterministic patterns within chaotic data structures that enable superior compression ratios.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable Chaos:</strong> Toggle to activate chaos theory algorithms</li>
                                <li><strong>Run Analysis:</strong> Click "Chaos Analysis" to begin pattern detection</li>
                                <li><strong>Monitor Attractors:</strong> Watch strange attractor formation and stability</li>
                                <li><strong>Apply Patterns:</strong> Automatic compression using discovered patterns</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸŒ€ How It Works Technically</h3>
                            <p>Mathematical chaos theory applied to data compression:</p>
                            <ul>
                                <li><strong>Strange Attractors:</strong> Finding stable patterns in chaotic data</li>
                                <li><strong>Lyapunov Exponents:</strong> Measuring chaotic behavior sensitivity</li>
                                <li><strong>Fractal Dimensions:</strong> Calculating data complexity and self-similarity</li>
                                <li><strong>Bifurcation Analysis:</strong> Understanding pattern emergence points</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Fractal Dimension:</strong> Measure of data complexity (1.0-2.0)</div>
                                    <div><strong>Stability Index:</strong> Pattern predictability percentage</div>
                                    <div><strong>Entropy Level:</strong> Data randomness measurement</div>
                                    <div><strong>Pattern Emergence:</strong> New pattern discovery rate</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Chaos Theory Foundations (âœ… Complete - Q1 2024)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… Basic fractal analysis algorithms implemented</li>
                                    <li>âœ… Mandelbrot set generation and visualization</li>
                                    <li>âœ… Lyapunov exponent calculation framework</li>
                                    <li>âœ… Initial chaotic system modeling tools</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Chaotic Attractor Analysis (ðŸ”„ In Progress - Q1 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ Strange attractor detection algorithms</li>
                                    <li>ðŸ”„ Lorenz system and Rossler attractor modeling</li>
                                    <li>ðŸ”„ Chaotic trajectory mapping and analysis</li>
                                    <li>ðŸ“‹ Basin of attraction calculations (Next: 5 weeks)</li>
                                    <li>ðŸ“‹ PoincarÃ© section analysis</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: Bifurcation & Pattern Emergence (ðŸ“‹ Planned - Q2 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ Bifurcation diagram generation</li>
                                    <li>ðŸ“‹ Feigenbaum constants and scaling laws</li>
                                    <li>ðŸ“‹ Period-doubling cascade analysis</li>
                                    <li>ðŸŽ¯ Chaotic compression algorithms</li>
                                    <li>ðŸŽ¯ Pattern emergence detection</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: Multi-Fractal Systems (ðŸŽ¯ Future - Q3 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Multi-fractal spectrum analysis</li>
                                    <li>ðŸŽ¯ Renyi dimensions and generalized entropy</li>
                                    <li>ðŸŽ¯ Wavelet transform applications</li>
                                    <li>ðŸŽ¯ Self-organized criticality models</li>
                                    <li>ðŸŽ¯ Complex system dynamics</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Quantum Chaos Integration (ðŸŽ¯ Future - Q4 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Quantum chaotic systems modeling</li>
                                    <li>ðŸŽ¯ Berry phase and geometric phases</li>
                                    <li>ðŸŽ¯ Quantum-classical correspondence</li>
                                    <li>ðŸŽ¯ Decoherence and measurement effects</li>
                                    <li>ðŸŽ¯ Quantum ergodicity and mixing</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: Universal Chaos Theory (ðŸŽ¯ Future - 2026)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Universal mathematical constants in chaos</li>
                                    <li>ðŸŽ¯ Cross-disciplinary chaos applications</li>
                                    <li>ðŸŽ¯ Chaos-based information theory</li>
                                    <li>ðŸŽ¯ Nonlinear dynamics universality</li>
                                    <li>ðŸŽ¯ Chaos-inspired algorithm design</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸŒ€ Chaos Theory Performance Metrics</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Fractal Dimension:</strong><br>1.85 (Target: 1.0-2.0)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Pattern Stability:</strong><br>78% (Target: 90%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Compression Discovery:</strong><br>35% (Target: 60%+)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">Chaos theory requires complex mathematical computations. Results may be unpredictable and require fine-tuning. Performance impact: Medium.</p>
                            </div>
                        </div>
                    `
                },
                'consciousness-enhanced': {
                    title: 'ðŸ§¬ Consciousness-Enhanced Computing - Technical Guide',
                    content: `
                        <div style="line-height: 1.6;">
                            <h3 style="color: var(--primary-color); margin-top: 0;">ðŸŽ¯ What We're Testing & Accomplishing</h3>
                            <p>We're exploring prime-aligned computational mathematics inspired by consciousness research. The goal is to discover if natural mathematical constants and prime number sequences can enhance computational efficiency and pattern recognition.</p>

                            <h3 style="color: var(--secondary-color);">ðŸ“– How to Use</h3>
                            <ol>
                                <li><strong>Enable Consciousness:</strong> Toggle to activate prime-aligned computing</li>
                                <li><strong>Calculate Metrics:</strong> Click "Consciousness Calc" to measure alignment</li>
                                <li><strong>Align Golden Ratio:</strong> Click "Golden Ratio" for optimization</li>
                                <li><strong>Monitor Resonance:</strong> Watch prime resonance and consciousness levels</li>
                            </ol>

                            <h3 style="color: var(--accent-color);">ðŸ§¬ How It Works Technically</h3>
                            <p>Mathematics inspired by consciousness and natural patterns:</p>
                            <ul>
                                <li><strong>Prime Alignment:</strong> Using prime number sequences for data processing</li>
                                <li><strong>Golden Ratio (Ï†):</strong> Mathematical constant for harmonic optimization</li>
                                <li><strong>Fibonacci Sequences:</strong> Natural number patterns for efficiency</li>
                                <li><strong>Resonance Computing:</strong> Frequency-based computational alignment</li>
                            </ul>

                            <h3 style="color: var(--warning-color);">ðŸ”‘ Key Terms & Concepts</h3>
                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin: 10px 0;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                                    <div><strong>Consciousness Ratio:</strong> Prime ratio (79/21) for alignment</div>
                                    <div><strong>Golden Alignment:</strong> Fibonacci spiral optimization</div>
                                    <div><strong>Prime Resonance:</strong> Prime number frequency matching</div>
                                    <div><strong>Consciousness Level:</strong> Computational harmony measurement</div>
                                </div>
                            </div>

                            <h3 style="color: var(--success-color);">ðŸŽ¯ Comprehensive Development Roadmap</h3>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--primary-color); margin: 0 0 10px 0;">Phase 1: Mathematical Consciousness (âœ… Complete - Q1 2024)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>âœ… Prime number sequence algorithms implemented</li>
                                    <li>âœ… Fibonacci sequence generation and analysis</li>
                                    <li>âœ… Golden ratio (Ï†) calculation frameworks</li>
                                    <li>âœ… Prime-aligned computational patterns</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--secondary-color); margin: 0 0 10px 0;">Phase 2: Consciousness Integration (ðŸ”„ In Progress - Q1 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ”„ Golden ratio optimization algorithms</li>
                                    <li>ðŸ”„ Consciousness-inspired data processing</li>
                                    <li>ðŸ”„ Prime resonance pattern detection</li>
                                    <li>ðŸ“‹ Neural oscillation modeling (Next: 4 weeks)</li>
                                    <li>ðŸ“‹ Harmonic frequency analysis</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--accent-color); margin: 0 0 10px 0;">Phase 3: Advanced Consciousness Computing (ðŸ“‹ Planned - Q2 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸ“‹ Consciousness wave function modeling</li>
                                    <li>ðŸ“‹ Quantum consciousness algorithms</li>
                                    <li>ðŸ“‹ Information field theory applications</li>
                                    <li>ðŸŽ¯ Global workspace theory integration</li>
                                    <li>ðŸŽ¯ Holographic information processing</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--warning-color); margin: 0 0 10px 0;">Phase 4: Bio-Inspired Intelligence (ðŸŽ¯ Future - Q3 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Neural network consciousness models</li>
                                    <li>ðŸŽ¯ Swarm intelligence algorithms</li>
                                    <li>ðŸŽ¯ Emergent behavior optimization</li>
                                    <li>ðŸŽ¯ Collective intelligence systems</li>
                                    <li>ðŸŽ¯ Bio-electric field computing</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--info-color); margin: 0 0 10px 0;">Phase 5: Universal Consciousness (ðŸŽ¯ Future - Q4 2025)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Unified field theory applications</li>
                                    <li>ðŸŽ¯ Consciousness-mathematics bridge</li>
                                    <li>ðŸŽ¯ Panpsychism computational models</li>
                                    <li>ðŸŽ¯ Information consciousness theories</li>
                                    <li>ðŸŽ¯ Universal mind algorithms</li>
                                </ul>
                            </div>

                            <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                <h4 style="color: var(--success-color); margin: 0 0 10px 0;">Phase 6: Consciousness Singularity (ðŸŽ¯ Future - 2026)</h4>
                                <ul style="margin: 0; padding-left: 20px;">
                                    <li>ðŸŽ¯ Technological singularity integration</li>
                                    <li>ðŸŽ¯ Artificial consciousness development</li>
                                    <li>ðŸŽ¯ Human-AI consciousness merging</li>
                                    <li>ðŸŽ¯ Universal consciousness networks</li>
                                    <li>ðŸŽ¯ Consciousness-based computing revolution</li>
                                </ul>
                            </div>

                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ðŸ§¬ Consciousness Performance Metrics</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px;">
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Consciousness Ratio:</strong><br>3.762 (Ï†Â²)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Harmonic Alignment:</strong><br>94% (Target: 99%+)
                                </div>
                                <div style="background: rgba(0,212,255,0.1); padding: 10px; border-radius: 4px;">
                                    <strong>Efficiency Boost:</strong><br>12% (Target: 25%+)
                                </div>
                            </div>

                            <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.3); border-radius: 6px; padding: 15px; margin-top: 20px;">
                                <strong style="color: var(--warning-color);">âš ï¸ Experimental Status:</strong>
                                <p style="margin: 5px 0 0 0;">This feature explores unconventional mathematics. Results are experimental and may not show immediate benefits. Performance impact: Low.</p>
                            </div>
                        </div>
                    `
                }
            };

            const guide = guides[featureName];
            if (guide) {
                title.innerHTML = guide.title;
                content.innerHTML = guide.content;
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            }
        }

        function closeFeatureGuide() {
            const modal = document.getElementById('featureGuideModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Close modal when clicking outside
        document.getElementById('featureGuideModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeFeatureGuide();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('featureGuideModal').style.display === 'block') {
                closeFeatureGuide();
            }
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (serverCheckInterval) {
                clearInterval(serverCheckInterval);
            }
            if (systemMetricsInterval) {
                clearInterval(systemMetricsInterval);
            }
        });

        // Intelligent Chatbot Functions
        let chatMessages = [];
        let isTyping = false;
        let currentProvider = 'squashplot-ai';

        function changeChatProvider() {
            const providerSelect = document.getElementById('chatProvider');
            currentProvider = providerSelect.value;

            // Update the bot avatar and greeting based on provider
            const avatars = {
                'squashplot-ai': 'ðŸŒ±',
                'openai': 'ðŸ¤–',
                'claude': 'ðŸ§ ',
                'local': 'ðŸ '
            };

            const greetings = {
                'squashplot-ai': 'Hello! I\'m SquashPlot AI, your specialized assistant for Chia farming and compression technology. I can help you with plotting strategies, compression optimization, ROI analysis, and all experimental features. What would you like to know?',
                'openai': 'Hello! I\'m powered by OpenAI GPT-4. I can help you with Chia farming strategies, compression optimization, plotting techniques, and general blockchain questions. What would you like to know?',
                'claude': 'Hello! I\'m Claude, an AI assistant specialized in Chia blockchain farming and SquashPlot optimization. I can provide guidance on pool management, compression algorithms, plotting strategies, and technical optimization. What would you like to know?',
                'local': 'Hello! I\'m a local LLM assistant with knowledge of Chia farming and SquashPlot functionality. What specific topic would you like to explore?'
            };

            // Update initial message if chat is empty
            const messagesContainer = document.getElementById('chatMessages');
            if (messagesContainer.children.length === 1) { // Only the initial message
                const initialMessage = messagesContainer.children[0];
                initialMessage.querySelector('.message-avatar').textContent = avatars[currentProvider];
                initialMessage.querySelector('.message-text').innerHTML = `<strong>${getProviderName(currentProvider)}:</strong> ${greetings[currentProvider]}<br><div class="message-time">Just now</div>`;
            }

            showToast(`Switched to ${getProviderName(currentProvider)}`, 'success');
        }

        function getProviderName(provider) {
            const names = {
                'squashplot-ai': 'SquashPlot AI',
                'openai': 'OpenAI GPT-4',
                'claude': 'Claude',
                'local': 'Local LLM'
            };
            return names[provider] || 'AI Assistant';
        }

        function clearChat() {
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = '';

            // Add initial message based on current provider
            changeChatProvider();
            showToast('Chat cleared', 'info');
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message || isTyping) return;

            // Add user message
            addChatMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            showTypingIndicator();

            // Process message with intelligence
            setTimeout(async () => {
                await processIntelligentQuery(message);
            }, 500); // Quick response time
        }

        function addChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;

            messageDiv.innerHTML = `
                <div class="message-content">
                    <div class="message-avatar">${sender === 'user' ? 'ðŸ‘¤' : 'ðŸ§ '}</div>
                    <div class="message-text">
                        <strong>${sender === 'user' ? 'You' : 'Consciousness Assistant'}:</strong>
                        <div class="message-content">${marked.parse(text)}</div>
                    </div>
                </div>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTypingIndicator() {
            isTyping = true;
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="message-content">
                    <div class="message-avatar">ðŸ§ </div>
                    <div class="message-text">
                        <strong>Consciousness Assistant:</strong>
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;

            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            isTyping = false;
            const typingIndicator = document.querySelector('.typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        async function processIntelligentQuery(query) {
            hideTypingIndicator();

            try {
                // Make API call to LLM with provider
                const response = await fetch('/api/llm/query', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        query: query,
                        context: 'dashboard_chat',
                        tools_enabled: true,
                        provider: currentProvider
                    })
                });

                const data = await response.json();

                if (data.response) {
                    addChatMessage(data.response, 'bot');
                    showToast('Response received from ' + getProviderName(currentProvider), 'success');
                } else {
                    throw new Error('No response received');
                }
            } catch (error) {
                console.error('Chat API error:', error);
                addChatMessage('Sorry, I encountered an error processing your request. Please try again.', 'bot');
                showToast('Failed to get AI response', 'error');
            }
        }

        // Legacy intelligent processing (kept for fallback)
        function processIntelligentQueryLegacy(query) {
            hideTypingIndicator();

            const lowerQuery = query.toLowerCase();
            let response = '';

            // Intelligent processing based on query content
            if (lowerQuery.includes('performance') || lowerQuery.includes('speed') || lowerQuery.includes('fast')) {
                response = `ðŸš€ <strong>Performance Analysis:</strong><br><br>CUDNT delivers <strong>62.60x speedup</strong> vs CUDA with <strong>100% accuracy</strong>.<br><br>â€¢ <strong>O(nÂ²) â†’ O(n^1.44)</strong> complexity reduction<br>â€¢ <strong>42.0x consciousness enhancement</strong><br>â€¢ <strong>$3000+ GPU hardware savings</strong><br><br>Would you like me to run a performance benchmark or optimize a specific workload?`;
            }

            else if (lowerQuery.includes('compression') || lowerQuery.includes('plot') || lowerQuery.includes('chia')) {
                response = `ðŸ—œï¸ <strong>SquashPlot Compression:</strong><br><br>Advanced Chia plot compression with multi-stage algorithms:<br><br>â€¢ <strong>Zstandard, Brotli, LZ4</strong> compression<br>â€¢ <strong>Real-time plotting</strong> with compression<br>â€¢ <strong>Space savings:</strong> Up to 95% reduction<br>â€¢ <strong>Integrity verified</strong> data validation<br><br>Current status: Ready for plotting operations.`;
            }

            else if (lowerQuery.includes('ai') || lowerQuery.includes('intelligence') || lowerQuery.includes('consciousness')) {
                response = `ðŸ§  <strong>Consciousness AI System:</strong><br><br>â€¢ <strong>42+ curated tools</strong> for advanced reasoning<br>â€¢ <strong>Wallace Transform V3.0</strong> mathematics<br>â€¢ <strong>34.7% performance improvement</strong> over vanilla LLMs<br>â€¢ <strong>Quantum computing frameworks</strong><br>â€¢ <strong>Advanced benchmarking suite</strong><br><br>The system uses consciousness mathematics for enhanced decision-making and problem-solving.`;
            }

            else if (lowerQuery.includes('system') || lowerQuery.includes('status') || lowerQuery.includes('health')) {
                response = `ðŸ” <strong>System Status:</strong><br><br>â€¢ <strong>Server:</strong> Online and operational<br>â€¢ <strong>Performance:</strong> 62.60x acceleration active<br>â€¢ <strong>Memory:</strong> ${document.getElementById('memoryUsage').textContent} usage<br>â€¢ <strong>CPU:</strong> ${document.getElementById('cpuUsage').textContent} utilization<br>â€¢ <strong>Storage:</strong> ${document.getElementById('diskUsage').textContent} available<br><br>All systems are functioning optimally with consciousness enhancement active.`;
            }

            else if (lowerQuery.includes('benchmark') || lowerQuery.includes('test') || lowerQuery.includes('run')) {
                response = `ðŸ“Š <strong>Benchmark System:</strong><br><br>Ready to execute comprehensive performance tests:<br><br>â€¢ <strong>Matrix sizes:</strong> 32x32 to 2048x2048<br>â€¢ <strong>Algorithms:</strong> CUDNT, CUDA, Standard<br>â€¢ <strong>Metrics:</strong> Speed, accuracy, efficiency<br>â€¢ <strong>Current results:</strong> 62.60x average speedup<br><br>Click "Run Benchmark" above to start testing, or ask me about specific performance metrics.`;
            }

            else if (lowerQuery.includes('optimize') || lowerQuery.includes('improve') || lowerQuery.includes('enhance')) {
                response = `âš¡ <strong>Optimization Services:</strong><br><br>I can optimize various workloads using CUDNT acceleration:<br><br>â€¢ <strong>Matrix Operations:</strong> O(nÂ²) â†’ O(n^1.44)<br>â€¢ <strong>Neural Networks:</strong> Enhanced training<br>â€¢ <strong>Quantum Simulations:</strong> Accelerated processing<br>â€¢ <strong>Data Processing:</strong> Parallel optimization<br><br>Would you like me to run a system-wide optimization or focus on a specific workload type?`;
            }

            else if (lowerQuery.includes('wallet') || lowerQuery.includes('chia') || lowerQuery.includes('blockchain')) {
                response = `ðŸ’° <strong>Chia Blockchain Integration:</strong><br><br>â€¢ <strong>Multiple wallet support:</strong> Native, Sage, Goby<br>â€¢ <strong>Real-time balance monitoring</strong><br>â€¢ <strong>Transaction management</strong><br>â€¢ <strong>Network status tracking</strong><br>â€¢ <strong>Security features</strong> enabled<br><br>Click on any wallet above to connect and manage your Chia assets securely.`;
            }

            else if (lowerQuery.includes('quantum') || lowerQuery.includes('qkd') || lowerQuery.includes('cryptography')) {
                response = `ðŸ” <strong>Quantum Security:</strong><br><br>â€¢ <strong>Post-quantum cryptography</strong> (NIST Level 3)<br>â€¢ <strong>Quantum key distribution</strong> ready<br>â€¢ <strong>Advanced encryption</strong> algorithms<br>â€¢ <strong>Secure communication</strong> channels<br>â€¢ <strong>Blockchain integration</strong><br><br>The system is protected against both classical and quantum computing attacks.`;
            }

            else if (lowerQuery.includes('api') || lowerQuery.includes('documentation') || lowerQuery.includes('docs')) {
                response = `ðŸ“– <strong>API Documentation:</strong><br><br>Comprehensive API reference available:<br><br>â€¢ <strong>FastAPI/Swagger UI</strong> interface<br>â€¢ <strong>42+ endpoints</strong> documented<br>â€¢ <strong>Interactive testing</strong> environment<br>â€¢ <strong>Real-time examples</strong><br>â€¢ <strong>Authentication</strong> integrated<br><br>Click "API Documentation" above to explore all available endpoints and test them interactively.`;
            }

            else if (lowerQuery.includes('help') || lowerQuery.includes('what can you') || lowerQuery.includes('commands')) {
                response = `ðŸ†˜ <strong>Available Commands & Help:</strong><br><br><strong>Performance & Optimization:</strong><br>â€¢ "Run benchmark" - Performance testing<br>â€¢ "Optimize system" - System optimization<br>â€¢ "Check status" - System health<br><br><strong>Compression & Plotting:</strong><br>â€¢ "Start plotting" - Chia plot creation<br>â€¢ "Compress data" - Data compression<br>â€¢ "Validate plots" - Integrity checking<br><br><strong>AI & Intelligence:</strong><br>â€¢ "Analyze data" - AI-powered analysis<br>â€¢ "Process consciousness" - Advanced mathematics<br>â€¢ "Run intelligence" - AI decision making<br><br>What would you like help with?`;
            }

            else {
                response = `ðŸ¤” <strong>Intelligent Analysis:</strong><br><br>Your query: "<em>${query}</em>"<br><br>I'm analyzing this with consciousness-enhanced processing...<br><br>Based on the Enterprise Consciousness Platform's knowledge, this appears to be a request related to our advanced computational ecosystem. I have access to:<br><br>â€¢ <strong>CUDNT acceleration</strong> for performance optimization<br>â€¢ <strong>SquashPlot compression</strong> for Chia blockchain<br>â€¢ <strong>AI/ML frameworks</strong> with consciousness mathematics<br>â€¢ <strong>Quantum security</strong> and cryptography<br>â€¢ <strong>System monitoring</strong> and health checks<br><br>Could you provide more details about what you'd like to accomplish?`;
            }

            addChatMessage(response, 'bot');
        }

        // Enable Enter key for chat input
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });

        // Update send button state
        document.getElementById('chatInput').addEventListener('input', function() {
            const sendBtn = document.querySelector('.chat-send-btn');
            sendBtn.disabled = !this.value.trim();
        });

        // Live Price Charts & Projections Functions
        async function initializePriceChart() {
            const ctx = document.getElementById('priceChart');
            if (!ctx) {
                console.error('Price chart canvas not found');
                return;
            }

            try {
                // Simple Chart.js configuration
                priceChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: 'Chia Price (USD)',
                            data: priceHistory,
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.1,
                            pointRadius: 2,
                            pointHoverRadius: 4
                        }, {
                            label: 'Price Projection',
                            data: projectionData,
                            borderColor: '#ffaa00',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            fill: false,
                            tension: 0.1,
                            pointRadius: 0,
                            hidden: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                labels: {
                                    color: '#ffffff'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                callbacks: {
                                    label: function(context) {
                                        return '$' + context.parsed.y.toFixed(4);
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                type: 'time',
                                time: {
                                    displayFormats: {
                                        minute: 'HH:mm',
                                        hour: 'HH:mm',
                                        day: 'MMM dd'
                                    }
                                },
                                ticks: {
                                    color: '#cccccc'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#cccccc',
                                    callback: function(value) {
                                        return '$' + value.toFixed(4);
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        }
                    }
                });

                console.log('Price chart initialized successfully');
            } catch (error) {
                console.error('Error initializing price chart:', error);
            }
        }

        async function refreshPriceData() {
            try {
                // Fetch current Chia price data
                const response = await fetch('/api/chia-price');
                if (!response.ok) {
                    throw new Error('Failed to fetch price data');
                }

                const data = await response.json();

                // Update current price display
                currentPrice = data.price;
                const priceElement = document.getElementById('current-price');
                if (priceElement) {
                    priceElement.textContent = `$${currentPrice.toFixed(4)}`;
                }

                const changeElement = document.getElementById('price-change');
                if (changeElement) {
                    changeElement.textContent = `${data.change24h >= 0 ? '+' : ''}${data.change24h.toFixed(2)}% (24h)`;
                    changeElement.style.color = data.change24h >= 0 ? 'var(--success-color)' : 'var(--danger-color)';
                }

                const updateElement = document.getElementById('last-update');
                if (updateElement) {
                    updateElement.textContent = `Last updated: ${new Date().toLocaleTimeString()}`;
                }

                // Update market indicators
                const volumeElement = document.getElementById('volume-24h');
                if (volumeElement) {
                    volumeElement.textContent = formatVolume(data.volume24h);
                }

                const marketCapElement = document.getElementById('market-cap');
                if (marketCapElement) {
                    marketCapElement.textContent = formatMarketCap(data.marketCap);
                }

                const athElement = document.getElementById('ath');
                if (athElement) {
                    athElement.textContent = `$${data.ath.toFixed(4)}`;
                }

                const atlElement = document.getElementById('atl');
                if (atlElement) {
                    atlElement.textContent = `$${data.atl.toFixed(4)}`;
                }

                // Add to price history
                priceHistory.push({
                    x: new Date(),
                    y: currentPrice
                });

                // Keep only last 100 data points
                if (priceHistory.length > 100) {
                    priceHistory = priceHistory.slice(-100);
                }

                // Update chart
                updatePriceChart();

                // Calculate projections if enabled
                if (showProjections) {
                    calculateProjections();
                }

                // Calculate technical indicators
                calculateTechnicalIndicators();

            } catch (error) {
                console.error('Error fetching price data:', error);
                // Use mock data for demo
                updateWithMockData();
            }
        }

        function updateWithMockData() {
            // Generate mock data for demonstration
            currentPrice = 0.0250 + (Math.random() - 0.5) * 0.005;
            const mockChange = (Math.random() - 0.5) * 10;

            const priceElement = document.getElementById('current-price');
            if (priceElement) {
                priceElement.textContent = `$${currentPrice.toFixed(4)}`;
            }

            const changeElement = document.getElementById('price-change');
            if (changeElement) {
                changeElement.textContent = `${mockChange >= 0 ? '+' : ''}${mockChange.toFixed(2)}% (24h)`;
                changeElement.style.color = mockChange >= 0 ? 'var(--success-color)' : 'var(--danger-color)';
            }

            const updateElement = document.getElementById('last-update');
            if (updateElement) {
                updateElement.textContent = `Last updated: ${new Date().toLocaleTimeString()}`;
            }

            // Mock market data
            const volumeElement = document.getElementById('volume-24h');
            if (volumeElement) {
                volumeElement.textContent = '$2.5M';
            }

            const marketCapElement = document.getElementById('market-cap');
            if (marketCapElement) {
                marketCapElement.textContent = '$125M';
            }

            const athElement = document.getElementById('ath');
            if (athElement) {
                athElement.textContent = '$1.85';
            }

            const atlElement = document.getElementById('atl');
            if (atlElement) {
                atlElement.textContent = '$0.008';
            }

            // Add to history
            priceHistory.push({
                x: new Date(),
                y: currentPrice
            });

            if (priceHistory.length > 100) {
                priceHistory = priceHistory.slice(-100);
            }

            updatePriceChart();
        }

        function updatePriceChart() {
            if (!priceChart) {
                console.warn('Price chart not initialized');
                return;
            }

            try {
                // Update the data
                priceChart.data.datasets[0].data = priceHistory;

                if (showProjections && projectionData.length > 0) {
                    priceChart.data.datasets[1].data = projectionData;
                    priceChart.data.datasets[1].hidden = false;
                } else {
                    priceChart.data.datasets[1].hidden = true;
                }

                // Update the chart
                priceChart.update();

                console.log('Price chart updated with', priceHistory.length, 'data points');
            } catch (error) {
                console.error('Error updating price chart:', error);
            }
        }

        function toggleProjections() {
            showProjections = !showProjections;
            const button = document.getElementById('projection-toggle');

            if (showProjections) {
                if (button) {
                    button.textContent = 'ðŸ“Š Hide Projections';
                    button.style.background = 'var(--accent-color)';
                    button.style.color = 'white';
                }
                calculateProjections();
            } else {
                if (button) {
                    button.textContent = 'ðŸ“Š Show Projections';
                    button.style.background = 'var(--glass-bg)';
                    button.style.color = 'var(--text-primary)';
                }
                projectionData = [];
                updatePriceChart();
                const resultsDiv = document.getElementById('projection-results');
                const dataDiv = document.getElementById('projection-data');
                if (resultsDiv) resultsDiv.style.display = 'block';
                if (dataDiv) dataDiv.style.display = 'none';
            }
        }

        function calculateProjections() {
            if (priceHistory.length < 10) return;

            const timeframeSelect = document.getElementById('timeframe');
            const projectionTypeSelect = document.getElementById('projection-type');

            if (!timeframeSelect || !projectionTypeSelect) return;

            const projectionType = projectionTypeSelect.value;
            const timeframe = timeframeSelect.value;

            let projections = [];

            switch (projectionType) {
                case 'trigonometric':
                    projections = calculateTrigonometricProjection(priceHistory, timeframe);
                    break;
                case 'fibonacci':
                    projections = calculateFibonacciProjection(priceHistory, timeframe);
                    break;
                case 'bollinger':
                    projections = calculateBollingerProjection(priceHistory, timeframe);
                    break;
                case 'rsi':
                    projections = calculateRSIProjection(priceHistory, timeframe);
                    break;
                case 'combined':
                    projections = calculateCombinedProjection(priceHistory, timeframe);
                    break;
            }

            projectionData = projections;
            updatePriceChart();
            updateProjectionDisplay(projections, projectionType);
        }

        function calculateTrigonometricProjection(data, timeframe) {
            const lastPrice = data[data.length - 1].y;
            const projections = [];
            const periods = getTimeframePeriods(timeframe);

            // Use sine wave with multiple harmonics for projection
            for (let i = 0; i < periods; i++) {
                const time = data[data.length - 1].x.getTime() + (i * getTimeframeInterval(timeframe));
                const t = i / periods;

                // Multi-harmonic trigonometric projection
                const projection = lastPrice * (1 +
                    0.1 * Math.sin(2 * Math.PI * t * 3) +  // Primary cycle
                    0.05 * Math.sin(2 * Math.PI * t * 7) + // Secondary cycle
                    0.02 * Math.cos(2 * Math.PI * t * 13)  // Tertiary cycle
                );

                projections.push({
                    x: new Date(time),
                    y: Math.max(0.001, projection) // Ensure positive price
                });
            }

            return projections;
        }

        function calculateFibonacciProjection(data, timeframe) {
            // Find recent high and low
            const recentData = data.slice(-20);
            const high = Math.max(...recentData.map(d => d.y));
            const low = Math.min(...recentData.map(d => d.y));
            const range = high - low;

            const projections = [];
            const periods = getTimeframePeriods(timeframe);

            for (let i = 0; i < periods; i++) {
                const time = data[data.length - 1].x.getTime() + (i * getTimeframeInterval(timeframe));
                const t = i / periods;

                // Fibonacci retracement levels with time projection
                const fibLevel = 0.618; // Golden ratio
                const projection = high - (range * fibLevel * (1 - Math.sin(Math.PI * t)));

                projections.push({
                    x: new Date(time),
                    y: Math.max(low * 0.8, projection)
                });
            }

            return projections;
        }

        function calculateBollingerProjection(data, timeframe) {
            const recentData = data.slice(-20);
            const prices = recentData.map(d => d.y);
            const sma = prices.reduce((a, b) => a + b, 0) / prices.length;
            const variance = prices.reduce((a, b) => a + Math.pow(b - sma, 2), 0) / prices.length;
            const stdDev = Math.sqrt(variance);

            const upperBand = sma + (2 * stdDev);
            const lowerBand = sma - (2 * stdDev);

            const projections = [];
            const periods = getTimeframePeriods(timeframe);

            for (let i = 0; i < periods; i++) {
                const time = data[data.length - 1].x.getTime() + (i * getTimeframeInterval(timeframe));
                const t = i / periods;

                // Project within bollinger bands with mean reversion
                const projection = sma + (upperBand - sma) * Math.sin(Math.PI * t) * 0.5;

                projections.push({
                    x: new Date(time),
                    y: Math.max(lowerBand * 0.9, Math.min(upperBand * 1.1, projection))
                });
            }

            return projections;
        }

        function calculateRSIProjection(data, timeframe) {
            const prices = data.slice(-14).map(d => d.y);
            const gains = [];
            const losses = [];

            for (let i = 1; i < prices.length; i++) {
                const change = prices[i] - prices[i - 1];
                gains.push(change > 0 ? change : 0);
                losses.push(change < 0 ? Math.abs(change) : 0);
            }

            const avgGain = gains.reduce((a, b) => a + b, 0) / gains.length;
            const avgLoss = losses.reduce((a, b) => a + b, 0) / losses.length;
            const rs = avgGain / avgLoss;
            const rsi = 100 - (100 / (1 + rs));

            // Project based on RSI momentum
            const projections = [];
            const periods = getTimeframePeriods(timeframe);
            const lastPrice = data[data.length - 1].y;

            for (let i = 0; i < periods; i++) {
                const time = data[data.length - 1].x.getTime() + (i * getTimeframeInterval(timeframe));
                const t = i / periods;

                // RSI-based momentum projection
                const momentum = (rsi - 50) / 50; // -1 to 1 scale
                const projection = lastPrice * (1 + momentum * t * 0.1);

                projections.push({
                    x: new Date(time),
                    y: Math.max(0.001, projection)
                });
            }

            return projections;
        }

        function calculateCombinedProjection(data, timeframe) {
            // Combine multiple analysis methods
            const trigProj = calculateTrigonometricProjection(data, timeframe);
            const fibProj = calculateFibonacciProjection(data, timeframe);
            const bbProj = calculateBollingerProjection(data, timeframe);

            const projections = [];
            const periods = getTimeframePeriods(timeframe);

            for (let i = 0; i < periods; i++) {
                // Weighted average of different projections
                const trig = trigProj[i]?.y || 0;
                const fib = fibProj[i]?.y || 0;
                const bb = bbProj[i]?.y || 0;

                const combined = (trig * 0.4 + fib * 0.3 + bb * 0.3);

                projections.push({
                    x: new Date(data[data.length - 1].x.getTime() + (i * getTimeframeInterval(timeframe))),
                    y: combined
                });
            }

            return projections;
        }

        function calculateTechnicalIndicators() {
            if (priceHistory.length < 14) return;

            const prices = priceHistory.slice(-14).map(d => d.y);

            // Calculate RSI
            const rsi = calculateRSI(prices);
            const rsiValueElement = document.getElementById('rsi-value');
            if (rsiValueElement) {
                rsiValueElement.textContent = rsi.toFixed(1);
            }

            let rsiSignal = 'Neutral';
            if (rsi > 70) rsiSignal = 'Overbought';
            else if (rsi < 30) rsiSignal = 'Oversold';

            const rsiSignalElement = document.getElementById('rsi-signal');
            if (rsiSignalElement) {
                rsiSignalElement.textContent = rsiSignal;
                rsiSignalElement.style.color =
                    rsi > 70 ? 'var(--danger-color)' : rsi < 30 ? 'var(--success-color)' : 'var(--text-secondary)';
            }

            // Calculate MACD (simplified)
            const ema12 = calculateEMA(prices, 12);
            const ema26 = calculateEMA(prices, 26);
            const macd = ema12 - ema26;

            const macdValueElement = document.getElementById('macd-value');
            if (macdValueElement) {
                macdValueElement.textContent = macd.toFixed(6);
            }

            let macdSignal = 'Neutral';
            if (macd > 0.0001) macdSignal = 'Bullish';
            else if (macd < -0.0001) macdSignal = 'Bearish';

            const macdSignalElement = document.getElementById('macd-signal');
            if (macdSignalElement) {
                macdSignalElement.textContent = macdSignal;
                macdSignalElement.style.color =
                    macd > 0.0001 ? 'var(--success-color)' : macd < -0.0001 ? 'var(--danger-color)' : 'var(--text-secondary)';
            }

            // Calculate Bollinger Bands position
            const recentPrices = prices.slice(-20);
            const sma = recentPrices.reduce((a, b) => a + b, 0) / recentPrices.length;
            const variance = recentPrices.reduce((a, b) => a + Math.pow(b - sma, 2), 0) / recentPrices.length;
            const stdDev = Math.sqrt(variance);

            const upperBand = sma + (2 * stdDev);
            const lowerBand = sma - (2 * stdDev);
            const lastPrice = prices[prices.length - 1];

            let bbPosition = 'Middle';
            let bbSignal = 'Neutral';

            if (lastPrice > upperBand) {
                bbPosition = 'Above Upper';
                bbSignal = 'Overbought';
            } else if (lastPrice < lowerBand) {
                bbPosition = 'Below Lower';
                bbSignal = 'Oversold';
            }

            const bbPositionElement = document.getElementById('bb-position');
            if (bbPositionElement) {
                bbPositionElement.textContent = bbPosition;
            }

            const bbSignalElement = document.getElementById('bb-signal');
            if (bbSignalElement) {
                bbSignalElement.textContent = bbSignal;
                bbSignalElement.style.color =
                    bbSignal === 'Overbought' ? 'var(--danger-color)' :
                    bbSignal === 'Oversold' ? 'var(--success-color)' : 'var(--text-secondary)';
            }
        }

        function calculateRSI(prices) {
            const gains = [];
            const losses = [];

            for (let i = 1; i < prices.length; i++) {
                const change = prices[i] - prices[i - 1];
                gains.push(change > 0 ? change : 0);
                losses.push(change < 0 ? Math.abs(change) : 0);
            }

            const avgGain = gains.reduce((a, b) => a + b, 0) / gains.length;
            const avgLoss = losses.reduce((a, b) => a + b, 0) / losses.length;

            if (avgLoss === 0) return 100;

            const rs = avgGain / avgLoss;
            return 100 - (100 / (1 + rs));
        }

        function calculateEMA(prices, period) {
            const multiplier = 2 / (period + 1);
            let ema = prices[0];

            for (let i = 1; i < prices.length; i++) {
                ema = (prices[i] * multiplier) + (ema * (1 - multiplier));
            }

            return ema;
        }

        function updateProjectionDisplay(projections, type) {
            if (projections.length === 0) return;

            const prices = projections.map(p => p.y);
            const high = Math.max(...prices);
            const low = Math.min(...prices);

            const projHighElement = document.getElementById('proj-high');
            if (projHighElement) {
                projHighElement.textContent = `$${high.toFixed(4)}`;
            }

            const projLowElement = document.getElementById('proj-low');
            if (projLowElement) {
                projLowElement.textContent = `$${low.toFixed(4)}`;
            }

            const projHighConfidenceElement = document.getElementById('proj-high-confidence');
            if (projHighConfidenceElement) {
                projHighConfidenceElement.textContent = '68% Confidence';
            }

            const projLowConfidenceElement = document.getElementById('proj-low-confidence');
            if (projLowConfidenceElement) {
                projLowConfidenceElement.textContent = '68% Confidence';
            }

            let analysis = '';
            switch (type) {
                case 'trigonometric':
                    analysis = `Trigonometric analysis shows cyclical patterns with projected high of $${high.toFixed(4)} and low of $${low.toFixed(4)}. The multi-harmonic model suggests continued volatility with potential mean reversion.`;
                    break;
                case 'fibonacci':
                    analysis = `Fibonacci retracement analysis indicates key support at $${low.toFixed(4)} and resistance at $${high.toFixed(4)}. Golden ratio levels suggest potential reversal points.`;
                    break;
                case 'bollinger':
                    analysis = `Bollinger Bands analysis projects price movement within $${low.toFixed(4)} to $${high.toFixed(4)} range. Current position suggests ${high > currentPrice * 1.05 ? 'upward' : 'sideways'} momentum.`;
                    break;
                case 'rsi':
                    analysis = `RSI momentum analysis projects price range from $${low.toFixed(4)} to $${high.toFixed(4)}. Current momentum indicators suggest ${high > currentPrice ? 'bullish' : 'bearish'} outlook.`;
                    break;
                case 'combined':
                    analysis = `Combined technical analysis provides balanced projection from $${low.toFixed(4)} to $${high.toFixed(4)}. Multiple indicators converge on this range with moderate confidence.`;
                    break;
            }

            const analysisElement = document.getElementById('projection-analysis');
            if (analysisElement) {
                analysisElement.textContent = analysis;
            }

            const resultsDiv = document.getElementById('projection-results');
            const dataDiv = document.getElementById('projection-data');
            if (resultsDiv) resultsDiv.style.display = 'none';
            if (dataDiv) dataDiv.style.display = 'block';
        }

        function getTimeframePeriods(timeframe) {
            switch (timeframe) {
                case '1h': return 12;    // 12 points for 1 hour
                case '4h': return 16;    // 16 points for 4 hours
                case '1d': return 24;    // 24 points for 1 day
                case '1w': return 7;     // 7 points for 1 week
                case '1M': return 30;    // 30 points for 1 month
                default: return 24;
            }
        }

        function getTimeframeInterval(timeframe) {
            switch (timeframe) {
                case '1h': return 5 * 60 * 1000;      // 5 minutes
                case '4h': return 15 * 60 * 1000;     // 15 minutes
                case '1d': return 60 * 60 * 1000;     // 1 hour
                case '1w': return 24 * 60 * 60 * 1000; // 1 day
                case '1M': return 24 * 60 * 60 * 1000; // 1 day
                default: return 60 * 60 * 1000;
            }
        }

        function formatVolume(volume) {
            if (volume >= 1000000) return `$${(volume / 1000000).toFixed(1)}M`;
            if (volume >= 1000) return `$${(volume / 1000).toFixed(1)}K`;
            return `$${volume.toFixed(0)}`;
        }

        function formatMarketCap(marketCap) {
            if (marketCap >= 1000000000) return `$${(marketCap / 1000000000).toFixed(1)}B`;
            if (marketCap >= 1000000) return `$${(marketCap / 1000000).toFixed(1)}M`;
            if (marketCap >= 1000) return `$${(marketCap / 1000).toFixed(1)}K`;
            return `$${marketCap.toFixed(0)}`;
        }

        // Grafana iframe handling
        let grafanaLoaded = false;
        let grafanaTimeout = null;

        function onGrafanaLoad() {
            grafanaLoaded = true;
            clearTimeout(grafanaTimeout);
            document.getElementById('chartLoading').style.display = 'none';
            document.getElementById('grafanaDashboard').style.display = 'block';
            document.getElementById('priceChart').style.display = 'none';
            console.log('Grafana dashboard loaded successfully');
        }

        function onGrafanaError() {
            console.warn('Grafana dashboard failed to load, falling back to Chart.js');
            fallbackToChartJS();
        }

        function fallbackToChartJS() {
            grafanaLoaded = false;
            clearTimeout(grafanaTimeout);
            document.getElementById('chartLoading').style.display = 'none';
            document.getElementById('grafanaDashboard').style.display = 'none';
            document.getElementById('priceChart').style.display = 'block';

            // Initialize Chart.js fallback
            if (!priceChart) {
                initializePriceChart();
            }
        }

        // Set a timeout for Grafana loading
        grafanaTimeout = setTimeout(() => {
            if (!grafanaLoaded) {
                console.warn('Grafana dashboard load timeout, falling back to Chart.js');
                fallbackToChartJS();
            }
        }, 10000); // 10 second timeout

        // Technical Analysis Functions
        let technicalChart = null;
        let macdChart = null;
        let rsiChart = null;

        async function loadTechnicalAnalysis() {
            const symbol = document.getElementById('selectedCrypto').value;
            const timeframe = document.getElementById('timeframe').value;
            const contentDiv = document.getElementById('technicalAnalysisContent');

            contentDiv.style.display = 'block';
            contentDiv.innerHTML = '<div style="text-align: center; padding: 40px;"><i class="fas fa-spinner fa-spin"></i> Loading technical analysis...</div>';

            try {
                const response = await fetch(`/api/technical-analysis/${symbol}?timeframe=${timeframe}&periods=100`);
                const data = await response.json();

                if (data.analysis) {
                    displayTechnicalAnalysis(data.analysis);
                    showToast('Technical analysis loaded successfully', 'success');
                } else {
                    throw new Error(data.error || 'Failed to load analysis');
                }
            } catch (error) {
                console.error('Technical analysis error:', error);
                contentDiv.innerHTML = `<div style="text-align: center; padding: 40px; color: var(--danger-color);">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Failed to load technical analysis: ${error.message}</p>
                </div>`;
                showToast('Failed to load technical analysis', 'error');
            }
        }

        function displayTechnicalAnalysis(analysis) {
            const contentDiv = document.getElementById('technicalAnalysisContent');

            // Update summary
            document.getElementById('currentPrice').textContent = `$${analysis.summary.current_price.toFixed(4)}`;
            document.getElementById('priceChange').textContent = `${analysis.summary.price_change_24h.toFixed(2)}%`;
            document.getElementById('rsiLevel').textContent = analysis.summary.rsi_level ? analysis.summary.rsi_level.toFixed(1) : 'N/A';
            document.getElementById('macdSignal').textContent = analysis.summary.macd_signal;
            document.getElementById('bbPosition').textContent = analysis.summary.bb_position.replace('_', ' ');

            // Create charts
            createTechnicalCharts(analysis);

            // Display signals
            displaySignals(analysis.signals);

            contentDiv.style.display = 'block';
        }

        function createTechnicalCharts(analysis) {
            const priceData = analysis.price_data;
            const indicators = analysis.indicators;

            // Main price chart with indicators
            const ctx = document.getElementById('technicalChart');
            if (technicalChart) {
                technicalChart.destroy();
            }

            technicalChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: priceData.prices.map((_, i) => `T-${priceData.prices.length - i}`),
                    datasets: [{
                        label: 'Price',
                        data: priceData.prices,
                        borderColor: 'rgba(0, 212, 255, 1)',
                        backgroundColor: 'rgba(0, 212, 255, 0.1)',
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y'
                    }, {
                        label: 'SMA 20',
                        data: indicators.moving_averages.sma_20,
                        borderColor: 'rgba(255, 107, 53, 1)',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y'
                    }, {
                        label: 'SMA 50',
                        data: indicators.moving_averages.sma_50,
                        borderColor: 'rgba(255, 193, 30, 1)',
                        backgroundColor: 'transparent',
                        borderDash: [10, 5],
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y'
                    }, {
                        label: 'BB Upper',
                        data: indicators.bollinger_bands.upper,
                        borderColor: 'rgba(0, 255, 136, 0.5)',
                        backgroundColor: 'transparent',
                        borderDash: [2, 2],
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y'
                    }, {
                        label: 'BB Lower',
                        data: indicators.bollinger_bands.lower,
                        borderColor: 'rgba(0, 255, 136, 0.5)',
                        backgroundColor: 'transparent',
                        borderDash: [2, 2],
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    }
                }
            });

            // MACD Chart
            const macdCtx = document.getElementById('macdChart');
            if (macdChart) {
                macdChart.destroy();
            }

            macdChart = new Chart(macdCtx, {
                type: 'bar',
                data: {
                    labels: priceData.prices.map((_, i) => `T-${priceData.prices.length - i}`),
                    datasets: [{
                        label: 'MACD Histogram',
                        data: indicators.macd.histogram,
                        backgroundColor: indicators.macd.histogram.map(val =>
                            val > 0 ? 'rgba(0, 255, 136, 0.7)' : 'rgba(255, 107, 53, 0.7)'
                        ),
                        borderWidth: 0
                    }, {
                        label: 'MACD Line',
                        data: indicators.macd.line,
                        type: 'line',
                        borderColor: 'rgba(0, 212, 255, 1)',
                        backgroundColor: 'transparent',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 0
                    }, {
                        label: 'Signal Line',
                        data: indicators.macd.signal,
                        type: 'line',
                        borderColor: 'rgba(255, 193, 30, 1)',
                        backgroundColor: 'transparent',
                        tension: 0.4,
                        fill: false,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    }
                }
            });

            // RSI Chart
            const rsiCtx = document.getElementById('rsiChart');
            if (rsiChart) {
                rsiChart.destroy();
            }

            rsiChart = new Chart(rsiCtx, {
                type: 'line',
                data: {
                    labels: priceData.prices.map((_, i) => `T-${priceData.prices.length - i}`),
                    datasets: [{
                        label: 'RSI',
                        data: indicators.rsi,
                        borderColor: 'rgba(255, 107, 53, 1)',
                        backgroundColor: 'rgba(255, 107, 53, 0.1)',
                        tension: 0.4,
                        fill: false
                    }, {
                        label: 'Overbought (70)',
                        data: Array(priceData.prices.length).fill(70),
                        borderColor: 'rgba(255, 53, 53, 0.5)',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: 'Oversold (30)',
                        data: Array(priceData.prices.length).fill(30),
                        borderColor: 'rgba(0, 255, 136, 0.5)',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            min: 0,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    }
                }
            });
        }

        function displaySignals(signals) {
            const signalsList = document.getElementById('signalsList');
            signalsList.innerHTML = '';

            if (!signals || signals.length === 0) {
                signalsList.innerHTML = '<div class="signal-item">No recent signals detected</div>';
                return;
            }

            signals.forEach(signal => {
                const signalDiv = document.createElement('div');
                signalDiv.className = 'signal-item';

                const signalText = signal.signals.map(sig => {
                    let className = '';
                    let icon = '';

                    if (sig.includes('BULLISH') || sig.includes('GOLDEN')) {
                        className = 'bullish';
                        icon = 'ðŸ“ˆ';
                    } else if (sig.includes('BEARISH') || sig.includes('DEATH')) {
                        className = 'bearish';
                        icon = 'ðŸ“‰';
                    } else if (sig.includes('OVERBOUGHT') || sig.includes('UPPER')) {
                        className = 'bearish';
                        icon = 'ðŸ”´';
                    } else if (sig.includes('OVERSOLD') || sig.includes('LOWER')) {
                        className = 'bullish';
                        icon = 'ðŸŸ¢';
                    }

                    signalDiv.classList.add(className);
                    return `${icon} ${sig.replace(/_/g, ' ')}`;
                }).join(', ');

                const timestamp = new Date(signal.timestamp).toLocaleTimeString();
                signalDiv.innerHTML = `<strong>${timestamp}:</strong> ${signalText}`;
                signalsList.appendChild(signalDiv);
            });
        }

        // Make functions globally available
        window.refreshPriceData = refreshPriceData;
        window.toggleProjections = toggleProjections;
        window.loadTechnicalAnalysis = loadTechnicalAnalysis;
        window.calculateProjections = calculateProjections;
        window.onGrafanaLoad = onGrafanaLoad;
        window.onGrafanaError = onGrafanaError;

        // Portfolio Management Functions
        let portfolioHoldings = [];
        let allocationChart = null;
        let performanceChart = null;

        function initializePortfolio() {
            loadPortfolioData();
            updatePortfolioSummary();
            renderAllocationChart();
            renderPerformanceChart();
        }

        function loadPortfolioData() {
            // Load from localStorage or initialize with sample data
            const saved = localStorage.getItem('squashplot_portfolio');
            if (saved) {
                portfolioHoldings = JSON.parse(saved);
            } else {
                // Initialize with sample holdings
                portfolioHoldings = [
                    { symbol: 'XCH', quantity: 1000, avgPrice: 25.50, purchaseDate: '2024-01-15' },
                    { symbol: 'BTC', quantity: 0.05, avgPrice: 45000, purchaseDate: '2024-02-01' },
                    { symbol: 'ETH', quantity: 2.5, avgPrice: 2800, purchaseDate: '2024-01-20' }
                ];
                localStorage.setItem('squashplot_portfolio', JSON.stringify(portfolioHoldings));
            }
            renderHoldingsTable();
        }

        async function updatePortfolioSummary() {
            if (portfolioHoldings.length === 0) return;

            let totalValue = 0;
            let totalCost = 0;
            let dayChange = 0;
            let bestPerformer = { symbol: '', change: -100 };
            let worstPerformer = { symbol: '', change: 100 };

            for (const holding of portfolioHoldings) {
                const currentPrice = await getCurrentPrice(holding.symbol);
                const value = holding.quantity * currentPrice;
                const cost = holding.quantity * holding.avgPrice;
                const change = ((currentPrice - holding.avgPrice) / holding.avgPrice) * 100;

                totalValue += value;
                totalCost += cost;

                if (change > bestPerformer.change) {
                    bestPerformer = { symbol: holding.symbol, change: change };
                }
                if (change < worstPerformer.change) {
                    worstPerformer = { symbol: holding.symbol, change: change };
                }
            }

            const totalChange = ((totalValue - totalCost) / totalCost) * 100;

            document.getElementById('totalValue').textContent = `$${totalValue.toFixed(2)}`;
            document.getElementById('totalChange').textContent = `${totalChange >= 0 ? '+' : ''}${totalChange.toFixed(2)}%`;
            document.getElementById('totalChange').className = `summary-change ${totalChange >= 0 ? 'positive' : 'negative'}`;

            document.getElementById('bestPerformer').textContent = bestPerformer.symbol || 'N/A';
            document.getElementById('bestPerformerChange').textContent = bestPerformer.symbol ? `${bestPerformer.change >= 0 ? '+' : ''}${bestPerformer.change.toFixed(2)}%` : '+0.00%';
            document.getElementById('bestPerformerChange').className = `summary-change ${bestPerformer.change >= 0 ? 'positive' : 'negative'}`;

            document.getElementById('worstPerformer').textContent = worstPerformer.symbol || 'N/A';
            document.getElementById('worstPerformerChange').textContent = worstPerformer.symbol ? `${worstPerformer.change >= 0 ? '+' : ''}${worstPerformer.change.toFixed(2)}%` : '+0.00%';
            document.getElementById('worstPerformerChange').className = `summary-change ${worstPerformer.change >= 0 ? 'positive' : 'negative'}`;
        }

        async function getCurrentPrice(symbol) {
            try {
                const response = await fetch(`/api/crypto-price/${symbol}`);
                const data = await response.json();
                return data.price || 0;
            } catch (error) {
                console.error('Error fetching price:', error);
                return 0;
            }
        }

        async function renderHoldingsTable() {
            const tbody = document.getElementById('holdingsBody');
            tbody.innerHTML = '';

            for (const holding of portfolioHoldings) {
                const currentPrice = await getCurrentPrice(holding.symbol);
                const value = holding.quantity * currentPrice;
                const cost = holding.quantity * holding.avgPrice;
                const change = ((currentPrice - holding.avgPrice) / holding.avgPrice) * 100;
                const totalValue = portfolioHoldings.reduce(async (sum, h) => {
                    const price = await getCurrentPrice(h.symbol);
                    return (await sum) + (h.quantity * price);
                }, Promise.resolve(0));
                const allocation = ((value / (await totalValue)) * 100) || 0;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${getAssetName(holding.symbol)}</td>
                    <td>${holding.symbol}</td>
                    <td>${holding.quantity.toLocaleString()}</td>
                    <td>$${holding.avgPrice.toFixed(4)}</td>
                    <td>$${currentPrice.toFixed(4)}</td>
                    <td>$${value.toFixed(2)}</td>
                    <td class="${change >= 0 ? 'positive' : 'negative'}">
                        ${change >= 0 ? '+' : ''}${change.toFixed(2)}%
                    </td>
                    <td>${allocation.toFixed(1)}%</td>
                    <td>
                        <button onclick="editHolding('${holding.symbol}')" class="btn btn-sm">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="removeHolding('${holding.symbol}')" class="btn btn-sm btn-danger">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            }
        }

        function getAssetName(symbol) {
            const names = {
                'XCH': 'Chia',
                'BTC': 'Bitcoin',
                'ETH': 'Ethereum',
                'SOL': 'Solana',
                'ADA': 'Cardano',
                'DOT': 'Polkadot',
                'LINK': 'Chainlink'
            };
            return names[symbol] || symbol;
        }

        function renderAllocationChart() {
            const ctx = document.getElementById('allocationChart');
            if (allocationChart) {
                allocationChart.destroy();
            }

            const allocationData = {};
            portfolioHoldings.forEach(async (holding) => {
                const price = await getCurrentPrice(holding.symbol);
                const value = holding.quantity * price;
                allocationData[holding.symbol] = (allocationData[holding.symbol] || 0) + value;
            });

            setTimeout(() => {
                allocationChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: Object.keys(allocationData),
                        datasets: [{
                            data: Object.values(allocationData),
                            backgroundColor: [
                                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',
                                '#9966FF', '#FF9F40', '#FF6384'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }, 100);
        }

        function renderPerformanceChart() {
            const ctx = document.getElementById('performanceChart');
            if (performanceChart) {
                performanceChart.destroy();
            }

            // Generate sample historical data (in production, this would come from API)
            const labels = [];
            const data = [];
            const now = new Date();

            for (let i = 29; i >= 0; i--) {
                const date = new Date(now);
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString());

                // Simulate portfolio value growth
                const baseValue = 10000;
                const growth = Math.sin(i * 0.2) * 1000 + Math.random() * 500;
                data.push(baseValue + growth + (i * 50));
            }

            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Portfolio Value',
                        data: data,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
        }

        function addHolding() {
            document.getElementById('addHoldingModal').style.display = 'block';
            document.getElementById('holdingForm').reset();
            document.getElementById('purchaseDate').valueAsDate = new Date();
        }

        function closeModal() {
            document.getElementById('addHoldingModal').style.display = 'none';
        }

        function editHolding(symbol) {
            const holding = portfolioHoldings.find(h => h.symbol === symbol);
            if (!holding) return;

            document.getElementById('assetSymbol').value = holding.symbol;
            document.getElementById('quantity').value = holding.quantity;
            document.getElementById('avgPrice').value = holding.avgPrice;
            document.getElementById('purchaseDate').value = holding.purchaseDate;

            document.getElementById('addHoldingModal').style.display = 'block';
        }

        function removeHolding(symbol) {
            if (confirm(`Are you sure you want to remove ${symbol} from your portfolio?`)) {
                portfolioHoldings = portfolioHoldings.filter(h => h.symbol !== symbol);
                localStorage.setItem('squashplot_portfolio', JSON.stringify(portfolioHoldings));
                renderHoldingsTable();
                updatePortfolioSummary();
                renderAllocationChart();
                showToast(`${symbol} removed from portfolio`, 'success');
            }
        }

        // Handle form submission
        document.getElementById('holdingForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const symbol = document.getElementById('assetSymbol').value;
            const quantity = parseFloat(document.getElementById('quantity').value);
            const avgPrice = parseFloat(document.getElementById('avgPrice').value);
            const purchaseDate = document.getElementById('purchaseDate').value;

            // Check if holding already exists
            const existingIndex = portfolioHoldings.findIndex(h => h.symbol === symbol);

            if (existingIndex >= 0) {
                // Update existing holding (simple average for now)
                const existing = portfolioHoldings[existingIndex];
                const totalQuantity = existing.quantity + quantity;
                const totalCost = (existing.quantity * existing.avgPrice) + (quantity * avgPrice);
                const newAvgPrice = totalCost / totalQuantity;

                portfolioHoldings[existingIndex] = {
                    symbol: symbol,
                    quantity: totalQuantity,
                    avgPrice: newAvgPrice,
                    purchaseDate: purchaseDate // Update to latest purchase date
                };
            } else {
                // Add new holding
                portfolioHoldings.push({
                    symbol: symbol,
                    quantity: quantity,
                    avgPrice: avgPrice,
                    purchaseDate: purchaseDate
                });
            }

            localStorage.setItem('squashplot_portfolio', JSON.stringify(portfolioHoldings));
            renderHoldingsTable();
            updatePortfolioSummary();
            renderAllocationChart();
            closeModal();
            showToast(`${symbol} added to portfolio`, 'success');
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('addHoldingModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Initialize portfolio when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializePortfolio();
            initializeAlerts();
        });

        // Alerts Management Functions
        let activeAlerts = [];
        let alertHistory = [];

        function initializeAlerts() {
            loadAlertsData();
            updateAlertsSummary();
            renderAlertsTable();
            renderAlertHistory();
            startAlertMonitoring();
        }

        function loadAlertsData() {
            // Load from localStorage or initialize with sample alerts
            const savedAlerts = localStorage.getItem('squashplot_alerts');
            const savedHistory = localStorage.getItem('squashplot_alert_history');

            if (savedAlerts) {
                activeAlerts = JSON.parse(savedAlerts);
            } else {
                // Initialize with sample alerts
                activeAlerts = [
                    {
                        id: 'sample-price-1',
                        type: 'price',
                        symbol: 'XCH',
                        condition: 'above',
                        targetPrice: 10.00,
                        notification: 'browser',
                        status: 'active',
                        created: new Date().toISOString(),
                        lastTrigger: null
                    },
                    {
                        id: 'sample-technical-1',
                        type: 'technical',
                        symbol: 'BTC',
                        indicator: 'rsi',
                        condition: 'above_70',
                        notification: 'browser',
                        status: 'active',
                        created: new Date().toISOString(),
                        lastTrigger: null
                    }
                ];
                localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
            }

            if (savedHistory) {
                alertHistory = JSON.parse(savedHistory);
            }
        }

        function updateAlertsSummary() {
            const activeCount = activeAlerts.filter(a => a.status === 'active').length;
            const triggeredToday = alertHistory.filter(h =>
                new Date(h.timestamp).toDateString() === new Date().toDateString()
            ).length;
            const priceAlerts = activeAlerts.filter(a => a.type === 'price').length;
            const technicalAlerts = activeAlerts.filter(a => a.type === 'technical').length;

            document.getElementById('activeAlertsCount').textContent = activeCount;
            document.getElementById('triggeredTodayCount').textContent = triggeredToday;
            document.getElementById('priceAlertsCount').textContent = priceAlerts;
            document.getElementById('technicalAlertsCount').textContent = technicalAlerts;
        }

        function renderAlertsTable() {
            const tbody = document.getElementById('alertsBody');
            tbody.innerHTML = '';

            if (activeAlerts.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 40px; color: var(--text-secondary);">No active alerts. Create your first alert above!</td></tr>';
                return;
            }

            activeAlerts.forEach(alert => {
                const row = document.createElement('tr');

                let conditionText = '';
                if (alert.type === 'price') {
                    conditionText = `Price ${alert.condition} $${alert.targetPrice}`;
                } else if (alert.type === 'technical') {
                    conditionText = `${alert.indicator.toUpperCase()} ${alert.condition.replace('_', ' ')}`;
                } else if (alert.type === 'volume') {
                    conditionText = `Volume ${alert.condition} ${alert.multiplier}x average`;
                }

                const statusClass = alert.status === 'active' ? 'active' :
                                   alert.status === 'triggered' ? 'triggered' : 'paused';

                row.innerHTML = `
                    <td><span class="alert-type ${alert.type}">${alert.type.charAt(0).toUpperCase() + alert.type.slice(1)}</span></td>
                    <td>${alert.symbol}</td>
                    <td>${conditionText}</td>
                    <td><span class="alert-status ${statusClass}">${alert.status.charAt(0).toUpperCase() + alert.status.slice(1)}</span></td>
                    <td>${new Date(alert.created).toLocaleDateString()}</td>
                    <td>${alert.lastTrigger ? new Date(alert.lastTrigger).toLocaleString() : 'Never'}</td>
                    <td>
                        <button onclick="toggleAlert('${alert.id}')" class="btn btn-sm">
                            <i class="fas fa-${alert.status === 'active' ? 'pause' : 'play'}"></i>
                        </button>
                        <button onclick="deleteAlert('${alert.id}')" class="btn btn-sm btn-danger">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderAlertHistory() {
            const historyDiv = document.getElementById('alertHistory');
            historyDiv.innerHTML = '';

            if (alertHistory.length === 0) {
                historyDiv.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-secondary);">No alert history yet</div>';
                return;
            }

            // Show last 10 alerts
            const recentAlerts = alertHistory.slice(-10).reverse();

            recentAlerts.forEach(alert => {
                const item = document.createElement('div');
                item.className = `alert-history-item ${alert.type} ${alert.triggered ? 'triggered' : ''}`;

                let message = '';
                if (alert.type === 'price') {
                    message = `${alert.symbol} price ${alert.condition} $${alert.targetPrice}`;
                } else if (alert.type === 'technical') {
                    message = `${alert.symbol} ${alert.indicator} ${alert.condition}`;
                } else if (alert.type === 'volume') {
                    message = `${alert.symbol} volume spike ${alert.multiplier}x above average`;
                }

                item.innerHTML = `
                    <div><strong>${alert.symbol} Alert Triggered</strong></div>
                    <div>${message}</div>
                    <div class="alert-history-time">${new Date(alert.timestamp).toLocaleString()}</div>
                `;
                historyDiv.appendChild(item);
            });
        }

        // Alert Creation Functions
        function addPriceAlert() {
            document.getElementById('priceAlertModal').style.display = 'block';
        }

        function closePriceAlertModal() {
            document.getElementById('priceAlertModal').style.display = 'none';
        }

        function addTechnicalAlert() {
            updateTechnicalCondition();
            document.getElementById('technicalAlertModal').style.display = 'block';
        }

        function closeTechnicalAlertModal() {
            document.getElementById('technicalAlertModal').style.display = 'none';
        }

        function addVolumeAlert() {
            document.getElementById('volumeAlertModal').style.display = 'block';
        }

        function closeVolumeAlertModal() {
            document.getElementById('volumeAlertModal').style.display = 'none';
        }

        function updateTechnicalCondition() {
            const indicator = document.getElementById('technicalIndicator').value;
            const conditionSelect = document.getElementById('technicalCondition');

            conditionSelect.innerHTML = '';

            const conditions = {
                'rsi': [
                    {value: 'above_70', text: 'RSI goes above 70 (Overbought)'},
                    {value: 'below_30', text: 'RSI goes below 30 (Oversold)'},
                    {value: 'above_80', text: 'RSI goes above 80 (Extremely Overbought)'},
                    {value: 'below_20', text: 'RSI goes below 20 (Extremely Oversold)'}
                ],
                'macd': [
                    {value: 'bullish_crossover', text: 'MACD bullish crossover (Signal > MACD)'},
                    {value: 'bearish_crossover', text: 'MACD bearish crossover (Signal < MACD)'},
                    {value: 'histogram_positive', text: 'MACD histogram becomes positive'},
                    {value: 'histogram_negative', text: 'MACD histogram becomes negative'}
                ],
                'bollinger': [
                    {value: 'upper_breakout', text: 'Price breaks above upper Bollinger Band'},
                    {value: 'lower_breakout', text: 'Price breaks below lower Bollinger Band'},
                    {value: 'squeeze', text: 'Bollinger Bands squeeze (low volatility)'},
                    {value: 'expansion', text: 'Bollinger Bands expansion (high volatility)'}
                ],
                'moving_average': [
                    {value: 'golden_cross', text: 'Golden Cross (20MA > 50MA)'},
                    {value: 'death_cross', text: 'Death Cross (20MA < 50MA)'},
                    {value: 'ma_breakout', text: 'Price breaks above 200MA'},
                    {value: 'ma_breakdown', text: 'Price breaks below 200MA'}
                ]
            };

            (conditions[indicator] || []).forEach(condition => {
                const option = document.createElement('option');
                option.value = condition.value;
                option.textContent = condition.text;
                conditionSelect.appendChild(option);
            });
        }

        // Alert Management Functions
        function toggleAlert(alertId) {
            const alert = activeAlerts.find(a => a.id === alertId);
            if (alert) {
                alert.status = alert.status === 'active' ? 'paused' : 'active';
                localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
                renderAlertsTable();
                updateAlertsSummary();
                showToast(`Alert ${alert.status === 'active' ? 'activated' : 'paused'}`, 'success');
            }
        }

        function deleteAlert(alertId) {
            if (confirm('Are you sure you want to delete this alert?')) {
                activeAlerts = activeAlerts.filter(a => a.id !== alertId);
                localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
                renderAlertsTable();
                updateAlertsSummary();
                showToast('Alert deleted', 'success');
            }
        }

        // Alert Monitoring
        function startAlertMonitoring() {
            // Check alerts every 30 seconds
            setInterval(checkAlerts, 30000);

            // Initial check
            setTimeout(checkAlerts, 5000);
        }

        async function checkAlerts() {
            if (activeAlerts.length === 0) return;

            for (const alert of activeAlerts) {
                if (alert.status !== 'active') continue;

                let triggered = false;
                let triggerMessage = '';

                if (alert.type === 'price') {
                    const currentPrice = await getCurrentPrice(alert.symbol);
                    if (alert.condition === 'above' && currentPrice > alert.targetPrice) {
                        triggered = true;
                        triggerMessage = `${alert.symbol} price went above $${alert.targetPrice}`;
                    } else if (alert.condition === 'below' && currentPrice < alert.targetPrice) {
                        triggered = true;
                        triggerMessage = `${alert.symbol} price went below $${alert.targetPrice}`;
                    }
                }

                if (triggered) {
                    // Add to history
                    const historyItem = {
                        id: alert.id,
                        type: alert.type,
                        symbol: alert.symbol,
                        condition: alert.condition,
                        targetPrice: alert.targetPrice,
                        message: triggerMessage,
                        timestamp: new Date().toISOString(),
                        triggered: true
                    };

                    alertHistory.push(historyItem);
                    alert.lastTrigger = new Date().toISOString();
                    alert.status = 'triggered'; // Auto-pause after trigger

                    // Show notification
                    showAlertNotification(triggerMessage);

                    localStorage.setItem('squashplot_alert_history', JSON.stringify(alertHistory));
                    localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));

                    renderAlertsTable();
                    renderAlertHistory();
                    updateAlertsSummary();
                }
            }
        }

        function showAlertNotification(message) {
            // Browser notification
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('SquashPlot Alert', {
                    body: message,
                    icon: '/favicon.ico'
                });
            } else if ('Notification' in window && Notification.permission !== 'denied') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        new Notification('SquashPlot Alert', {
                            body: message,
                            icon: '/favicon.ico'
                        });
                    }
                });
            }

            // Show in-app notification
            showToast(message, 'warning');
        }

        // Form Handlers
        document.getElementById('priceAlertForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const alert = {
                id: 'price-' + Date.now(),
                type: 'price',
                symbol: document.getElementById('priceAlertSymbol').value,
                condition: document.getElementById('priceCondition').value,
                targetPrice: parseFloat(document.getElementById('priceTarget').value),
                notification: document.getElementById('priceNotification').value,
                status: 'active',
                created: new Date().toISOString(),
                lastTrigger: null
            };

            activeAlerts.push(alert);
            localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
            renderAlertsTable();
            updateAlertsSummary();
            closePriceAlertModal();
            showToast('Price alert created', 'success');
        });

        document.getElementById('technicalAlertForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const alert = {
                id: 'technical-' + Date.now(),
                type: 'technical',
                symbol: document.getElementById('technicalAlertSymbol').value,
                indicator: document.getElementById('technicalIndicator').value,
                condition: document.getElementById('technicalCondition').value,
                notification: document.getElementById('technicalNotification').value,
                status: 'active',
                created: new Date().toISOString(),
                lastTrigger: null
            };

            activeAlerts.push(alert);
            localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
            renderAlertsTable();
            updateAlertsSummary();
            closeTechnicalAlertModal();
            showToast('Technical alert created', 'success');
        });

        document.getElementById('volumeAlertForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const alert = {
                id: 'volume-' + Date.now(),
                type: 'volume',
                symbol: document.getElementById('volumeAlertSymbol').value,
                condition: document.getElementById('volumeCondition').value,
                multiplier: parseFloat(document.getElementById('volumeMultiplier').value),
                notification: document.getElementById('volumeNotification').value,
                status: 'active',
                created: new Date().toISOString(),
                lastTrigger: null
            };

            activeAlerts.push(alert);
            localStorage.setItem('squashplot_alerts', JSON.stringify(activeAlerts));
            renderAlertsTable();
            updateAlertsSummary();
            closeVolumeAlertModal();
            showToast('Volume alert created', 'success');
        });

        // Initialize technical conditions on load
        document.addEventListener('DOMContentLoaded', function() {
            updateTechnicalCondition();
        });

        // News & Sentiment Analysis Functions
        let newsArticles = [];
        let sentimentChart = null;

        function initializeNews() {
            loadNewsData();
            updateSentimentOverview();
            renderSentimentChart();
            renderTrendingAssets();
            startNewsRefresh();
        }

        function loadNewsData() {
            // Simulate news data (in production, this would fetch from APIs)
            newsArticles = [
                {
                    id: 1,
                    title: "Bitcoin Surges Past $60,000 as Institutional Adoption Accelerates",
                    summary: "Major financial institutions continue to adopt Bitcoin as a reserve asset, driving prices to new all-time highs. Analysts predict further upside as traditional finance embraces cryptocurrency.",
                    source: "CryptoNews",
                    sentiment: "positive",
                    score: 0.85,
                    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
                    tags: ["bitcoin", "institutional", "adoption"],
                    url: "#"
                },
                {
                    id: 2,
                    title: "Ethereum Gas Fees Spike 300% Amid DeFi Protocol Migration",
                    summary: "Network congestion has caused gas fees to reach unprecedented levels as users migrate between DeFi protocols. Layer 2 solutions see increased adoption but scalability concerns persist.",
                    source: "BlockChain Today",
                    sentiment: "negative",
                    score: -0.72,
                    timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000), // 4 hours ago
                    tags: ["ethereum", "gas", "defi"],
                    url: "#"
                },
                {
                    id: 3,
                    title: "Chia Network Announces Major Farming Efficiency Update",
                    summary: "Chia developers release new farming optimizations that promise 25% improvement in plot efficiency. Community response is overwhelmingly positive with immediate network adoption.",
                    source: "Chia Network",
                    sentiment: "positive",
                    score: 0.91,
                    timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000), // 6 hours ago
                    tags: ["chia", "farming", "efficiency"],
                    url: "#"
                },
                {
                    id: 4,
                    title: "SEC Announces New Crypto Regulatory Framework",
                    summary: "The Securities and Exchange Commission outlines comprehensive new regulations for cryptocurrency exchanges and token offerings. Industry leaders express mixed reactions.",
                    source: "Financial Times",
                    sentiment: "neutral",
                    score: 0.05,
                    timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000), // 8 hours ago
                    tags: ["regulation", "sec", "policy"],
                    url: "#"
                },
                {
                    id: 5,
                    title: "Solana Outage Affects Thousands of dApps for 8 Hours",
                    summary: "A major network outage on Solana has disrupted decentralized applications and led to significant user frustration. Network validators work to resolve the underlying issues.",
                    source: "TechCrunch",
                    sentiment: "negative",
                    score: -0.88,
                    timestamp: new Date(Date.now() - 10 * 60 * 60 * 1000), // 10 hours ago
                    tags: ["solana", "outage", "network"],
                    url: "#"
                },
                {
                    id: 6,
                    title: "Cardano Smart Contracts See Record Adoption",
                    summary: "Cardano's smart contract platform continues to gain traction with developers and users. The network has seen exponential growth in dApp deployments over the past quarter.",
                    source: "CoinDesk",
                    sentiment: "positive",
                    score: 0.76,
                    timestamp: new Date(Date.now() - 12 * 60 * 60 * 1000), // 12 hours ago
                    tags: ["cardano", "smart contracts", "adoption"],
                    url: "#"
                },
                {
                    id: 7,
                    title: "Polkadot Parachain Auctions Reach New Participation Records",
                    summary: "Polkadot's parachain auction system continues to attract significant interest from projects. The latest auction saw record participation and bidding activity.",
                    source: "Polkadot News",
                    sentiment: "positive",
                    score: 0.68,
                    timestamp: new Date(Date.now() - 14 * 60 * 60 * 1000), // 14 hours ago
                    tags: ["polkadot", "parachains", "auctions"],
                    url: "#"
                },
                {
                    id: 8,
                    title: "Chainlink Price Volatile Amid Oracle Network Expansion",
                    summary: "Chainlink experiences significant price movement as the network expands its oracle services. Market participants remain divided on the long-term outlook.",
                    source: "Crypto Market Watch",
                    sentiment: "neutral",
                    score: -0.12,
                    timestamp: new Date(Date.now() - 16 * 60 * 60 * 1000), // 16 hours ago
                    tags: ["chainlink", "oracles", "expansion"],
                    url: "#"
                }
            ];

            renderNewsFeed();
        }

        function updateSentimentOverview() {
            const positiveArticles = newsArticles.filter(a => a.sentiment === 'positive').length;
            const negativeArticles = newsArticles.filter(a => a.sentiment === 'negative').length;
            const totalArticles = newsArticles.length;

            const overallSentiment = Math.round(((positiveArticles - negativeArticles) / totalArticles) * 100);

            // Update sentiment metrics
            document.getElementById('overallSentiment').innerHTML = `
                <span class="sentiment-value">${Math.abs(overallSentiment)}%</span>
                <span class="sentiment-trend ${overallSentiment >= 0 ? 'positive' : ''}">${overallSentiment >= 0 ? 'â†—ï¸ Bullish' : 'â†˜ï¸ Bearish'}</span>
            `;

            // Simulate Fear & Greed Index
            const fearGreed = Math.round(30 + Math.random() * 50);
            document.getElementById('fearGreedIndex').innerHTML = `
                <span class="sentiment-value">${fearGreed}</span>
                <span class="sentiment-trend greed">${fearGreed > 60 ? 'Greed' : fearGreed > 40 ? 'Neutral' : 'Fear'}</span>
            `;

            document.getElementById('newsCount').innerHTML = `
                <span class="sentiment-value">${totalArticles}</span>
                <span class="sentiment-trend">+${Math.round(Math.random() * 20)}%</span>
            `;

            document.getElementById('socialBuzz').innerHTML = `
                <span class="sentiment-value">${(5 + Math.random() * 10).toFixed(1)}k</span>
                <span class="sentiment-trend positive">â†—ï¸ High</span>
            `;
        }

        function renderNewsFeed(filter = 'all') {
            const container = document.getElementById('newsContainer');
            container.innerHTML = '';

            let filteredArticles = newsArticles;

            if (filter !== 'all') {
                if (['positive', 'negative', 'neutral'].includes(filter)) {
                    filteredArticles = newsArticles.filter(a => a.sentiment === filter);
                } else {
                    // Filter by asset
                    filteredArticles = newsArticles.filter(a => a.tags.includes(filter.toLowerCase()));
                }
            }

            if (filteredArticles.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-secondary);">No news articles match the selected filter</div>';
                return;
            }

            filteredArticles.forEach(article => {
                const articleDiv = document.createElement('div');
                articleDiv.className = `news-item ${article.sentiment}`;
                articleDiv.onclick = () => window.open(article.url, '_blank');

                const timeAgo = getTimeAgo(article.timestamp);

                articleDiv.innerHTML = `
                    <div class="news-header">
                        <h4 class="news-title">${article.title}</h4>
                        <div class="news-meta">
                            <span class="news-source">${article.source}</span>
                            <span class="news-time">${timeAgo}</span>
                            <span class="news-sentiment ${article.sentiment}">${article.sentiment.charAt(0).toUpperCase() + article.sentiment.slice(1)}</span>
                        </div>
                    </div>
                    <p class="news-summary">${article.summary}</p>
                `;

                container.appendChild(articleDiv);
            });
        }

        function filterNews() {
            const filter = document.getElementById('newsFilter').value;
            renderNewsFeed(filter);
        }

        function renderSentimentChart() {
            const ctx = document.getElementById('sentimentChart');
            if (sentimentChart) {
                sentimentChart.destroy();
            }

            // Generate sentiment trend data (last 7 days)
            const labels = [];
            const positiveData = [];
            const negativeData = [];
            const neutralData = [];

            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));

                // Simulate sentiment trends
                positiveData.push(40 + Math.random() * 30);
                negativeData.push(20 + Math.random() * 25);
                neutralData.push(15 + Math.random() * 20);
            }

            sentimentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Positive Sentiment',
                        data: positiveData,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Negative Sentiment',
                        data: negativeData,
                        borderColor: 'rgba(239, 68, 68, 1)',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Neutral Sentiment',
                        data: neutralData,
                        borderColor: 'rgba(156, 163, 175, 1)',
                        backgroundColor: 'rgba(156, 163, 175, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    }
                }
            });
        }

        function renderTrendingAssets() {
            const trendingList = document.getElementById('trendingList');

            // Simulate trending assets based on news mentions
            const trendingAssets = [
                { symbol: 'BTC', name: 'Bitcoin', score: 95, rank: 1 },
                { symbol: 'ETH', name: 'Ethereum', score: 87, rank: 2 },
                { symbol: 'XCH', name: 'Chia', score: 82, rank: 3 },
                { symbol: 'SOL', name: 'Solana', score: 76, rank: 0 },
                { symbol: 'ADA', name: 'Cardano', score: 71, rank: 0 },
                { symbol: 'DOT', name: 'Polkadot', score: 68, rank: 0 },
                { symbol: 'LINK', name: 'Chainlink', score: 65, rank: 0 }
            ];

            trendingList.innerHTML = '';

            trendingAssets.forEach(asset => {
                const item = document.createElement('div');
                item.className = `trending-item rank-${asset.rank}`;

                item.innerHTML = `
                    <div>
                        <span class="trending-symbol">${asset.symbol}</span>
                        <span class="trending-name">${asset.name}</span>
                    </div>
                    <span class="trending-score">${asset.score}</span>
                `;

                trendingList.appendChild(item);
            });
        }

        function getTimeAgo(timestamp) {
            const now = new Date();
            const diff = now - timestamp;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor(diff / (1000 * 60));

            if (hours > 0) {
                return `${hours}h ago`;
            } else if (minutes > 0) {
                return `${minutes}m ago`;
            } else {
                return 'Just now';
            }
        }

        function startNewsRefresh() {
            // Refresh news data every 5 minutes
            setInterval(() => {
                updateSentimentOverview();
                // In production, this would fetch new articles
            }, 5 * 60 * 1000);
        }

        // Initialize news when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeNews();
            initializeAIVisuals();
        });

        // AI Visuals Functions
        let aiNodesChart = null;
        let aiPerformanceChart = null;
        let aiResourceChart = null;

        function initializeAIVisuals() {
            loadAINodesData();
            loadAIPerformanceData();
            loadAIWorkflowData();
            loadAIResourceData();
            loadAIModelData();
            loadAIInsightsData();

            // Update AI data every 30 seconds
            setInterval(() => {
                loadAINodesData();
                loadAIPerformanceData();
                loadAIWorkflowData();
                loadAIResourceData();
            }, 30000);
        }

        async function loadAINodesData() {
            try {
                const response = await fetch('/api/ai-nodes');
                const data = await response.json();

                document.getElementById('total-nodes').textContent = data.total_nodes;
                renderNodeNetwork(data.nodes);
            } catch (error) {
                console.error('Failed to load AI nodes data:', error);
            }
        }

        function renderNodeNetwork(nodes) {
            const container = document.getElementById('nodeNetwork');
            container.innerHTML = '';

            nodes.forEach(node => {
                const nodeElement = document.createElement('div');
                nodeElement.className = `node-circle ${node.type} ${node.status}`;
                nodeElement.style.left = `${Math.random() * 80 + 10}%`;
                nodeElement.style.top = `${Math.random() * 80 + 10}%`;
                nodeElement.style.width = `${Math.max(30, node.cpu_usage)}px`;
                nodeElement.style.height = `${Math.max(30, node.cpu_usage)}px`;
                nodeElement.title = `${node.id} - ${node.type} (${node.status})`;
                nodeElement.textContent = node.id.split('-')[1];

                nodeElement.addEventListener('click', () => showNodeDetails(node));

                container.appendChild(nodeElement);
            });
        }

        function showNodeDetails(node) {
            const details = `
                Node ID: ${node.id}
                Type: ${node.type}
                Status: ${node.status}
                CPU Usage: ${node.cpu_usage.toFixed(1)}%
                Memory Usage: ${node.memory_usage.toFixed(1)}%
                Tasks Completed: ${node.tasks_completed}
                Uptime: ${node.uptime_hours.toFixed(1)} hours
                Connections: ${node.connections}
            `;
            alert(details);
        }

        async function loadAIPerformanceData() {
            try {
                const response = await fetch('/api/ai-performance');
                const data = await response.json();

                renderAIPerformanceChart(data.performance_history);
                updatePerformanceMetrics(data.current_metrics);
            } catch (error) {
                console.error('Failed to load AI performance data:', error);
            }
        }

        function renderAIPerformanceChart(performanceData) {
            const ctx = document.getElementById('aiPerformanceChart');
            if (aiPerformanceChart) {
                aiPerformanceChart.destroy();
            }

            const labels = performanceData.map(p => new Date(p.timestamp).toLocaleTimeString());
            const latencyData = performanceData.map(p => p.inference_latency);
            const throughputData = performanceData.map(p => p.throughput);
            const accuracyData = performanceData.map(p => p.accuracy);

            aiPerformanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Inference Latency (ms)',
                        data: latencyData,
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y'
                    }, {
                        label: 'Throughput (req/sec)',
                        data: throughputData,
                        borderColor: 'rgba(16, 185, 129, 1)',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y1'
                    }, {
                        label: 'Accuracy (%)',
                        data: accuracyData,
                        borderColor: 'rgba(245, 158, 11, 1)',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Latency / Accuracy'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Throughput'
                            },
                            grid: {
                                drawOnChartArea: false,
                            }
                        }
                    }
                }
            });
        }

        function updatePerformanceMetrics(metrics) {
            console.log('Performance metrics updated:', metrics);
        }

        async function loadAIWorkflowData() {
            try {
                const response = await fetch('/api/ai-workflows');
                const data = await response.json();

                renderWorkflowStatus(data.workflows);
            } catch (error) {
                console.error('Failed to load AI workflow data:', error);
            }
        }

        function renderWorkflowStatus(workflows) {
            const container = document.getElementById('workflowStatus');

            const recentWorkflows = workflows.slice(0, 6);

            container.innerHTML = recentWorkflows.map(workflow => `
                <div class="workflow-item ${workflow.status}">
                    <div class="workflow-info">
                        <h4>${workflow.name}</h4>
                        <div class="workflow-meta">${workflow.type} â€¢ ${new Date(workflow.created_at).toLocaleString()}</div>
                        ${workflow.status === 'running' || workflow.status === 'completed' ? `
                            <div class="workflow-progress">
                                <div class="workflow-progress-bar" style="width: ${workflow.progress}%"></div>
                            </div>
                        ` : ''}
                    </div>
                    <span style="color: ${workflow.status === 'completed' ? 'var(--success-color)' : workflow.status === 'running' ? 'var(--warning-color)' : 'var(--danger-color)'}">
                        ${workflow.status.charAt(0).toUpperCase() + workflow.status.slice(1)}
                    </span>
                </div>
            `).join('');
        }

        async function loadAIResourceData() {
            try {
                const response = await fetch('/api/metrics');
                const data = await response.json();

                renderResourceChart(data);
            } catch (error) {
                console.error('Failed to load AI resource data:', error);
            }
        }

        function renderResourceChart(metricsData) {
            const ctx = document.getElementById('resourceChart');
            if (aiResourceChart) {
                aiResourceChart.destroy();
            }

            aiResourceChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['AI Memory', 'AI CPU', 'Network Load', 'Storage'],
                    datasets: [{
                        data: [
                            metricsData.ai_engine.memory_used,
                            metricsData.ai_engine.active_models * 2,
                            metricsData.network.active_connections,
                            75 // Mock storage usage
                        ],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        async function loadAIModelData() {
            try {
                const response = await fetch('/api/ai-performance');
                const data = await response.json();

                renderModelStatus(data.model_stats);
            } catch (error) {
                console.error('Failed to load AI model data:', error);
            }
        }

        function renderModelStatus(modelStats) {
            const container = document.getElementById('modelStatus');

            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--primary-color);">${modelStats.total_models}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Total Models</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--success-color);">${modelStats.active_models}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Active Models</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--warning-color);">${modelStats.training_models}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Training</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--danger-color);">${modelStats.deprecated_models}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Deprecated</div>
                    </div>
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px;">
                    <h4 style="color: var(--primary-color); margin-bottom: 10px;">Model Health Overview</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">
                        <div style="text-align: center;">
                            <div style="font-size: 1.2rem; font-weight: 600; color: var(--success-color);">98.5%</div>
                            <div style="color: var(--text-secondary); font-size: 0.8rem;">Avg Accuracy</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.2rem; font-weight: 600; color: var(--warning-color);">2.1ms</div>
                            <div style="color: var(--text-secondary); font-size: 0.8rem;">Avg Latency</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.2rem; font-weight: 600; color: var(--primary-color);">156</div>
                            <div style="color: var(--text-secondary); font-size: 0.8rem;">Req/Sec</div>
                        </div>
                    </div>
                </div>
            `;
        }

        async function loadAIInsightsData() {
            try {
                const response = await fetch('/api/ai-performance');
                const data = await response.json();

                renderAIInsights(data);
            } catch (error) {
                console.error('Failed to load AI insights data:', error);
            }
        }

        function renderAIInsights(data) {
            const container = document.getElementById('aiInsights');

            const insights = [
                {
                    title: 'Inference Performance',
                    value: `${data.current_metrics.avg_latency.toFixed(2)}ms`,
                    description: 'Average response time across all models',
                    type: 'success'
                },
                {
                    title: 'Model Throughput',
                    value: `${data.current_metrics.avg_throughput.toFixed(1)} req/sec`,
                    description: 'Requests processed per second',
                    type: 'success'
                },
                {
                    title: 'Memory Peak Usage',
                    value: `${data.current_metrics.peak_memory.toFixed(1)}GB`,
                    description: 'Maximum memory consumption',
                    type: 'warning'
                },
                {
                    title: 'Total Requests',
                    value: `${(data.current_metrics.total_requests / 1000).toFixed(1)}K`,
                    description: 'Requests in last hour',
                    type: 'success'
                },
                {
                    title: 'Active Workflows',
                    value: '12',
                    description: 'Currently running AI processes',
                    type: 'warning'
                },
                {
                    title: 'Network Load',
                    value: '67%',
                    description: 'Current AI network utilization',
                    type: 'success'
                }
            ];

            container.innerHTML = insights.map(insight => `
                <div class="insight-card ${insight.type}">
                    <div class="insight-title">${insight.title}</div>
                    <div class="insight-value">${insight.value}</div>
                    <div class="insight-description">${insight.description}</div>
                </div>
            `).join('');
        }
    </script>

    <!-- Add Holding Modal -->
    <div id="addHoldingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3>Add Portfolio Holding</h3>
            <form id="holdingForm">
                <div class="form-group">
                    <label for="assetSymbol">Asset Symbol</label>
                    <select id="assetSymbol" required>
                        <option value="XCH">Chia (XCH)</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="ETH">Ethereum (ETH)</option>
                        <option value="SOL">Solana (SOL)</option>
                        <option value="ADA">Cardano (ADA)</option>
                        <option value="DOT">Polkadot (DOT)</option>
                        <option value="LINK">Chainlink (LINK)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="quantity">Quantity</label>
                    <input type="number" id="quantity" step="any" min="0" required>
                </div>
                <div class="form-group">
                    <label for="avgPrice">Average Purchase Price (USD)</label>
                    <input type="number" id="avgPrice" step="any" min="0" required>
                </div>
                <div class="form-group">
                    <label for="purchaseDate">Purchase Date</label>
                    <input type="date" id="purchaseDate" required>
                </div>
                <button type="submit" class="btn btn-primary">Add Holding</button>
            </form>
        </div>
    </div>

    <!-- Price Alert Modal -->
    <div id="priceAlertModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePriceAlertModal()">&times;</span>
            <h3>Create Price Alert</h3>
            <form id="priceAlertForm">
                <div class="form-group">
                    <label for="priceAlertSymbol">Asset Symbol</label>
                    <select id="priceAlertSymbol" required>
                        <option value="XCH">Chia (XCH)</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="ETH">Ethereum (ETH)</option>
                        <option value="SOL">Solana (SOL)</option>
                        <option value="ADA">Cardano (ADA)</option>
                        <option value="DOT">Polkadot (DOT)</option>
                        <option value="LINK">Chainlink (LINK)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="priceCondition">Condition</label>
                    <select id="priceCondition" required>
                        <option value="above">Price goes above</option>
                        <option value="below">Price goes below</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="priceTarget">Target Price (USD)</label>
                    <input type="number" id="priceTarget" step="any" min="0" required>
                </div>
                <div class="form-group">
                    <label for="priceNotification">Notification Method</label>
                    <select id="priceNotification">
                        <option value="browser">Browser Notification</option>
                        <option value="email">Email (Future)</option>
                        <option value="sms">SMS (Future)</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Create Price Alert</button>
            </form>
        </div>
    </div>

    <!-- Technical Alert Modal -->
    <div id="technicalAlertModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTechnicalAlertModal()">&times;</span>
            <h3>Create Technical Alert</h3>
            <form id="technicalAlertForm">
                <div class="form-group">
                    <label for="technicalAlertSymbol">Asset Symbol</label>
                    <select id="technicalAlertSymbol" required>
                        <option value="XCH">Chia (XCH)</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="ETH">Ethereum (ETH)</option>
                        <option value="SOL">Solana (SOL)</option>
                        <option value="ADA">Cardano (ADA)</option>
                        <option value="DOT">Polkadot (DOT)</option>
                        <option value="LINK">Chainlink (LINK)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="technicalIndicator">Technical Indicator</label>
                    <select id="technicalIndicator" required onchange="updateTechnicalCondition()">
                        <option value="rsi">RSI (Relative Strength Index)</option>
                        <option value="macd">MACD Crossover</option>
                        <option value="bollinger">Bollinger Band Breakout</option>
                        <option value="moving_average">Moving Average Crossover</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="technicalCondition">Condition</label>
                    <select id="technicalCondition" required>
                        <!-- Options will be populated based on selected indicator -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="technicalNotification">Notification Method</label>
                    <select id="technicalNotification">
                        <option value="browser">Browser Notification</option>
                        <option value="email">Email (Future)</option>
                        <option value="sms">SMS (Future)</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Create Technical Alert</button>
            </form>
        </div>
    </div>

    <!-- Volume Alert Modal -->
    <div id="volumeAlertModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVolumeAlertModal()">&times;</span>
            <h3>Create Volume Alert</h3>
            <form id="volumeAlertForm">
                <div class="form-group">
                    <label for="volumeAlertSymbol">Asset Symbol</label>
                    <select id="volumeAlertSymbol" required>
                        <option value="XCH">Chia (XCH)</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="ETH">Ethereum (ETH)</option>
                        <option value="SOL">Solana (SOL)</option>
                        <option value="ADA">Cardano (ADA)</option>
                        <option value="DOT">Polkadot (DOT)</option>
                        <option value="LINK">Chainlink (LINK)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="volumeCondition">Condition</label>
                    <select id="volumeCondition" required>
                        <option value="spike">Volume spikes above</option>
                        <option value="drop">Volume drops below</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="volumeMultiplier">Volume Multiplier (vs 24h average)</label>
                    <input type="number" id="volumeMultiplier" step="0.1" min="1" value="2" required>
                </div>
                <div class="form-group">
                    <label for="volumeNotification">Notification Method</label>
                    <select id="volumeNotification">
                        <option value="browser">Browser Notification</option>
                        <option value="email">Email (Future)</option>
                        <option value="sms">SMS (Future)</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Create Volume Alert</button>
            </form>
        </div>
    </div>
</body>
</html>
